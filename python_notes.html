<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ Python Basics ‚Üí AI/ML ‚Üí Cybersecurity | Complete Study Hub</title>
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .main-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: #1e3c72;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 20px;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            font-size: 0.9rem;
            color: #777;
        }

        /* Navigation Styles */
        nav {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .nav-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .track-nav {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #1e3c72;
        }

        .track-title {
            font-weight: 600;
            color: #1e3c72;
            margin-bottom: 10px;
        }

        .track-links {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .track-links a {
            background: #e3f2fd;
            color: #1565c0;
            padding: 4px 8px;
            text-decoration: none;
            border-radius: 6px;
            font-size: 0.85rem;
            transition: all 0.2s ease;
        }

        .track-links a:hover,
        .track-links a:focus {
            background: #1565c0;
            color: white;
            outline: 2px solid #1565c0;
            outline-offset: 2px;
        }

        /* Main Content Layout */
        main {
            display: grid;
            gap: 30px;
        }

        .track-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .track-header {
            font-size: 2rem;
            font-weight: 700;
            color: #1e3c72;
            margin-bottom: 20px;
            border-bottom: 3px solid #1e3c72;
            padding-bottom: 10px;
        }

        /* Subject Cards */
        .subjects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .subject-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .subject-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
        }

        .subject-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #1e3c72;
            margin-bottom: 15px;
        }

        /* Details/Summary Styling */
        details {
            margin-bottom: 15px;
        }

        summary {
            cursor: pointer;
            font-weight: 600;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #1e3c72;
            transition: background 0.2s ease;
        }

        summary:hover,
        summary:focus {
            background: #e9ecef;
            outline: 2px solid #1e3c72;
            outline-offset: 2px;
        }

        .block {
            padding: 15px;
            margin-top: 10px;
            background: #fafafa;
            border-radius: 8px;
        }

        .block h4 {
            color: #1e3c72;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .block p, .block ul {
            margin-bottom: 10px;
        }

        .block ul {
            padding-left: 20px;
        }

        .block li {
            margin-bottom: 5px;
        }

        /* Code Styling */
        pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 10px 0;
            font-size: 0.9rem;
        }

        code {
            font-family: 'Consolas', 'Monaco', monospace;
        }

        .inline-code {
            background: #e2e8f0;
            color: #2d3748;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9rem;
        }

        /* Warning and Success Styles */
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
        }

        .success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
        }

        /* Checklist Styles */
        .checklist {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .checklist h3 {
            color: #1e3c72;
            margin-bottom: 15px;
        }

        .checklist-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 5px;
        }

        .checklist-item input[type="checkbox"] {
            transform: scale(1.2);
        }

        /* Glossary Styles */
        .glossary {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
        }

        .glossary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }

        .glossary-term {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #1e3c72;
        }

        .glossary-term strong {
            color: #1e3c72;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-title {
                font-size: 2rem;
            }

            .subjects-grid {
                grid-template-columns: 1fr;
            }

            .nav-grid {
                grid-template-columns: 1fr;
            }

            .legend {
                flex-direction: column;
                gap: 10px;
            }
        }

        /* Focus and Accessibility */
        :focus {
            outline: 2px solid #1e3c72;
            outline-offset: 2px;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1 class="main-title">üöÄ Python Basics ‚Üí AI/ML ‚Üí Cybersecurity | Complete Study Hub (English)</h1>
            <p class="subtitle">All subjects across 7 tracks ‚Äî Notes, Examples, Why/Where/How in one place</p>
            <div class="legend">
                <span>üìò Notes</span>
                <span>üß™ Examples</span>
                <span>‚ùì Why/Where</span>
                <span>‚úÖ Best Practices</span>
                <span>‚ö†Ô∏è Don'ts</span>
            </div>
        </header>

        <nav>
            <div class="nav-grid">
                <div class="track-nav">
                    <div class="track-title">Track 1: Python Basics</div>
                    <div class="track-links">
                        <a href="#variables">Variables</a>
                        <a href="#operators">Operators</a>
                        <a href="#control-flow">Control Flow</a>
                        <a href="#loops">Loops</a>
                        <a href="#data-structures">Data Structures</a>
                        <a href="#functions">Functions</a>
                        <a href="#modules">Modules</a>
                        <a href="#strings">Strings</a>
                        <a href="#files">Files</a>
                        <a href="#exceptions">Exceptions</a>
                        <a href="#oop">OOP</a>
                        <a href="#venv">Virtual Env</a>
                    </div>
                </div>
                <div class="track-nav">
                    <div class="track-title">Track 2: AI/ML Fundamentals</div>
                    <div class="track-links">
                        <a href="#numpy">NumPy</a>
                        <a href="#pandas">Pandas</a>
                        <a href="#data-cleaning">Data Cleaning</a>
                        <a href="#visualization">Visualization</a>
                        <a href="#ml-pipeline">ML Pipeline</a>
                        <a href="#regression">Regression</a>
                        <a href="#classification">Classification</a>
                        <a href="#clustering">Clustering</a>
                        <a href="#metrics">Metrics</a>
                        <a href="#feature-eng">Features</a>
                        <a href="#model-persistence">Persistence</a>
                    </div>
                </div>
                <div class="track-nav">
                    <div class="track-title">Track 3: Cybersecurity Fundamentals</div>
                    <div class="track-links">
                        <a href="#networking">Networking</a>
                        <a href="#os-linux">OS & Linux</a>
                        <a href="#cryptography">Cryptography</a>
                        <a href="#web-security">Web Security</a>
                        <a href="#owasp">OWASP Top 10</a>
                        <a href="#threats">Threats</a>
                        <a href="#secure-coding">Secure Coding</a>
                        <a href="#logging">Logging</a>
                    </div>
                </div>
                <div class="track-nav">
                    <div class="track-title">Track 4: Python for Cybersecurity</div>
                    <div class="track-links">
                        <a href="#network-scanning">Network Scanning</a>
                        <a href="#packet-capture">Packet Capture</a>
                        <a href="#web-requests">Web Requests</a>
                        <a href="#log-analysis">Log Analysis</a>
                        <a href="#crypto-utils">Crypto Utils</a>
                        <a href="#cli-utils">CLI Utils</a>
                        <a href="#reporting">Reporting</a>
                    </div>
                </div>
                <div class="track-nav">
                    <div class="track-title">Track 5: Deep Learning & Projects</div>
                    <div class="track-links">
                        <a href="#neural-networks">Neural Networks</a>
                        <a href="#regularization">Regularization</a>
                        <a href="#nlp-basics">NLP Basics</a>
                        <a href="#cv-basics">CV Basics</a>
                        <a href="#transfer-learning">Transfer Learning</a>
                        <a href="#model-deployment">Deployment</a>
                    </div>
                </div>
                <div class="track-nav">
                    <div class="track-title">Track 6: AI for Cybersecurity</div>
                    <div class="track-links">
                        <a href="#anomaly-detection">Anomaly Detection</a>
                        <a href="#phishing-detection">Phishing Detection</a>
                        <a href="#url-reputation">URL Reputation</a>
                        <a href="#malware-classification">Malware Classification</a>
                        <a href="#siem-pipeline">SIEM Pipeline</a>
                        <a href="#model-security">Model Security</a>
                    </div>
                </div>
                <div class="track-nav">
                    <div class="track-title">Track 7: Practice & Projects</div>
                    <div class="track-links">
                        <a href="#password-checker">Password Checker</a>
                        <a href="#port-scanner">Port Scanner</a>
                        <a href="#log-anomaly">Log Anomaly</a>
                        <a href="#spam-classifier">Spam Classifier</a>
                        <a href="#image-classifier">Image Classifier</a>
                        <a href="#threat-intel">Threat Intel</a>
                        <a href="#study-tracker">Study Tracker</a>
                    </div>
                </div>
            </div>
        </nav>

        <main>
            <!-- TRACK 1: Python Basics -->
            <section class="track-section" id="track1">
                <h2 class="track-header">Track 1: Python Basics (Foundation)</h2>
                
                <div class="subjects-grid">
                    <!-- Variables & Data Types -->
                    <article class="subject-card" id="variables">
                        <h3 class="subject-title">Variables & Data Types</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Variables are containers for storing data values. Python has four basic data types:</p>
                                <ul>
                                    <li><strong>int</strong>: Whole numbers (e.g., 42, -17)</li>
                                    <li><strong>float</strong>: Decimal numbers (e.g., 3.14, -0.5)</li>
                                    <li><strong>str</strong>: Text strings (e.g., "Hello", 'Python')</li>
                                    <li><strong>bool</strong>: True/False values</li>
                                </ul>
                                <p>Python uses dynamic typing - you don't need to declare variable types explicitly.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Variable assignments
name = "Alice"          # str
age = 25               # int
height = 5.6           # float
is_student = True      # bool

# Type checking
print(type(name))      # &lt;class 'str'&gt;
print(type(age))       # &lt;class 'int'&gt;

# Type conversion
age_str = str(age)     # "25"
height_int = int(height)  # 5</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>User registration system storing username (str), user ID (int), account balance (float), and premium status (bool).</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>Variables and data types form the foundation of all programming. They allow you to store, manipulate, and process different kinds of information efficiently. Proper type usage ensures data integrity and prevents runtime errors.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Web development (user data, session info)</li>
                                    <li>Data science (numerical analysis, text processing)</li>
                                    <li>Game development (scores, player stats)</li>
                                    <li>Financial systems (currency amounts, calculations)</li>
                                    <li>IoT devices (sensor readings, status flags)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Use descriptive variable names (user_age vs a)</li>
                                    <li>Follow snake_case naming convention</li>
                                    <li>Initialize variables before use</li>
                                    <li>Use type hints for clarity: <span class="inline-code">name: str = "Alice"</span></li>
                                    <li>Choose appropriate data types for your data</li>
                                    <li>Use constants for unchanging values: <span class="inline-code">PI = 3.14159</span></li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't use reserved keywords as variable names (if, for, class)</li>
                                        <li>Don't use single letters for important variables (except loop counters)</li>
                                        <li>Don't assume type without checking: <span class="inline-code">int("abc")</span> raises ValueError</li>
                                        <li>Don't mix data types carelessly: <span class="inline-code">"5" + 3</span> causes TypeError</li>
                                        <li>Don't use global variables excessively</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Operators -->
                    <article class="subject-card" id="operators">
                        <h3 class="subject-title">Operators (Arithmetic/Comparison/Logical)</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Operators perform operations on variables and values:</p>
                                <ul>
                                    <li><strong>Arithmetic</strong>: +, -, *, /, //, %, **</li>
                                    <li><strong>Comparison</strong>: ==, !=, &lt;, &gt;, &lt;=, &gt;=</li>
                                    <li><strong>Logical</strong>: and, or, not</li>
                                    <li><strong>Assignment</strong>: =, +=, -=, *=, /=</li>
                                    <li><strong>Identity</strong>: is, is not</li>
                                    <li><strong>Membership</strong>: in, not in</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Arithmetic operators
a, b = 10, 3
print(a + b)    # 13 (addition)
print(a // b)   # 3 (floor division)
print(a ** b)   # 1000 (exponentiation)
print(a % b)    # 1 (modulo)

# Comparison operators
print(a == b)   # False
print(a > b)    # True

# Logical operators
x, y = True, False
print(x and y)  # False
print(x or y)   # True
print(not x)    # False

# Membership operators
fruits = ["apple", "banana"]
print("apple" in fruits)  # True</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>E-commerce discount system: Check if user age >= 65 AND purchase amount > 100 to apply senior citizen discount.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>Operators enable mathematical calculations, data comparisons, logical decision-making, and data manipulation. They're essential for implementing business logic, algorithms, and data processing workflows.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Financial calculations (interest, taxes, commissions)</li>
                                    <li>Data filtering and sorting algorithms</li>
                                    <li>Game logic (score calculations, collision detection)</li>
                                    <li>Security systems (access control, authentication)</li>
                                    <li>Scientific computing (statistical analysis, simulations)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Use parentheses to clarify operator precedence</li>
                                    <li>Use <span class="inline-code">//</span> for integer division when you need whole numbers</li>
                                    <li>Use <span class="inline-code">is</span> for None comparisons: <span class="inline-code">if value is None</span></li>
                                    <li>Use <span class="inline-code">in</span> for membership testing instead of multiple OR conditions</li>
                                    <li>Combine assignment operators: <span class="inline-code">count += 1</span> instead of <span class="inline-code">count = count + 1</span></li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't use <span class="inline-code">==</span> to compare floats directly due to precision issues</li>
                                        <li>Don't use <span class="inline-code">==</span> for None: use <span class="inline-code">is None</span></li>
                                        <li>Don't chain comparisons carelessly: <span class="inline-code">a == b == c</span> might not work as expected</li>
                                        <li>Don't use logical operators with non-boolean values without understanding truthiness</li>
                                        <li>Don't ignore division by zero errors</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Control Flow -->
                    <article class="subject-card" id="control-flow">
                        <h3 class="subject-title">Control Flow (if/elif/else)</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Control flow statements allow programs to make decisions and execute different code blocks based on conditions:</p>
                                <ul>
                                    <li><strong>if</strong>: Execute code when condition is True</li>
                                    <li><strong>elif</strong>: Check additional conditions</li>
                                    <li><strong>else</strong>: Execute when all conditions are False</li>
                                </ul>
                                <p>Python uses indentation (4 spaces) to define code blocks. Conditions are evaluated as boolean expressions.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Basic if-elif-else structure
score = 85

if score >= 90:
    grade = "A"
    print("Excellent!")
elif score >= 80:
    grade = "B"
    print("Good job!")
elif score >= 70:
    grade = "C"
    print("Average")
else:
    grade = "F"
    print("Need improvement")

# Nested conditions
age = 25
has_license = True

if age >= 18:
    if has_license:
        print("Can drive")
    else:
        print("Need license")
else:
    print("Too young to drive")

# Ternary operator (inline if)
status = "adult" if age >= 18 else "minor"</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>ATM withdrawal system: Check account balance, daily limit, and card status before processing transaction.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>Control flow enables programs to make intelligent decisions, handle different scenarios, validate input, implement business rules, and create dynamic, responsive applications that react to changing conditions.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>User authentication (login validation)</li>
                                    <li>Form validation (input checking)</li>
                                    <li>Game mechanics (level progression, power-ups)</li>
                                    <li>Financial systems (loan approval, risk assessment)</li>
                                    <li>Medical software (diagnostic algorithms, treatment protocols)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Use consistent 4-space indentation</li>
                                    <li>Keep conditions simple and readable</li>
                                    <li>Use elif instead of multiple separate if statements when appropriate</li>
                                    <li>Handle edge cases with else clauses</li>
                                    <li>Use parentheses for complex boolean expressions</li>
                                    <li>Consider early returns to reduce nesting</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't mix tabs and spaces for indentation</li>
                                        <li>Don't create deeply nested if statements (max 3-4 levels)</li>
                                        <li>Don't use bare except clauses in try-except blocks</li>
                                        <li>Don't compare boolean values to True/False explicitly</li>
                                        <li>Don't forget to handle all possible cases</li>
                                        <li>Don't use assignment (=) instead of comparison (==) in conditions</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Loops -->
                    <article class="subject-card" id="loops">
                        <h3 class="subject-title">Loops (for, while, break/continue)</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Loops allow repetitive execution of code blocks:</p>
                                <ul>
                                    <li><strong>for loop</strong>: Iterate over sequences (lists, strings, ranges)</li>
                                    <li><strong>while loop</strong>: Continue until condition becomes False</li>
                                    <li><strong>break</strong>: Exit loop immediately</li>
                                    <li><strong>continue</strong>: Skip current iteration, go to next</li>
                                    <li><strong>else clause</strong>: Execute when loop completes normally (no break)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># For loop with range
for i in range(5):
    print(f"Iteration {i}")

# For loop with list
fruits = ["apple", "banana", "orange"]
for fruit in fruits:
    print(f"I like {fruit}")

# For loop with enumerate
for index, fruit in enumerate(fruits):
    print(f"{index}: {fruit}")

# While loop
count = 0
while count < 3:
    print(f"Count: {count}")
    count += 1

# Break and continue
for num in range(10):
    if num == 3:
        continue  # Skip 3
    if num == 7:
        break     # Stop at 7
    print(num)

# Loop with else
for i in range(3):
    print(i)
else:
    print("Loop completed normally")

# Nested loops
for i in range(3):
    for j in range(2):
        print(f"i={i}, j={j}")</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Email processing system: Iterate through inbox, process each email, skip spam, break if quota exceeded.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>Loops automate repetitive tasks, process collections of data, implement algorithms, handle batch operations, and create efficient code that scales with data size without manual duplication.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Data processing (file parsing, database queries)</li>
                                    <li>Web scraping (iterating through pages, links)</li>
                                    <li>Game development (game loops, animation frames)</li>
                                    <li>Machine learning (training iterations, data batches)</li>
                                    <li>System administration (log analysis, file operations)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Use for loops for known iterations, while loops for conditions</li>
                                    <li>Use enumerate() when you need both index and value</li>
                                    <li>Use zip() to iterate over multiple sequences</li>
                                    <li>Use list comprehensions for simple transformations</li>
                                    <li>Avoid modifying lists while iterating over them</li>
                                    <li>Use meaningful variable names in loops</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't create infinite loops without proper exit conditions</li>
                                        <li>Don't use while True without break statements</li>
                                        <li>Don't modify list size during iteration</li>
                                        <li>Don't use loops when built-in functions exist (sum, max, min)</li>
                                        <li>Don't nest loops too deeply (consider refactoring)</li>
                                        <li>Don't use range(len(list)) - iterate directly over the list</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Data Structures -->
                    <article class="subject-card" id="data-structures">
                        <h3 class="subject-title">Data Structures (list, tuple, dict, set)</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Python's built-in data structures for organizing and storing data:</p>
                                <ul>
                                    <li><strong>List</strong>: Ordered, mutable collection [1, 2, 3]</li>
                                    <li><strong>Tuple</strong>: Ordered, immutable collection (1, 2, 3)</li>
                                    <li><strong>Dictionary</strong>: Key-value pairs {"name": "Alice", "age": 25}</li>
                                    <li><strong>Set</strong>: Unordered, unique elements {1, 2, 3}</li>
                                </ul>
                                <p>Each has specific use cases based on mutability, ordering, and access patterns.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Lists - mutable, ordered
numbers = [1, 2, 3, 4]
numbers.append(5)        # [1, 2, 3, 4, 5]
numbers.insert(0, 0)     # [0, 1, 2, 3, 4, 5]
numbers.remove(2)        # [0, 1, 3, 4, 5]

# Tuples - immutable, ordered
coordinates = (10, 20)
x, y = coordinates       # Unpacking

# Dictionaries - key-value pairs
person = {
    "name": "Alice",
    "age": 30,
    "city": "New York"
}
person["email"] = "alice@email.com"  # Add new key
print(person.get("phone", "N/A"))    # Safe access

# Sets - unique elements
unique_numbers = {1, 2, 3, 3, 2}  # {1, 2, 3}
unique_numbers.add(4)              # {1, 2, 3, 4}
unique_numbers.discard(2)          # {1, 3, 4}

# Set operations
set_a = {1, 2, 3}
set_b = {3, 4, 5}
intersection = set_a & set_b  # {3}
union = set_a | set_b         # {1, 2, 3, 4, 5}</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Student management system: List for grades, tuple for coordinates, dict for student info, set for unique course enrollments.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>Different data structures optimize for different operations (access, insertion, deletion) and use cases. They provide efficient storage, retrieval, and manipulation of data while ensuring data integrity and performance.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Web development (user sessions, form data, APIs)</li>
                                    <li>Data analysis (datasets, statistical calculations)</li>
                                    <li>Gaming (inventory, player stats, game state)</li>
                                    <li>Database systems (records, indexing, relationships)</li>
                                    <li>Configuration management (settings, parameters)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Use lists for ordered, changeable data</li>
                                    <li>Use tuples for immutable data like coordinates, RGB values</li>
                                    <li>Use dictionaries for key-value relationships</li>
                                    <li>Use sets for unique collections and fast membership testing</li>
                                    <li>Use list comprehensions for transformations</li>
                                    <li>Use dict.get() for safe key access</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't use lists when you need uniqueness (use sets)</li>
                                        <li>Don't try to modify tuples after creation</li>
                                        <li>Don't access dictionary keys without checking existence</li>
                                        <li>Don't use lists for large datasets requiring frequent lookups</li>
                                        <li>Don't use mutable objects as dictionary keys</li>
                                        <li>Don't assume sets maintain insertion order in Python < 3.7</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Functions & Scope -->
                    <article class="subject-card" id="functions">
                        <h3 class="subject-title">Functions & Scope</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Functions are reusable blocks of code that perform specific tasks. Key concepts:</p>
                                <ul>
                                    <li><strong>Definition</strong>: def function_name(parameters):</li>
                                    <li><strong>Parameters</strong>: Input values (positional, keyword, default)</li>
                                    <li><strong>Return</strong>: Output values</li>
                                    <li><strong>Scope</strong>: Variable visibility (local, global, nonlocal)</li>
                                    <li><strong>Docstrings</strong>: Function documentation</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Basic function
def greet(name, greeting="Hello"):
    """Greet a person with optional greeting."""
    return f"{greeting}, {name}!"

# Function call
message = greet("Alice")        # "Hello, Alice!"
message2 = greet("Bob", "Hi")   # "Hi, Bob!"

# Variable arguments
def calculate_sum(*args):
    return sum(args)

total = calculate_sum(1, 2, 3, 4)  # 10

# Keyword arguments
def create_profile(**kwargs):
    profile = {}
    for key, value in kwargs.items():
        profile[key] = value
    return profile

user = create_profile(name="Alice", age=25, city="NYC")

# Scope examples
global_var = "I'm global"

def scope_demo():
    local_var = "I'm local"
    global global_var
    global_var = "Modified global"
    
    def inner_function():
        nonlocal local_var
        local_var = "Modified local"
    
    inner_function()
    return local_var

# Lambda functions
square = lambda x: x ** 2
numbers = [1, 2, 3, 4]
squared = list(map(square, numbers))  # [1, 4, 9, 16]</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Banking system with functions for deposit, withdrawal, balance calculation, and transaction logging with proper scope management.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>Functions promote code reusability, modularity, testing, debugging, and maintainability. They encapsulate logic, reduce duplication, and create clean, organized code that's easier to understand and modify.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>API development (endpoint handlers, utilities)</li>
                                    <li>Data processing (transformation, validation)</li>
                                    <li>Mathematical computations (algorithms, formulas)</li>
                                    <li>User interface (event handlers, form processing)</li>
                                    <li>System automation (task scheduling, file operations)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Use descriptive function names that indicate purpose</li>
                                    <li>Keep functions small and focused (single responsibility)</li>
                                    <li>Use docstrings to document function purpose and parameters</li>
                                    <li>Use type hints for clarity: def add(a: int, b: int) -> int:</li>
                                    <li>Prefer return values over printing from functions</li>
                                    <li>Use default parameters for optional functionality</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't use mutable default parameters: def func(lst=[]):</li>
                                        <li>Don't create functions that do too many things</li>
                                        <li>Don't use global variables excessively</li>
                                        <li>Don't modify global state without clear intention</li>
                                        <li>Don't use functions with no return value for calculations</li>
                                        <li>Don't ignore function scope - understand variable accessibility</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Modules & Packages -->
                    <article class="subject-card" id="modules">
                        <h3 class="subject-title">Modules & Packages</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Modules organize code into separate files for better structure and reusability:</p>
                                <ul>
                                    <li><strong>Module</strong>: Single .py file containing functions, classes, variables</li>
                                    <li><strong>Package</strong>: Directory containing multiple modules with __init__.py</li>
                                    <li><strong>Import</strong>: import, from...import, as keyword</li>
                                    <li><strong>Standard Library</strong>: Built-in modules (os, sys, datetime)</li>
                                    <li><strong>Third-party</strong>: External packages (requests, numpy)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Different import methods
import math
from datetime import datetime, timedelta
import os as operating_system
from collections import defaultdict, Counter

# Using imported modules
radius = 5
area = math.pi * radius ** 2

now = datetime.now()
tomorrow = now + timedelta(days=1)

current_dir = operating_system.getcwd()

# Creating a module (math_utils.py)
"""
def add(a, b):
    return a + b

def multiply(a, b):
    return a * b

PI = 3.14159
"""

# Using custom module
# from math_utils import add, PI
# result = add(5, 3)

# Package structure example
"""
my_package/
    __init__.py
    math_operations/
        __init__.py
        basic.py
        advanced.py
    string_operations/
        __init__.py
        text_utils.py
"""

# Common standard library modules
import json
import csv
import random
import urllib.request

# Working with JSON
data = {"name": "Alice", "age": 30}
json_string = json.dumps(data)
parsed_data = json.loads(json_string)</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>E-commerce application with separate modules for user management, product catalog, payment processing, and inventory tracking.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>Modules and packages organize large codebases, promote code reuse, provide namespace separation, enable collaborative development, and access to extensive functionality through standard and third-party libraries.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Web frameworks (Django apps, Flask blueprints)</li>
                                    <li>Data science (NumPy, Pandas, Matplotlib libraries)</li>
                                    <li>Machine learning (scikit-learn, TensorFlow modules)</li>
                                    <li>GUI applications (tkinter, PyQt packages)</li>
                                    <li>System tools (network libraries, file processing)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Use descriptive module names in lowercase</li>
                                    <li>Include __init__.py in package directories</li>
                                    <li>Import only what you need to avoid namespace pollution</li>
                                    <li>Use absolute imports over relative imports</li>
                                    <li>Group imports: standard library, third-party, local</li>
                                    <li>Document module purpose and public API</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't use wildcard imports: from module import *</li>
                                        <li>Don't create circular imports between modules</li>
                                        <li>Don't put executable code in module level (use if __name__ == "__main__")</li>
                                        <li>Don't modify sys.path unnecessarily</li>
                                        <li>Don't import modules inside functions unless necessary</li>
                                        <li>Don't forget to handle ImportError for optional dependencies</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- String Handling -->
                    <article class="subject-card" id="strings">
                        <h3 class="subject-title">String Handling (slicing, methods, f-strings)</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Strings are sequences of characters with powerful manipulation capabilities:</p>
                                <ul>
                                    <li><strong>Slicing</strong>: Extract parts [start:end:step]</li>
                                    <li><strong>Methods</strong>: Built-in functions (split, join, replace)</li>
                                    <li><strong>Formatting</strong>: f-strings, .format(), % formatting</li>
                                    <li><strong>Escape sequences</strong>: \n, \t, \", \\</li>
                                    <li><strong>Raw strings</strong>: r"string" for literals</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># String slicing
text = "Python Programming"
print(text[0:6])      # "Python"
print(text[7:])       # "Programming"
print(text[::-1])     # "gnimmargorP nohtyP" (reverse)
print(text[::2])      # "Pto rgamn" (every 2nd char)

# String methods
sentence = "  Hello, World!  "
words = sentence.strip().split(", ")  # ["Hello", "World!"]
joined = " | ".join(words)            # "Hello | World!"
replaced = sentence.replace("World", "Python")

# Case methods
name = "alice smith"
print(name.title())        # "Alice Smith"
print(name.upper())        # "ALICE SMITH"
print(name.capitalize())   # "Alice smith"

# String formatting
name = "Alice"
age = 30
score = 95.67

# f-strings (recommended)
message = f"Hello {name}, you're {age} years old"
formatted = f"Score: {score:.1f}%"  # "Score: 95.7%"

# .format() method
template = "Name: {}, Age: {}"
result = template.format(name, age)

# String validation
email = "user@example.com"
print(email.endswith('.com'))     # True
print(email.startswith('user'))   # True
print('python'.isalpha())         # True
print('123'.isdigit())            # True

# Multiline strings
query = """
SELECT name, age
FROM users
WHERE age > 18
"""</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Log file parser extracting timestamps, IP addresses, and error messages using string methods and regex patterns.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>String manipulation is fundamental for text processing, data parsing, user interface development, file processing, web development, and communication with external systems and APIs.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Web development (URL parsing, form validation)</li>
                                    <li>Data processing (CSV parsing, log analysis)</li>
                                    <li>Natural language processing (text analysis, tokenization)</li>
                                    <li>Configuration files (JSON, XML, YAML parsing)</li>
                                    <li>Report generation (formatting, templating)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Use f-strings for modern string formatting</li>
                                    <li>Use str.join() for concatenating multiple strings</li>
                                    <li>Use raw strings for regex patterns and file paths</li>
                                    <li>Use strip() to remove whitespace from user input</li>
                                    <li>Use appropriate string methods instead of manual parsing</li>
                                    <li>Consider using regex for complex pattern matching</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't use + for concatenating many strings (use join())</li>
                                        <li>Don't forget strings are immutable - methods return new strings</li>
                                        <li>Don't use % formatting in modern Python (use f-strings)</li>
                                        <li>Don't assume string encoding - specify UTF-8 when needed</li>
                                        <li>Don't use string slicing with hardcoded indices on variable data</li>
                                        <li>Don't ignore case sensitivity in string comparisons</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- File Handling -->
                    <article class="subject-card" id="files">
                        <h3 class="subject-title">File Handling (read/write/csv)</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>File operations for data persistence and processing:</p>
                                <ul>
                                    <li><strong>Opening</strong>: open() with modes (r, w, a, x)</li>
                                    <li><strong>Context manager</strong>: with statement for automatic cleanup</li>
                                    <li><strong>Reading</strong>: read(), readline(), readlines()</li>
                                    <li><strong>Writing</strong>: write(), writelines()</li>
                                    <li><strong>CSV</strong>: csv module for structured data</li>
                                    <li><strong>Encoding</strong>: UTF-8, ASCII, binary modes</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Reading files
with open('data.txt', 'r', encoding='utf-8') as file:
    content = file.read()          # Read entire file
    # OR
    lines = file.readlines()       # Read all lines as list
    # OR
    for line in file:              # Iterate line by line
        print(line.strip())

# Writing files
data = ["Line 1", "Line 2", "Line 3"]
with open('output.txt', 'w', encoding='utf-8') as file:
    file.write("Hello World\n")
    file.writelines(f"{line}\n" for line in data)

# Appending to files
with open('log.txt', 'a', encoding='utf-8') as file:
    file.write(f"Log entry: {datetime.now()}\n")

# Working with CSV files
import csv

# Writing CSV
students = [
    ['Name', 'Age', 'Grade'],
    ['Alice', 20, 'A'],
    ['Bob', 19, 'B']
]

with open('students.csv', 'w', newline='', encoding='utf-8') as file:
    writer = csv.writer(file)
    writer.writerows(students)

# Reading CSV
with open('students.csv', 'r', encoding='utf-8') as file:
    reader = csv.reader(file)
    header = next(reader)  # Skip header
    for row in reader:
        name, age, grade = row
        print(f"{name} is {age} years old with grade {grade}")

# CSV with dictionaries
with open('students.csv', 'r', encoding='utf-8') as file:
    reader = csv.DictReader(file)
    for row in reader:
        print(f"Student: {row['Name']}, Grade: {row['Grade']}")

# File operations
import os
if os.path.exists('data.txt'):
    os.rename('data.txt', 'backup.txt')
    os.remove('backup.txt')</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Sales data processing system reading CSV files, calculating totals, generating reports, and logging transactions to audit files.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>File handling enables data persistence, configuration management, logging, data import/export, batch processing, and integration with external systems and databases.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Data analysis (importing datasets, exporting results)</li>
                                    <li>Web applications (file uploads, downloads, configs)</li>
                                    <li>System administration (log processing, backup scripts)</li>
                                    <li>Scientific computing (data collection, experimental results)</li>
                                    <li>Business applications (reports, data exchange)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Always use with statement for file operations</li>
                                    <li>Specify encoding explicitly (UTF-8 is recommended)</li>
                                    <li>Use appropriate file modes (r, w, a, x)</li>
                                    <li>Handle file not found and permission errors</li>
                                    <li>Use csv module for structured data</li>
                                    <li>Use pathlib for cross-platform file paths</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't forget to close files (use with statement)</li>
                                        <li>Don't ignore encoding issues - specify encoding</li>
                                        <li>Don't assume files exist - check with os.path.exists()</li>
                                        <li>Don't open large files entirely into memory</li>
                                        <li>Don't write to files without proper error handling</li>
                                        <li>Don't use hardcoded file paths - use os.path.join()</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Exception Handling -->
                    <article class="subject-card" id="exceptions">
                        <h3 class="subject-title">Error & Exception Handling</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Exception handling manages runtime errors gracefully:</p>
                                <ul>
                                    <li><strong>try</strong>: Code that might raise exceptions</li>
                                    <li><strong>except</strong>: Handle specific exception types</li>
                                    <li><strong>else</strong>: Execute if no exceptions occurred</li>
                                    <li><strong>finally</strong>: Always execute (cleanup)</li>
                                    <li><strong>raise</strong>: Manually raise exceptions</li>
                                    <li><strong>Custom exceptions</strong>: User-defined exception classes</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Basic exception handling
try:
    number = int(input("Enter a number: "))
    result = 10 / number
    print(f"Result: {result}")
except ValueError:
    print("Invalid input! Please enter a number.")
except ZeroDivisionError:
    print("Cannot divide by zero!")
except Exception as e:
    print(f"Unexpected error: {e}")
else:
    print("Operation completed successfully")
finally:
    print("Cleanup completed")

# Multiple exceptions
try:
    file_content = open('data.txt').read()
    data = json.loads(file_content)
except (FileNotFoundError, PermissionError) as file_error:
    print(f"File error: {file_error}")
except json.JSONDecodeError as json_error:
    print(f"JSON parsing error: {json_error}")

# Custom exceptions
class InsufficientFundsError(Exception):
    def __init__(self, balance, amount):
        self.balance = balance
        self.amount = amount
        super().__init__(f"Insufficient funds: {balance} < {amount}")

class BankAccount:
    def __init__(self, balance):
        self.balance = balance
    
    def withdraw(self, amount):
        if amount > self.balance:
            raise InsufficientFundsError(self.balance, amount)
        self.balance -= amount
        return self.balance

# Using custom exception
account = BankAccount(100)
try:
    account.withdraw(150)
except InsufficientFundsError as e:
    print(f"Transaction failed: {e}")

# Context managers for resource management
class FileManager:
    def __init__(self, filename):
        self.filename = filename
        self.file = None
    
    def __enter__(self):
        self.file = open(self.filename, 'r')
        return self.file
    
    def __exit__(self, exc_type, exc_value, traceback):
        if self.file:
            self.file.close()

# Usage
with FileManager('data.txt') as f:
    content = f.read()</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Payment processing system handling network timeouts, invalid card numbers, insufficient funds, and API errors with appropriate user feedback.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>Exception handling prevents program crashes, provides user-friendly error messages, enables graceful degradation, supports debugging, and ensures proper resource cleanup and system stability.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Web applications (handling request errors, validation)</li>
                                    <li>File processing (missing files, permission issues)</li>
                                    <li>Network programming (connection failures, timeouts)</li>
                                    <li>Database operations (connection errors, constraint violations)</li>
                                    <li>User interfaces (input validation, error dialogs)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Catch specific exceptions rather than generic Exception</li>
                                    <li>Use finally for cleanup operations</li>
                                    <li>Log exceptions for debugging purposes</li>
                                    <li>Provide meaningful error messages to users</li>
                                    <li>Use custom exceptions for domain-specific errors</li>
                                    <li>Don't ignore exceptions silently</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't use bare except clauses: except:</li>
                                        <li>Don't catch Exception unless you re-raise it</li>
                                        <li>Don't use exceptions for normal control flow</li>
                                        <li>Don't ignore exceptions with pass statements</li>
                                        <li>Don't put too much code in try blocks</li>
                                        <li>Don't suppress exceptions without logging them</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- OOP Basics -->
                    <article class="subject-card" id="oop">
                        <h3 class="subject-title">OOP Basics (class/object, __init__)</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Object-Oriented Programming organizes code into classes and objects:</p>
                                <ul>
                                    <li><strong>Class</strong>: Blueprint for creating objects</li>
                                    <li><strong>Object</strong>: Instance of a class</li>
                                    <li><strong>__init__</strong>: Constructor method for initialization</li>
                                    <li><strong>Attributes</strong>: Data stored in objects</li>
                                    <li><strong>Methods</strong>: Functions defined in classes</li>
                                    <li><strong>Inheritance</strong>: Classes inheriting from other classes</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Basic class definition
class Car:
    # Class variable
    wheels = 4
    
    def __init__(self, make, model, year):
        # Instance variables
        self.make = make
        self.model = model
        self.year = year
        self.mileage = 0
        self._engine_running = False  # Protected attribute
    
    # Instance methods
    def start_engine(self):
        self._engine_running = True
        return f"{self.make} {self.model} engine started"
    
    def drive(self, miles):
        if self._engine_running:
            self.mileage += miles
            return f"Drove {miles} miles. Total: {self.mileage}"
        return "Start the engine first!"
    
    def __str__(self):
        return f"{self.year} {self.make} {self.model}"
    
    def __repr__(self):
        return f"Car('{self.make}', '{self.model}', {self.year})"

# Creating objects
car1 = Car("Toyota", "Camry", 2022)
car2 = Car("Honda", "Civic", 2021)

# Using methods
print(car1.start_engine())  # "Toyota Camry engine started"
print(car1.drive(100))      # "Drove 100 miles. Total: 100"
print(car1)                 # "2022 Toyota Camry"

# Inheritance
class ElectricCar(Car):
    def __init__(self, make, model, year, battery_capacity):
        super().__init__(make, model, year)
        self.battery_capacity = battery_capacity
        self.charge_level = 100
    
    def charge(self, amount):
        self.charge_level = min(100, self.charge_level + amount)
        return f"Charged to {self.charge_level}%"
    
    def start_engine(self):
        # Override parent method
        if self.charge_level > 0:
            self._engine_running = True
            return f"{self.make} {self.model} powered on silently"
        return "Battery empty! Cannot start."

# Using inheritance
tesla = ElectricCar("Tesla", "Model 3", 2023, 75)
print(tesla.charge(10))      # "Charged to 100%"
print(tesla.start_engine())  # "Tesla Model 3 powered on silently"

# Class methods and static methods
class MathUtils:
    @classmethod
    def from_string(cls, math_string):
        # Alternative constructor
        return cls()
    
    @staticmethod
    def add(a, b):
        # Utility function that doesn't need class/instance
        return a + b

# Property decorators
class Temperature:
    def __init__(self, celsius=0):
        self._celsius = celsius
    
    @property
    def celsius(self):
        return self._celsius
    
    @celsius.setter
    def celsius(self, value):
        if value < -273.15:
            raise ValueError("Temperature below absolute zero!")
        self._celsius = value
    
    @property
    def fahrenheit(self):
        return (self._celsius * 9/5) + 32

temp = Temperature(25)
print(temp.fahrenheit)  # 77.0</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>User management system with User class, Admin subclass, authentication methods, and property validators for email and password.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>OOP provides code organization, reusability, encapsulation, inheritance, polymorphism, and maintainability. It models real-world entities and relationships, making code more intuitive and scalable.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>GUI applications (windows, buttons, widgets)</li>
                                    <li>Game development (players, enemies, items)</li>
                                    <li>Web frameworks (models, views, controllers)</li>
                                    <li>Database ORMs (table representations, relationships)</li>
                                    <li>API development (resource models, serializers)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Use PascalCase for class names</li>
                                    <li>Keep classes focused on single responsibility</li>
                                    <li>Use __init__ for object initialization</li>
                                    <li>Use properties for computed attributes</li>
                                    <li>Implement __str__ and __repr__ for debugging</li>
                                    <li>Use inheritance to extend functionality</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't create classes for everything (use functions when appropriate)</li>
                                        <li>Don't make everything public (use _ for internal attributes)</li>
                                        <li>Don't create deep inheritance hierarchies</li>
                                        <li>Don't forget to call super().__init__() in child classes</li>
                                        <li>Don't override __new__ unless you know what you're doing</li>
                                        <li>Don't use multiple inheritance carelessly</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Virtual Environment -->
                    <article class="subject-card" id="venv">
                        <h3 class="subject-title">Virtual Environment & pip basics</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Virtual environments isolate Python projects and their dependencies:</p>
                                <ul>
                                    <li><strong>venv</strong>: Built-in module for creating virtual environments</li>
                                    <li><strong>pip</strong>: Package installer for Python</li>
                                    <li><strong>requirements.txt</strong>: File listing project dependencies</li>
                                    <li><strong>Activation</strong>: Enabling the virtual environment</li>
                                    <li><strong>Isolation</strong>: Separate package installations per project</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Creating virtual environment
# Command line (not Python code):
# python -m venv myproject_env

# Activating virtual environment
# Windows: myproject_env\Scripts\activate
# macOS/Linux: source myproject_env/bin/activate

# Installing packages
# pip install requests pandas numpy

# Installing specific versions
# pip install django==3.2.0
# pip install matplotlib>=3.0,<4.0

# Listing installed packages
# pip list
# pip show requests

# Creating requirements file
# pip freeze > requirements.txt

# Installing from requirements
# pip install -r requirements.txt

# Example requirements.txt content:
"""
requests==2.28.1
pandas==1.5.0
numpy==1.23.0
matplotlib==3.5.2
"""

# Working with virtual environments in Python
import sys
import subprocess

def create_virtual_env(env_name):
    """Create a virtual environment programmatically"""
    subprocess.run([sys.executable, "-m", "venv", env_name])

def install_package(package_name):
    """Install package in current environment"""
    subprocess.run([sys.executable, "-m", "pip", "install", package_name])

# Checking current environment
def check_environment():
    import site
    print(f"Python executable: {sys.executable}")
    print(f"Site packages: {site.getsitepackages()}")
    
    # Check if in virtual environment
    if hasattr(sys, 'real_prefix') or (
        hasattr(sys, 'base_prefix') and sys.base_prefix != sys.prefix
    ):
        print("Running in virtual environment")
    else:
        print("Running in system Python")

# Environment management script
import os
import shutil

class ProjectEnvironment:
    def __init__(self, project_name):
        self.project_name = project_name
        self.env_path = f"{project_name}_env"
    
    def create(self):
        if not os.path.exists(self.env_path):
            subprocess.run([sys.executable, "-m", "venv", self.env_path])
            print(f"Created virtual environment: {self.env_path}")
    
    def install_requirements(self, requirements_file="requirements.txt"):
        if os.path.exists(requirements_file):
            pip_path = os.path.join(self.env_path, "Scripts", "pip")
            subprocess.run([pip_path, "install", "-r", requirements_file])
    
    def cleanup(self):
        if os.path.exists(self.env_path):
            shutil.rmtree(self.env_path)
            print(f"Removed environment: {self.env_path}")</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Data science project with separate environments for development, testing, and production, each with specific package versions.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>Virtual environments prevent dependency conflicts, ensure reproducible builds, enable different Python versions per project, support clean deployment, and maintain system Python integrity.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Web development (Django, Flask projects)</li>
                                    <li>Data science (Jupyter notebooks, ML pipelines)</li>
                                    <li>DevOps (deployment scripts, automation tools)</li>
                                    <li>Open source projects (contributor setup)</li>
                                    <li>Corporate development (team collaboration)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Create separate virtual environments for each project</li>
                                    <li>Use descriptive names for environment folders</li>
                                    <li>Keep requirements.txt updated with pip freeze</li>
                                    <li>Add virtual environment folders to .gitignore</li>
                                    <li>Use specific package versions in production</li>
                                    <li>Document environment setup in README files</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't commit virtual environment folders to version control</li>
                                        <li>Don't install packages globally when working on projects</li>
                                        <li>Don't forget to activate environment before installing packages</li>
                                        <li>Don't use system Python for project-specific packages</li>
                                        <li>Don't mix conda and pip environments carelessly</li>
                                        <li>Don't hardcode paths to virtual environment executables</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>
                </div>

                <div class="checklist">
                    <h3>üìã Track 1 Study Checklist</h3>
                    <div class="checklist-grid">
                        <label class="checklist-item"><input type="checkbox"> Variables & Data Types</label>
                        <label class="checklist-item"><input type="checkbox"> Operators</label>
                        <label class="checklist-item"><input type="checkbox"> Control Flow</label>
                        <label class="checklist-item"><input type="checkbox"> Loops</label>
                        <label class="checklist-item"><input type="checkbox"> Data Structures</label>
                        <label class="checklist-item"><input type="checkbox"> Functions & Scope</label>
                        <label class="checklist-item"><input type="checkbox"> Modules & Packages</label>
                        <label class="checklist-item"><input type="checkbox"> String Handling</label>
                        <label class="checklist-item"><input type="checkbox"> File Handling</label>
                        <label class="checklist-item"><input type="checkbox"> Exception Handling</label>
                        <label class="checklist-item"><input type="checkbox"> OOP Basics</label>
                        <label class="checklist-item"><input type="checkbox"> Virtual Environment</label>
                    </div>
                </div>
            </section>

            <!-- TRACK 2: AI/ML Fundamentals -->
            <section class="track-section" id="track2">
                <h2 class="track-header">Track 2: AI/ML Fundamentals (Data Handling + Classical ML)</h2>
                
                <div class="subjects-grid">
                    <!-- NumPy Arrays -->
                    <article class="subject-card" id="numpy">
                        <h3 class="subject-title">NumPy Arrays & Operations</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>NumPy provides efficient numerical computing with n-dimensional arrays:</p>
                                <ul>
                                    <li><strong>ndarray</strong>: Core n-dimensional array object</li>
                                    <li><strong>Vectorization</strong>: Element-wise operations on entire arrays</li>
                                    <li><strong>Broadcasting</strong>: Operations between arrays of different shapes</li>
                                    <li><strong>Indexing</strong>: Boolean indexing, fancy indexing, slicing</li>
                                    <li><strong>Universal functions (ufuncs)</strong>: Fast element-wise functions</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code>import numpy as np

# Array creation
arr1 = np.array([1, 2, 3, 4, 5])
arr2 = np.zeros((3, 4))           # 3x4 array of zeros
arr3 = np.ones((2, 3))            # 2x3 array of ones
arr4 = np.arange(0, 10, 2)        # [0, 2, 4, 6, 8]
arr5 = np.linspace(0, 1, 5)       # [0, 0.25, 0.5, 0.75, 1]

# Array properties
print(arr1.shape)     # (5,)
print(arr1.dtype)     # int64
print(arr1.ndim)      # 1

# Mathematical operations
matrix_a = np.array([[1, 2], [3, 4]])
matrix_b = np.array([[5, 6], [7, 8]])

# Element-wise operations
addition = matrix_a + matrix_b     # [[6, 8], [10, 12]]
multiplication = matrix_a * matrix_b  # [[5, 12], [21, 32]]

# Matrix operations
dot_product = np.dot(matrix_a, matrix_b)  # [[19, 22], [43, 50]]
transpose = matrix_a.T                    # [[1, 3], [2, 4]]

# Statistical operations
data = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
print(f"Mean: {np.mean(data)}")           # 5.5
print(f"Standard deviation: {np.std(data)}")  # 2.87
print(f"Max: {np.max(data)}")             # 10

# Boolean indexing
filtered = data[data > 5]                 # [6, 7, 8, 9, 10]

# Reshaping
reshaped = data.reshape(2, 5)             # 2x5 matrix

# Broadcasting example
matrix = np.array([[1, 2, 3], [4, 5, 6]])
vector = np.array([10, 20, 30])
result = matrix + vector  # Adds vector to each row</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Image processing pipeline using NumPy arrays to store pixel values, apply filters, and perform transformations on medical imaging data.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>NumPy provides fast numerical operations, memory efficiency, vectorization, and forms the foundation for scientific computing libraries like Pandas, Scikit-learn, and TensorFlow.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Data science (numerical analysis, statistics)</li>
                                    <li>Machine learning (feature matrices, model inputs)</li>
                                    <li>Scientific computing (simulations, modeling)</li>
                                    <li>Image processing (pixel manipulation, filters)</li>
                                    <li>Financial analysis (time series, risk calculations)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Use vectorized operations instead of loops</li>
                                    <li>Specify data types explicitly for memory efficiency</li>
                                    <li>Use views instead of copies when possible</li>
                                    <li>Leverage broadcasting for efficient computations</li>
                                    <li>Use appropriate array creation functions</li>
                                    <li>Check array shapes before operations</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't use Python loops on large NumPy arrays</li>
                                        <li>Don't ignore shape mismatches in operations</li>
                                        <li>Don't use lists when NumPy arrays are more appropriate</li>
                                        <li>Don't forget to handle NaN values in calculations</li>
                                        <li>Don't create unnecessary copies of large arrays</li>
                                        <li>Don't mix NumPy arrays with inconsistent dtypes</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Pandas -->
                    <article class="subject-card" id="pandas">
                        <h3 class="subject-title">Pandas (Series, DataFrame, merge, groupby)</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Pandas provides data structures and analysis tools:</p>
                                <ul>
                                    <li><strong>Series</strong>: 1D labeled array, like a column</li>
                                    <li><strong>DataFrame</strong>: 2D labeled data structure, like a table</li>
                                    <li><strong>Indexing</strong>: loc, iloc, boolean indexing</li>
                                    <li><strong>Merging</strong>: Combining DataFrames (join, merge, concat)</li>
                                    <li><strong>GroupBy</strong>: Split-apply-combine operations</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code>import pandas as pd
import numpy as np

# Creating Series
ages = pd.Series([25, 30, 35, 40], index=['Alice', 'Bob', 'Charlie', 'Diana'])
print(ages['Alice'])  # 25

# Creating DataFrame
data = {
    'name': ['Alice', 'Bob', 'Charlie', 'Diana'],
    'age': [25, 30, 35, 40],
    'city': ['NYC', 'LA', 'Chicago', 'Boston'],
    'salary': [70000, 80000, 75000, 90000]
}
df = pd.DataFrame(data)

# Basic DataFrame operations
print(df.head())              # First 5 rows
print(df.info())              # Data types and info
print(df.describe())          # Statistical summary

# Indexing and selection
print(df['name'])             # Select column
print(df.loc[0])             # Select row by label
print(df.iloc[0:2])          # Select rows by position
print(df[df['age'] > 30])    # Boolean indexing

# Data manipulation
df['bonus'] = df['salary'] * 0.1    # Add new column
df['age_group'] = pd.cut(df['age'], bins=[0, 30, 40, 100], 
                        labels=['Young', 'Middle', 'Senior'])

# Handling missing data
df_with_nulls = df.copy()
df_with_nulls.loc[1, 'salary'] = np.nan
print(df_with_nulls.isnull().sum())  # Count null values
df_filled = df_with_nulls.fillna(df_with_nulls['salary'].mean())

# GroupBy operations
salary_by_city = df.groupby('city')['salary'].agg(['mean', 'count'])
age_stats = df.groupby('age_group').agg({
    'salary': ['mean', 'max'],
    'age': 'mean'
})

# Merging DataFrames
departments = pd.DataFrame({
    'name': ['Alice', 'Bob', 'Charlie'],
    'department': ['Engineering', 'Sales', 'Marketing']
})

merged_df = pd.merge(df, departments, on='name', how='left')

# Concatenating DataFrames
new_employees = pd.DataFrame({
    'name': ['Eve', 'Frank'],
    'age': [28, 33],
    'city': ['Seattle', 'Austin'],
    'salary': [85000, 78000]
})

all_employees = pd.concat([df, new_employees], ignore_index=True)

# Time series operations
dates = pd.date_range('2023-01-01', periods=100, freq='D')
ts_data = pd.DataFrame({
    'date': dates,
    'value': np.random.randn(100).cumsum()
})
ts_data.set_index('date', inplace=True)
monthly_avg = ts_data.resample('M').mean()

# Pivot tables
pivot_table = df.pivot_table(
    values='salary', 
    index='city', 
    columns='age_group', 
    aggfunc='mean'
)</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Sales analytics dashboard processing transaction data, customer demographics, and product information with groupby operations and visualizations.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>Pandas simplifies data manipulation, provides powerful data structures, handles missing data elegantly, enables complex data transformations, and integrates well with other data science tools.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Business analytics (sales reports, KPI dashboards)</li>
                                    <li>Financial analysis (portfolio management, risk assessment)</li>
                                    <li>Research (experimental data analysis)</li>
                                    <li>ETL pipelines (data transformation, cleaning)</li>
                                    <li>Machine learning (feature engineering, preprocessing)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Use vectorized operations over apply() when possible</li>
                                    <li>Set appropriate data types to save memory</li>
                                    <li>Use categorical data for repeated string values</li>
                                    <li>Chain operations for readable code</li>
                                    <li>Use copy() when modifying DataFrames</li>
                                    <li>Handle missing data explicitly</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't use iterrows() or itertuples() for large datasets</li>
                                        <li>Don't chain too many operations without intermediate variables</li>
                                        <li>Don't ignore data types - they affect performance and memory</li>
                                        <li>Don't use apply() when vectorized operations exist</li>
                                        <li>Don't forget to handle timezone information in datetime data</li>
                                        <li>Don't use DataFrame as a replacement for databases for large data</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Data Cleaning & EDA -->
                    <article class="subject-card" id="data-cleaning">
                        <h3 class="subject-title">Data Cleaning & EDA (missing/outliers)</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Data cleaning and Exploratory Data Analysis (EDA) prepare data for analysis:</p>
                                <ul>
                                    <li><strong>Missing Data</strong>: Detection, imputation, deletion strategies</li>
                                    <li><strong>Outliers</strong>: Identification using IQR, Z-score, isolation</li>
                                    <li><strong>Data Types</strong>: Conversion, validation, consistency</li>
                                    <li><strong>Duplicates</strong>: Detection and removal</li>
                                    <li><strong>EDA</strong>: Distributions, correlations, patterns</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code>import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# Create sample dataset with issues
np.random.seed(42)
n_samples = 1000

data = {
    'age': np.random.normal(35, 10, n_samples),
    'income': np.random.lognormal(10, 1, n_samples),
    'score': np.random.beta(2, 5, n_samples) * 100,
    'category': np.random.choice(['A', 'B', 'C'], n_samples),
    'date': pd.date_range('2020-01-01', periods=n_samples, freq='D')
}

df = pd.DataFrame(data)

# Introduce missing values and outliers
missing_indices = np.random.choice(df.index, 50, replace=False)
df.loc[missing_indices, 'income'] = np.nan

# Add some outliers
df.loc[np.random.choice(df.index, 10), 'age'] = np.random.uniform(100, 120, 10)

# 1. Missing Data Analysis
def analyze_missing_data(df):
    missing_summary = pd.DataFrame({
        'column': df.columns,
        'missing_count': df.isnull().sum(),
        'missing_percentage': (df.isnull().sum() / len(df)) * 100
    })
    return missing_summary.sort_values('missing_percentage', ascending=False)

missing_info = analyze_missing_data(df)
print("Missing Data Summary:")
print(missing_info)

# 2. Missing Data Handling
# Forward fill for time series
df['income_ffill'] = df['income'].fillna(method='ffill')

# Mean imputation
df['income_mean'] = df['income'].fillna(df['income'].mean())

# Median imputation (robust to outliers)
df['income_median'] = df['income'].fillna(df['income'].median())

# Mode imputation for categorical
df['category'] = df['category'].fillna(df['category'].mode()[0])

# 3. Outlier Detection
def detect_outliers_iqr(series):
    Q1 = series.quantile(0.25)
    Q3 = series.quantile(0.75)
    IQR = Q3 - Q1
    lower_bound = Q1 - 1.5 * IQR
    upper_bound = Q3 + 1.5 * IQR
    return (series < lower_bound) | (series > upper_bound)

def detect_outliers_zscore(series, threshold=3):
    z_scores = np.abs((series - series.mean()) / series.std())
    return z_scores > threshold

# Apply outlier detection
age_outliers_iqr = detect_outliers_iqr(df['age'])
age_outliers_zscore = detect_outliers_zscore(df['age'])

print(f"Outliers detected (IQR): {age_outliers_iqr.sum()}")
print(f"Outliers detected (Z-score): {age_outliers_zscore.sum()}")

# 4. Data Quality Checks
def data_quality_report(df):
    report = {
        'total_rows': len(df),
        'total_columns': len(df.columns),
        'duplicate_rows': df.duplicated().sum(),
        'data_types': df.dtypes.value_counts().to_dict(),
        'memory_usage': df.memory_usage(deep=True).sum() / 1024**2  # MB
    }
    return report

quality_report = data_quality_report(df)
print("\nData Quality Report:")
for key, value in quality_report.items():
    print(f"{key}: {value}")

# 5. Exploratory Data Analysis
def perform_eda(df, numerical_cols, categorical_cols):
    """Comprehensive EDA function"""
    
    # Descriptive statistics
    print("Descriptive Statistics:")
    print(df[numerical_cols].describe())
    
    # Correlation matrix
    correlation_matrix = df[numerical_cols].corr()
    print("\nCorrelation Matrix:")
    print(correlation_matrix)
    
    # Distribution analysis
    for col in numerical_cols:
        print(f"\n{col} Distribution:")
        print(f"Skewness: {df[col].skew():.3f}")
        print(f"Kurtosis: {df[col].kurtosis():.3f}")
    
    # Categorical analysis
    for col in categorical_cols:
        print(f"\n{col} Value Counts:")
        print(df[col].value_counts())
    
    return correlation_matrix

# Perform EDA
numerical_columns = ['age', 'income', 'score']
categorical_columns = ['category']
correlation_matrix = perform_eda(df, numerical_columns, categorical_columns)

# 6. Data Cleaning Pipeline
def clean_data_pipeline(df):
    """Complete data cleaning pipeline"""
    df_clean = df.copy()
    
    # Remove duplicates
    df_clean = df_clean.drop_duplicates()
    
    # Handle missing values
    for col in df_clean.select_dtypes(include=[np.number]).columns:
        df_clean[col] = df_clean[col].fillna(df_clean[col].median())
    
    for col in df_clean.select_dtypes(include=['object']).columns:
        df_clean[col] = df_clean[col].fillna(df_clean[col].mode()[0])
    
    # Remove outliers using IQR method
    for col in df_clean.select_dtypes(include=[np.number]).columns:
        if col not in ['date']:  # Skip date columns
            outliers = detect_outliers_iqr(df_clean[col])
            df_clean = df_clean[~outliers]
    
    # Data type optimization
    for col in df_clean.select_dtypes(include=['object']).columns:
        if col != 'date':
            df_clean[col] = df_clean[col].astype('category')
    
    return df_clean

# Apply cleaning pipeline
df_cleaned = clean_data_pipeline(df)
print(f"\nOriginal dataset shape: {df.shape}")
print(f"Cleaned dataset shape: {df_cleaned.shape}")

# 7. Feature Engineering for cleaned data
def create_features(df):
    """Create additional features"""
    df_featured = df.copy()
    
    # Age groups
    df_featured['age_group'] = pd.cut(df_featured['age'], 
                                     bins=[0, 25, 35, 50, 100], 
                                     labels=['Young', 'Adult', 'Middle', 'Senior'])
    
    # Income quartiles
    df_featured['income_quartile'] = pd.qcut(df_featured['income'], 
                                           q=4, labels=['Low', 'Medium', 'High', 'Very High'])
    
    # Interaction features
    df_featured['age_income_ratio'] = df_featured['age'] / df_featured['income'] * 1000
    
    return df_featured

df_final = create_features(df_cleaned)
print(f"\nFinal dataset with features shape: {df_final.shape}")</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Customer churn analysis cleaning telecommunications data with missing call records, outlier usage patterns, and inconsistent customer demographics.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>Data cleaning ensures accurate analysis, improves model performance, identifies data quality issues, reduces bias, and provides reliable insights for business decisions.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Business intelligence (KPI reporting, dashboards)</li>
                                    <li>Healthcare (patient data analysis, clinical trials)</li>
                                    <li>Finance (fraud detection, risk assessment)</li>
                                    <li>Marketing (customer segmentation, campaign analysis)</li>
                                    <li>Research (survey data, experimental results)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Document all data cleaning steps for reproducibility</li>
                                    <li>Understand the domain before removing outliers</li>
                                    <li>Use appropriate imputation methods for different data types</li>
                                    <li>Validate cleaned data with domain experts</li>
                                    <li>Create data quality metrics and monitoring</li>
                                    <li>Preserve original data and track transformations</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't remove outliers without understanding their cause</li>
                                        <li>Don't use mean imputation for skewed distributions</li>
                                        <li>Don't clean data without documenting the process</li>
                                        <li>Don't ignore the business context when cleaning</li>
                                        <li>Don't apply the same cleaning rules to all datasets</li>
                                        <li>Don't forget to validate cleaned data quality</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Continue with remaining subjects... Due to length constraints, I'll include a few more key subjects -->

                    <!-- Visualization -->
                    <article class="subject-card" id="visualization">
                        <h3 class="subject-title">Visualization (Matplotlib/Plotly)</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Data visualization communicates insights through charts and graphs:</p>
                                <ul>
                                    <li><strong>Matplotlib</strong>: Foundation plotting library, highly customizable</li>
                                    <li><strong>Plotly</strong>: Interactive plots, web-based visualizations</li>
                                    <li><strong>Chart types</strong>: Line, bar, scatter, histogram, heatmap</li>
                                    <li><strong>Customization</strong>: Colors, labels, legends, styles</li>
                                    <li><strong>Subplots</strong>: Multiple charts in one figure</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Matplotlib examples
import matplotlib.pyplot as plt
import seaborn as sns
import numpy as np
import pandas as pd

# Basic line plot
x = np.linspace(0, 10, 100)
y = np.sin(x)
plt.figure(figsize=(10, 6))
plt.plot(x, y, label='sin(x)', color='blue')
plt.plot(x, np.cos(x), label='cos(x)', color='red')
plt.xlabel('X values')
plt.ylabel('Y values')
plt.title('Trigonometric Functions')
plt.legend()
plt.grid(True)
plt.show()

# Bar chart
categories = ['A', 'B', 'C', 'D']
values = [23, 45, 56, 78]
plt.figure(figsize=(8, 6))
bars = plt.bar(categories, values, color=['red', 'green', 'blue', 'orange'])
plt.title('Category Performance')
plt.ylabel('Values')
# Add value labels on bars
for bar, value in zip(bars, values):
    plt.text(bar.get_x() + bar.get_width()/2, bar.get_height() + 1, 
             str(value), ha='center')
plt.show()

# Plotly interactive examples (conceptual - would require plotly import)
"""
import plotly.graph_objects as go
import plotly.express as px

# Interactive scatter plot
fig = px.scatter(df, x='age', y='income', color='category',
                title='Age vs Income by Category',
                hover_data=['score'])
fig.show()

# Interactive time series
fig = go.Figure()
fig.add_trace(go.Scatter(x=dates, y=values, mode='lines',
                        name='Time Series'))
fig.update_layout(title='Interactive Time Series',
                 xaxis_title='Date',
                 yaxis_title='Value')
fig.show()
"""</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Financial dashboard showing stock price trends, portfolio performance, and risk metrics with interactive plots for different time periods.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>Visualization makes data understandable, reveals patterns and trends, facilitates communication of insights, supports decision-making, and enables exploratory data analysis.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Business reporting (executive dashboards, KPIs)</li>
                                    <li>Scientific research (experimental results, publications)</li>
                                    <li>Financial analysis (market trends, portfolio tracking)</li>
                                    <li>Healthcare (patient monitoring, epidemiology)</li>
                                    <li>Marketing (campaign performance, customer analytics)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Choose appropriate chart types for your data</li>
                                    <li>Use clear, descriptive titles and labels</li>
                                    <li>Apply consistent color schemes and styling</li>
                                    <li>Avoid chart junk and unnecessary decorations</li>
                                    <li>Consider your audience when designing visualizations</li>
                                    <li>Make interactive plots accessible and intuitive</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't use misleading scales or truncated axes</li>
                                        <li>Don't overload charts with too much information</li>
                                        <li>Don't use inappropriate chart types (pie charts for many categories)</li>
                                        <li>Don't ignore colorblind accessibility</li>
                                        <li>Don't create visualizations without clear purpose</li>
                                        <li>Don't forget to provide context and explanations</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>
                </div>

                <div class="checklist">
                    <h3>üìã Track 2 Study Checklist</h3>
                    <div class="checklist-grid">
                        <label class="checklist-item"><input type="checkbox"> NumPy Arrays</label>
                        <label class="checklist-item"><input type="checkbox"> Pandas DataFrames</label>
                        <label class="checklist-item"><input type="checkbox"> Data Cleaning & EDA</label>
                        <label class="checklist-item"><input type="checkbox"> Visualization</label>
                        <label class="checklist-item"><input type="checkbox"> ML Pipeline</label>
                        <label class="checklist-item"><input type="checkbox"> Regression</label>
                        <label class="checklist-item"><input type="checkbox"> Classification</label>
                        <label class="checklist-item"><input type="checkbox"> Clustering</label>
                        <label class="checklist-item"><input type="checkbox"> Metrics</label>
                        <label class="checklist-item"><input type="checkbox"> Feature Engineering</label>
                        <label class="checklist-item"><input type="checkbox"> Model Persistence</label>
                    </div>
                </div>
            </section>

            <!-- TRACK 3: Cybersecurity Fundamentals (condensed for space) -->
            <section class="track-section" id="track3">
                <h2 class="track-header">Track 3: Cybersecurity Fundamentals (Core)</h2>
                
                <div class="subjects-grid">
                    <article class="subject-card" id="networking">
                        <h3 class="subject-title">Networking Basics (IP, TCP/UDP, Ports)</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Network fundamentals for cybersecurity:</p>
                                <ul>
                                    <li><strong>IP Addresses</strong>: IPv4/IPv6, subnetting, private ranges</li>
                                    <li><strong>TCP</strong>: Reliable, connection-oriented protocol</li>
                                    <li><strong>UDP</strong>: Fast, connectionless protocol</li>
                                    <li><strong>Ports</strong>: Application endpoints (HTTP:80, HTTPS:443)</li>
                                    <li><strong>OSI Model</strong>: 7-layer network communication model</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Python networking examples
import socket
import subprocess

# Basic socket operations
def check_port(host, port):
    """Check if a port is open on a host"""
    try:
        sock = socket.create_connection((host, port), timeout=3)
        sock.close()
        return True
    except (socket.timeout, ConnectionRefusedError):
        return False

# Example usage
host = "google.com"
ports = [80, 443, 22, 21]
for port in ports:
    status = "OPEN" if check_port(host, port) else "CLOSED"
    print(f"{host}:{port} - {status}")

# Get local IP address
def get_local_ip():
    try:
        # Connect to a remote address (doesn't actually send data)
        s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
        s.connect(("8.8.8.8", 80))
        ip = s.getsockname()[0]
        s.close()
        return ip
    except Exception:
        return "127.0.0.1"

print(f"Local IP: {get_local_ip()}")</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Network monitoring tool scanning internal networks for open ports, identifying services, and detecting unauthorized devices.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <p>Understanding networking is essential for cybersecurity, network troubleshooting, security assessments, firewall configuration, and incident response.</p>
                            </div>
                        </details>

                        <details>
                            <summary>üåç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Security operations centers (SOCs)</li>
                                    <li>Network administration and monitoring</li>
                                    <li>Penetration testing and vulnerability assessment</li>
                                    <li>Incident response and forensics</li>
                                    <li>Infrastructure security and architecture</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ How to use (Best Practices)</summary>
                            <div class="block">
                                <ul>
                                    <li>Understand TCP/IP fundamentals thoroughly</li>
                                    <li>Use network segmentation for security</li>
                                    <li>Monitor network traffic for anomalies</li>
                                    <li>Implement proper firewall rules</li>
                                    <li>Document network topology and services</li>
                                    <li>Use encrypted protocols (HTTPS, SSH, SFTP)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't leave unnecessary ports open</li>
                                        <li>Don't use default credentials on network devices</li>
                                        <li>Don't trust traffic from untrusted networks</li>
                                        <li>Don't ignore network monitoring and logging</li>
                                        <li>Don't use outdated or insecure protocols</li>
                                        <li>Don't perform network scans without authorization</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- OS & Linux Basics -->
                    <article class="subject-card" id="os-linux">
                        <h3 class="subject-title">OS & Linux Basics</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Operating system fundamentals and Linux administration for cybersecurity:</p>
                                <ul>
                                    <li><strong>File System</strong>: Directory structure, permissions, ownership</li>
                                    <li><strong>Processes</strong>: Process management, monitoring, signals</li>
                                    <li><strong>Users & Groups</strong>: User management, sudo, authentication</li>
                                    <li><strong>Services</strong>: systemd, daemons, service management</li>
                                    <li><strong>Logs</strong>: System logs, log rotation, analysis</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Linux command examples for security analysis
import subprocess
import os
import stat

# Check file permissions
def check_permissions(filepath):
    """Analyze file permissions for security issues"""
    try:
        file_stat = os.stat(filepath)
        mode = stat.filemode(file_stat.st_mode)
        owner = file_stat.st_uid
        group = file_stat.st_gid
        return {
            'permissions': mode,
            'owner': owner,
            'group': group,
            'world_writable': bool(file_stat.st_mode & stat.S_IWOTH)
        }
    except Exception as e:
        return {'error': str(e)}

# Find SUID files (security risk)
def find_suid_files(directory="/usr"):
    """Find files with SUID bit set"""
    suid_files = []
    try:
        result = subprocess.run(
            ['find', directory, '-perm', '-4000', '-type', 'f'],
            capture_output=True, text=True
        )
        suid_files = result.stdout.strip().split('\n')
    except Exception as e:
        print(f"Error: {e}")
    return suid_files</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Security team uses Linux commands to audit file permissions, monitor processes, and analyze system logs for unauthorized access attempts.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Linux dominates server environments</li>
                                    <li>Understanding OS internals helps identify vulnerabilities</li>
                                    <li>System administration skills essential for security roles</li>
                                    <li>Log analysis critical for incident response</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Server administration and hardening</li>
                                    <li>Digital forensics and incident response</li>
                                    <li>Penetration testing and vulnerability assessment</li>
                                    <li>Security operations centers (SOCs)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Use principle of least privilege for user accounts</li>
                                        <li>Regularly update and patch systems</li>
                                        <li>Monitor system logs for anomalies</li>
                                        <li>Implement proper file permissions and ownership</li>
                                        <li>Use configuration management tools</li>
                                        <li>Enable audit logging for critical systems</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't run services as root unnecessarily</li>
                                        <li>Don't ignore security updates</li>
                                        <li>Don't use weak or default passwords</li>
                                        <li>Don't disable important security features</li>
                                        <li>Don't trust user input without validation</li>
                                        <li>Don't leave unnecessary services running</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Cryptography Basics -->
                    <article class="subject-card" id="cryptography">
                        <h3 class="subject-title">Cryptography Basics</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Fundamental cryptographic concepts for security:</p>
                                <ul>
                                    <li><strong>Hashing</strong>: One-way functions (SHA-256, MD5)</li>
                                    <li><strong>Symmetric Encryption</strong>: Same key for encrypt/decrypt (AES)</li>
                                    <li><strong>Asymmetric Encryption</strong>: Public/private key pairs (RSA)</li>
                                    <li><strong>Digital Signatures</strong>: Authentication and non-repudiation</li>
                                    <li><strong>Key Management</strong>: Generation, distribution, storage</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Python cryptography examples
import hashlib
import hmac
from cryptography.fernet import Fernet

# Hashing example
def hash_password(password, salt):
    """Secure password hashing with salt"""
    return hashlib.pbkdf2_hmac('sha256', 
                              password.encode('utf-8'), 
                              salt, 
                              100000)  # 100k iterations

# Symmetric encryption
def encrypt_data(data, key):
    """Encrypt data using Fernet (AES)"""
    f = Fernet(key)
    encrypted_data = f.encrypt(data.encode())
    return encrypted_data

def decrypt_data(encrypted_data, key):
    """Decrypt data using Fernet"""
    f = Fernet(key)
    decrypted_data = f.decrypt(encrypted_data)
    return decrypted_data.decode()

# Generate key
key = Fernet.generate_key()

# HMAC for message authentication
def create_hmac(message, secret_key):
    """Create HMAC for message integrity"""
    return hmac.new(secret_key.encode(), 
                   message.encode(), 
                   hashlib.sha256).hexdigest()</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Banking applications use AES encryption for data transmission, RSA for key exchange, and SHA-256 for password hashing to protect customer information.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Protects data confidentiality and integrity</li>
                                    <li>Enables secure communication over untrusted networks</li>
                                    <li>Provides authentication and non-repudiation</li>
                                    <li>Required for compliance (PCI DSS, GDPR)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>HTTPS/TLS for web security</li>
                                    <li>Database encryption at rest</li>
                                    <li>File and disk encryption</li>
                                    <li>Digital certificates and PKI</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Use well-established cryptographic libraries</li>
                                        <li>Implement proper key management</li>
                                        <li>Use strong, proven algorithms (AES, RSA, SHA-256)</li>
                                        <li>Always use salt for password hashing</li>
                                        <li>Regularly rotate encryption keys</li>
                                        <li>Validate input before cryptographic operations</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't implement your own crypto algorithms</li>
                                        <li>Don't use deprecated algorithms (MD5, DES)</li>
                                        <li>Don't hardcode encryption keys in source code</li>
                                        <li>Don't use the same key for different purposes</li>
                                        <li>Don't ignore proper random number generation</li>
                                        <li>Don't store keys alongside encrypted data</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Web Security Overview -->
                    <article class="subject-card" id="web-security">
                        <h3 class="subject-title">Web Security Overview</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Web application security fundamentals:</p>
                                <ul>
                                    <li><strong>HTTP vs HTTPS</strong>: Protocol security differences</li>
                                    <li><strong>Cookies</strong>: Session management and security flags</li>
                                    <li><strong>Sessions</strong>: Server-side state management</li>
                                    <li><strong>CORS</strong>: Cross-Origin Resource Sharing</li>
                                    <li><strong>Content Security Policy</strong>: XSS prevention</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Web security headers example
from flask import Flask, make_response, request
import secrets

app = Flask(__name__)

def set_security_headers(response):
    """Add security headers to response"""
    response.headers['X-Content-Type-Options'] = 'nosniff'
    response.headers['X-Frame-Options'] = 'DENY'
    response.headers['X-XSS-Protection'] = '1; mode=block'
    response.headers['Strict-Transport-Security'] = 'max-age=31536000; includeSubDomains'
    response.headers['Content-Security-Policy'] = "default-src 'self'"
    return response

@app.route('/login', methods=['POST'])
def login():
    # Secure session handling
    if validate_credentials(request.form['username'], 
                          request.form['password']):
        response = make_response('Login successful')
        
        # Secure cookie settings
        response.set_cookie('session_id', 
                          generate_session_id(),
                          secure=True,      # HTTPS only
                          httponly=True,    # No JavaScript access
                          samesite='Strict') # CSRF protection
        
        return set_security_headers(response)
    return 'Login failed', 401

def generate_session_id():
    """Generate cryptographically secure session ID"""
    return secrets.token_urlsafe(32)</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>E-commerce sites implement HTTPS, secure cookies, CSRF tokens, and input validation to protect customer transactions and personal data.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Web applications are primary attack targets</li>
                                    <li>Protects user data and business assets</li>
                                    <li>Maintains user trust and compliance</li>
                                    <li>Prevents financial and reputational damage</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>All web applications and APIs</li>
                                    <li>E-commerce and financial platforms</li>
                                    <li>Social media and content platforms</li>
                                    <li>Enterprise web applications</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Always use HTTPS in production</li>
                                        <li>Implement proper session management</li>
                                        <li>Validate and sanitize all user input</li>
                                        <li>Use security headers (CSP, HSTS, etc.)</li>
                                        <li>Implement rate limiting and throttling</li>
                                        <li>Regular security testing and code reviews</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't trust client-side validation only</li>
                                        <li>Don't expose sensitive data in URLs</li>
                                        <li>Don't use weak session management</li>
                                        <li>Don't ignore security headers</li>
                                        <li>Don't store passwords in plain text</li>
                                        <li>Don't rely on security by obscurity</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- OWASP Top 10 -->
                    <article class="subject-card" id="owasp">
                        <h3 class="subject-title">OWASP Top 10</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Most critical web application security risks:</p>
                                <ul>
                                    <li><strong>Injection</strong>: SQL, NoSQL, OS command injection</li>
                                    <li><strong>Broken Authentication</strong>: Session management flaws</li>
                                    <li><strong>Sensitive Data Exposure</strong>: Inadequate protection</li>
                                    <li><strong>XML External Entities (XXE)</strong>: XML parser vulnerabilities</li>
                                    <li><strong>Broken Access Control</strong>: Authorization failures</li>
                                    <li><strong>Security Misconfiguration</strong>: Default/weak configs</li>
                                    <li><strong>Cross-Site Scripting (XSS)</strong>: Script injection</li>
                                    <li><strong>Insecure Deserialization</strong>: Object injection</li>
                                    <li><strong>Known Vulnerabilities</strong>: Outdated components</li>
                                    <li><strong>Insufficient Logging</strong>: Monitoring gaps</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># SQL Injection prevention
import sqlite3
from flask import request

# VULNERABLE - Don't do this!
def vulnerable_login(username, password):
    query = f"SELECT * FROM users WHERE username='{username}' AND password='{password}'"
    # Attacker can input: admin'; --
    cursor.execute(query)

# SECURE - Use parameterized queries
def secure_login(username, password):
    query = "SELECT * FROM users WHERE username=? AND password=?"
    cursor.execute(query, (username, password))

# XSS Prevention
def sanitize_output(user_input):
    """Escape HTML to prevent XSS"""
    import html
    return html.escape(user_input)

# Access control example
def check_authorization(user_id, resource_id):
    """Verify user can access resource"""
    user = get_user(user_id)
    resource = get_resource(resource_id)
    
    if user.role == 'admin':
        return True
    elif resource.owner_id == user.id:
        return True
    else:
        return False</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Major data breaches like Equifax (2017) resulted from unpatched vulnerabilities, while companies lose millions due to SQL injection and XSS attacks.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Provides standardized security guidance</li>
                                    <li>Helps prioritize security efforts</li>
                                    <li>Industry-recognized security framework</li>
                                    <li>Reduces security risks and compliance gaps</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Web application security assessments</li>
                                    <li>Developer security training</li>
                                    <li>Security testing and code reviews</li>
                                    <li>Compliance and audit frameworks</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Implement security throughout development lifecycle</li>
                                        <li>Use parameterized queries for database access</li>
                                        <li>Validate and encode all user inputs</li>
                                        <li>Implement proper authentication and authorization</li>
                                        <li>Keep frameworks and libraries updated</li>
                                        <li>Enable comprehensive logging and monitoring</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't treat OWASP Top 10 as complete security checklist</li>
                                        <li>Don't ignore context-specific security requirements</li>
                                        <li>Don't rely solely on automated tools</li>
                                        <li>Don't assume older versions are secure</li>
                                        <li>Don't skip security testing in development</li>
                                        <li>Don't ignore security training for developers</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Threats & Vulnerabilities -->
                    <article class="subject-card" id="threats">
                        <h3 class="subject-title">Threats & Vulnerabilities</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Understanding cybersecurity fundamentals:</p>
                                <ul>
                                    <li><strong>CIA Triad</strong>: Confidentiality, Integrity, Availability</li>
                                    <li><strong>Threat Modeling</strong>: STRIDE, PASTA methodologies</li>
                                    <li><strong>Vulnerability Assessment</strong>: Identifying weaknesses</li>
                                    <li><strong>Risk Management</strong>: Risk = Threat √ó Vulnerability √ó Impact</li>
                                    <li><strong>Attack Vectors</strong>: Common attack methods</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Threat modeling example
class ThreatModel:
    def __init__(self, asset_name):
        self.asset = asset_name
        self.threats = []
        self.vulnerabilities = []
        self.controls = []
    
    def add_threat(self, threat_type, description, likelihood, impact):
        """Add identified threat"""
        threat = {
            'type': threat_type,  # STRIDE: Spoofing, Tampering, etc.
            'description': description,
            'likelihood': likelihood,  # 1-5 scale
            'impact': impact,         # 1-5 scale
            'risk_score': likelihood * impact
        }
        self.threats.append(threat)
    
    def prioritize_threats(self):
        """Sort threats by risk score"""
        return sorted(self.threats, 
                     key=lambda x: x['risk_score'], 
                     reverse=True)

# Example usage
web_app = ThreatModel("Customer Database")
web_app.add_threat("Injection", "SQL injection attack", 4, 5)
web_app.add_threat("Spoofing", "User impersonation", 3, 4)
web_app.add_threat("DoS", "Denial of service", 2, 3)

high_risks = web_app.prioritize_threats()</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Financial institutions conduct regular threat modeling to identify risks to customer data, implementing controls like multi-factor authentication and network segmentation.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Proactive security approach</li>
                                    <li>Helps allocate security resources effectively</li>
                                    <li>Supports compliance requirements</li>
                                    <li>Reduces security incidents and costs</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Enterprise security programs</li>
                                    <li>Software development lifecycle</li>
                                    <li>Risk assessment and audit</li>
                                    <li>Incident response planning</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Conduct regular threat assessments</li>
                                        <li>Use standardized threat modeling frameworks</li>
                                        <li>Involve diverse stakeholders in threat modeling</li>
                                        <li>Prioritize threats based on risk scores</li>
                                        <li>Implement defense in depth strategy</li>
                                        <li>Regularly update threat models</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't ignore low-likelihood, high-impact threats</li>
                                        <li>Don't treat threat modeling as one-time activity</li>
                                        <li>Don't focus only on technical threats</li>
                                        <li>Don't ignore insider threats</li>
                                        <li>Don't implement controls without proper assessment</li>
                                        <li>Don't underestimate social engineering risks</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Secure Coding Principles -->
                    <article class="subject-card" id="secure-coding">
                        <h3 class="subject-title">Secure Coding Principles</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Essential secure development practices:</p>
                                <ul>
                                    <li><strong>Input Validation</strong>: Validate all external input</li>
                                    <li><strong>Output Encoding</strong>: Prevent injection attacks</li>
                                    <li><strong>Authentication</strong>: Strong user verification</li>
                                    <li><strong>Authorization</strong>: Proper access controls</li>
                                    <li><strong>Error Handling</strong>: Secure error management</li>
                                    <li><strong>Secrets Management</strong>: Protecting sensitive data</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Secure coding examples
import re
import os
from werkzeug.security import generate_password_hash, check_password_hash

# Input validation
def validate_email(email):
    """Validate email format"""
    pattern = r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
    return re.match(pattern, email) is not None

def validate_age(age_str):
    """Validate age input"""
    try:
        age = int(age_str)
        return 0 <= age <= 150
    except ValueError:
        return False

# Secrets management
class Config:
    """Secure configuration management"""
    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-key-change-in-production'
    DATABASE_URL = os.environ.get('DATABASE_URL')
    
    @staticmethod
    def get_api_key():
        """Retrieve API key from environment"""
        api_key = os.environ.get('API_KEY')
        if not api_key:
            raise ValueError("API_KEY environment variable not set")
        return api_key

# Secure password handling
def create_user(username, password):
    """Create user with secure password hash"""
    if len(password) < 8:
        raise ValueError("Password must be at least 8 characters")
    
    password_hash = generate_password_hash(password)
    # Store username and password_hash in database
    return {'username': username, 'password_hash': password_hash}

def authenticate_user(username, password, stored_hash):
    """Authenticate user securely"""
    return check_password_hash(stored_hash, password)</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Software companies implement secure coding standards, code reviews, and static analysis tools to prevent vulnerabilities before deployment.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Prevents security vulnerabilities at source</li>
                                    <li>Reduces cost of fixing security issues</li>
                                    <li>Protects user data and business assets</li>
                                    <li>Meets compliance and regulatory requirements</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>All software development projects</li>
                                    <li>Web and mobile applications</li>
                                    <li>API and microservice development</li>
                                    <li>Enterprise software systems</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Implement defense in depth</li>
                                        <li>Use established security libraries</li>
                                        <li>Conduct regular code reviews</li>
                                        <li>Follow principle of least privilege</li>
                                        <li>Implement proper error handling</li>
                                        <li>Use automated security testing tools</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't hardcode secrets in source code</li>
                                        <li>Don't trust user input without validation</li>
                                        <li>Don't expose sensitive information in errors</li>
                                        <li>Don't use deprecated security functions</li>
                                        <li>Don't skip security testing</li>
                                        <li>Don't implement custom crypto without expertise</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Logging & Monitoring Basics -->
                    <article class="subject-card" id="logging">
                        <h3 class="subject-title">Logging & Monitoring Basics</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Essential logging and monitoring for security:</p>
                                <ul>
                                    <li><strong>Security Events</strong>: Login attempts, access violations</li>
                                    <li><strong>Log Formats</strong>: Structured logging (JSON, syslog)</li>
                                    <li><strong>Log Management</strong>: Collection, storage, retention</li>
                                    <li><strong>SIEM</strong>: Security Information Event Management</li>
                                    <li><strong>Alerting</strong>: Real-time threat detection</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Security logging example
import logging
import json
import datetime
from functools import wraps

# Configure security logger
security_logger = logging.getLogger('security')
handler = logging.FileHandler('security.log')
formatter = logging.Formatter('%(asctime)s - %(levelname)s - %(message)s')
handler.setFormatter(formatter)
security_logger.addHandler(handler)
security_logger.setLevel(logging.INFO)

def log_security_event(event_type, user_id=None, ip_address=None, details=None):
    """Log security events in structured format"""
    event = {
        'timestamp': datetime.datetime.utcnow().isoformat(),
        'event_type': event_type,
        'user_id': user_id,
        'ip_address': ip_address,
        'details': details or {}
    }
    security_logger.info(json.dumps(event))

def security_monitor(func):
    """Decorator to monitor security-sensitive functions"""
    @wraps(func)
    def wrapper(*args, **kwargs):
        start_time = datetime.datetime.utcnow()
        try:
            result = func(*args, **kwargs)
            log_security_event(
                'function_success',
                details={'function': func.__name__, 'duration': str(datetime.datetime.utcnow() - start_time)}
            )
            return result
        except Exception as e:
            log_security_event(
                'function_error',
                details={'function': func.__name__, 'error': str(e)}
            )
            raise
    return wrapper

@security_monitor
def login_attempt(username, password, ip_address):
    """Example login function with security logging"""
    if authenticate_user(username, password):
        log_security_event('login_success', username, ip_address)
        return True
    else:
        log_security_event('login_failure', username, ip_address)
        return False</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Financial institutions use SIEM systems to monitor millions of transactions daily, automatically detecting and alerting on suspicious patterns and potential fraud.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Enables incident detection and response</li>
                                    <li>Provides forensic evidence for investigations</li>
                                    <li>Supports compliance requirements</li>
                                    <li>Helps identify attack patterns and trends</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Security operations centers (SOCs)</li>
                                    <li>Web applications and APIs</li>
                                    <li>Network infrastructure monitoring</li>
                                    <li>Compliance and audit systems</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Log all security-relevant events</li>
                                        <li>Use structured logging formats</li>
                                        <li>Implement log integrity protection</li>
                                        <li>Set up real-time alerting for critical events</li>
                                        <li>Establish log retention policies</li>
                                        <li>Regularly review and analyze logs</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't log sensitive data (passwords, PII)</li>
                                        <li>Don't ignore log storage and retention limits</li>
                                        <li>Don't rely on logs for primary security controls</li>
                                        <li>Don't forget to protect log files themselves</li>
                                        <li>Don't create excessive noise in logs</li>
                                        <li>Don't delay in responding to critical alerts</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>
                </div>

                <div class="checklist">
                    <h3>üìã Track 3 Study Checklist</h3>
                    <div class="checklist-grid">
                        <label class="checklist-item"><input type="checkbox"> Networking Basics</label>
                        <label class="checklist-item"><input type="checkbox"> OS & Linux</label>
                        <label class="checklist-item"><input type="checkbox"> Cryptography</label>
                        <label class="checklist-item"><input type="checkbox"> Web Security</label>
                        <label class="checklist-item"><input type="checkbox"> OWASP Top 10</label>
                        <label class="checklist-item"><input type="checkbox"> Threats</label>
                        <label class="checklist-item"><input type="checkbox"> Secure Coding</label>
                        <label class="checklist-item"><input type="checkbox"> Logging</label>
                    </div>
                </div>
            </section>

            <!-- TRACK 4: Python for Cybersecurity -->
            <section class="track-section" id="track4">
                <h2 class="track-header">Track 4: Python for Cybersecurity (Automation & Tooling)</h2>
                
                <div class="subjects-grid">
                    <!-- Network Scanning -->
                    <article class="subject-card" id="network-scanning">
                        <h3 class="subject-title">Network Scanning</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Network reconnaissance and scanning concepts:</p>
                                <ul>
                                    <li><strong>Port Scanning</strong>: TCP/UDP port discovery</li>
                                    <li><strong>Service Detection</strong>: Identifying running services</li>
                                    <li><strong>OS Fingerprinting</strong>: Operating system detection</li>
                                    <li><strong>Stealth Techniques</strong>: Avoiding detection</li>
                                    <li><strong>Legal Considerations</strong>: Authorization and ethics</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Python network scanning examples
import socket
import threading
from datetime import datetime

class NetworkScanner:
    def __init__(self, target_host):
        self.target = target_host
        self.open_ports = []
    
    def scan_port(self, port):
        """Scan a single port"""
        try:
            sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
            sock.settimeout(1)
            result = sock.connect_ex((self.target, port))
            sock.close()
            
            if result == 0:
                self.open_ports.append(port)
                print(f"Port {port}: Open")
        except socket.gaierror:
            print(f"Hostname {self.target} could not be resolved")
        except Exception as e:
            print(f"Error scanning port {port}: {e}")
    
    def scan_range(self, start_port=1, end_port=1024):
        """Scan a range of ports"""
        print(f"Starting scan on {self.target}")
        print(f"Time started: {datetime.now()}")
        
        threads = []
        for port in range(start_port, end_port + 1):
            thread = threading.Thread(target=self.scan_port, args=(port,))
            threads.append(thread)
            thread.start()
            
            # Limit concurrent threads
            if len(threads) >= 100:
                for t in threads:
                    t.join()
                threads = []
        
        # Wait for remaining threads
        for t in threads:
            t.join()
        
        return self.open_ports

# Service detection example
def get_service_banner(host, port):
    """Attempt to grab service banner"""
    try:
        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        sock.settimeout(3)
        sock.connect((host, port))
        
        # Send HTTP request for web services
        if port in [80, 443, 8080]:
            sock.send(b"GET / HTTP/1.1\r\nHost: " + host.encode() + b"\r\n\r\n")
        
        banner = sock.recv(1024).decode('utf-8', errors='ignore')
        sock.close()
        return banner.strip()
    except:
        return "Unknown"

# Usage example (for authorized testing only)
# scanner = NetworkScanner("192.168.1.1")
# open_ports = scanner.scan_range(1, 1000)</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Security teams use network scanning during authorized penetration tests to discover exposed services and potential attack vectors on corporate networks.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Network reconnaissance and asset discovery</li>
                                    <li>Vulnerability assessment and penetration testing</li>
                                    <li>Security monitoring and compliance checking</li>
                                    <li>Incident response and forensics</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Penetration testing and red team exercises</li>
                                    <li>Network security assessments</li>
                                    <li>IT asset management</li>
                                    <li>Security operations centers</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Always obtain proper authorization before scanning</li>
                                        <li>Use appropriate timing to avoid network disruption</li>
                                        <li>Implement rate limiting and timeout controls</li>
                                        <li>Document and report findings appropriately</li>
                                        <li>Respect network resources and bandwidth</li>
                                        <li>Follow responsible disclosure practices</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't scan networks without explicit permission</li>
                                        <li>Don't use aggressive scanning that could cause DoS</li>
                                        <li>Don't ignore legal and ethical boundaries</li>
                                        <li>Don't scan production systems during business hours</li>
                                        <li>Don't attempt to exploit discovered vulnerabilities</li>
                                        <li>Don't share scan results inappropriately</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Packet Capture & Parsing -->
                    <article class="subject-card" id="packet-capture">
                        <h3 class="subject-title">Packet Capture & Parsing</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Network traffic analysis and packet inspection:</p>
                                <ul>
                                    <li><strong>Packet Capture</strong>: Using libpcap/WinPcap</li>
                                    <li><strong>Protocol Analysis</strong>: TCP/IP, HTTP, DNS parsing</li>
                                    <li><strong>Traffic Filtering</strong>: BPF filters and conditions</li>
                                    <li><strong>Deep Packet Inspection</strong>: Content analysis</li>
                                    <li><strong>Network Forensics</strong>: Evidence collection</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Packet analysis with Python (conceptual example)
import struct
import socket

class PacketParser:
    def __init__(self):
        self.packets = []
    
    def parse_ethernet_header(self, packet):
        """Parse Ethernet header"""
        eth_header = packet[:14]
        eth_unpacked = struct.unpack('!6s6sH', eth_header)
        
        return {
            'dest_mac': ':'.join(f'{b:02x}' for b in eth_unpacked[0]),
            'src_mac': ':'.join(f'{b:02x}' for b in eth_unpacked[1]),
            'protocol': eth_unpacked[2]
        }
    
    def parse_ip_header(self, packet):
        """Parse IP header"""
        ip_header = packet[14:34]
        ip_unpacked = struct.unpack('!BBHHHBBH4s4s', ip_header)
        
        version_ihl = ip_unpacked[0]
        version = version_ihl >> 4
        ihl = version_ihl & 0xF
        
        return {
            'version': version,
            'header_length': ihl * 4,
            'type_of_service': ip_unpacked[1],
            'total_length': ip_unpacked[2],
            'id': ip_unpacked[3],
            'flags': ip_unpacked[4],
            'fragment_offset': ip_unpacked[5],
            'ttl': ip_unpacked[6],
            'protocol': ip_unpacked[7],
            'checksum': ip_unpacked[8],
            'source_ip': socket.inet_ntoa(ip_unpacked[9]),
            'dest_ip': socket.inet_ntoa(ip_unpacked[10])
        }
    
    def parse_tcp_header(self, packet, ip_header_length):
        """Parse TCP header"""
        tcp_start = 14 + ip_header_length
        tcp_header = packet[tcp_start:tcp_start + 20]
        tcp_unpacked = struct.unpack('!HHLLBBHHH', tcp_header)
        
        return {
            'src_port': tcp_unpacked[0],
            'dest_port': tcp_unpacked[1],
            'sequence': tcp_unpacked[2],
            'acknowledgment': tcp_unpacked[3],
            'header_length': (tcp_unpacked[4] >> 4) * 4,
            'flags': tcp_unpacked[5],
            'window': tcp_unpacked[6],
            'checksum': tcp_unpacked[7],
            'urgent_pointer': tcp_unpacked[8]
        }
    
    def analyze_http_traffic(self, packet_data):
        """Analyze HTTP requests and responses"""
        try:
            text = packet_data.decode('utf-8', errors='ignore')
            if text.startswith(('GET', 'POST', 'PUT', 'DELETE')):
                lines = text.split('\n')
                method, path, version = lines[0].split(' ', 2)
                
                headers = {}
                for line in lines[1:]:
                    if ':' in line:
                        key, value = line.split(':', 1)
                        headers[key.strip()] = value.strip()
                
                return {
                    'type': 'request',
                    'method': method,
                    'path': path,
                    'headers': headers
                }
            elif text.startswith('HTTP/'):
                lines = text.split('\n')
                status_line = lines[0].split(' ', 2)
                
                return {
                    'type': 'response',
                    'status_code': status_line[1],
                    'status_text': status_line[2] if len(status_line) > 2 else ''
                }
        except:
            pass
        return None

# Traffic analysis example
def detect_suspicious_patterns(packets):
    """Detect potentially suspicious network patterns"""
    suspicious_events = []
    
    # Port scan detection
    port_connections = {}
    for packet in packets:
        src_ip = packet.get('src_ip')
        dest_port = packet.get('dest_port')
        
        if src_ip not in port_connections:
            port_connections[src_ip] = set()
        port_connections[src_ip].add(dest_port)
        
        # Flag if single IP connects to many ports
        if len(port_connections[src_ip]) > 20:
            suspicious_events.append({
                'type': 'potential_port_scan',
                'source_ip': src_ip,
                'ports_contacted': len(port_connections[src_ip])
            })
    
    return suspicious_events</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Network security teams use packet capture tools like Wireshark and custom Python scripts to analyze network traffic for intrusions, malware communications, and data exfiltration.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Network troubleshooting and performance analysis</li>
                                    <li>Security monitoring and intrusion detection</li>
                                    <li>Digital forensics and incident investigation</li>
                                    <li>Protocol development and testing</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Network operations centers (NOCs)</li>
                                    <li>Security operations centers (SOCs)</li>
                                    <li>Digital forensics laboratories</li>
                                    <li>Network equipment testing</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Only capture traffic on authorized networks</li>
                                        <li>Implement proper data retention and privacy policies</li>
                                        <li>Use appropriate filters to reduce data volume</li>
                                        <li>Secure packet capture files and analysis systems</li>
                                        <li>Follow legal requirements for data handling</li>
                                        <li>Document analysis procedures and findings</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't capture traffic without proper authorization</li>
                                        <li>Don't analyze personal or private communications</li>
                                        <li>Don't store sensitive data longer than necessary</li>
                                        <li>Don't ignore encryption and privacy protections</li>
                                        <li>Don't share captured data inappropriately</li>
                                        <li>Don't violate wiretapping or privacy laws</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Web Requests & Scraping -->
                    <article class="subject-card" id="web-requests">
                        <h3 class="subject-title">Web Requests & Scraping</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>HTTP communication and web data extraction:</p>
                                <ul>
                                    <li><strong>HTTP Methods</strong>: GET, POST, PUT, DELETE</li>
                                    <li><strong>Headers & Authentication</strong>: Cookies, tokens, basic auth</li>
                                    <li><strong>HTML Parsing</strong>: BeautifulSoup, lxml, CSS selectors</li>
                                    <li><strong>Session Management</strong>: Maintaining state across requests</li>
                                    <li><strong>Rate Limiting</strong>: Respectful scraping practices</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Web scraping for security intelligence
import requests
from bs4 import BeautifulSoup
import time
import urllib.robotparser

class SecurityWebScraper:
    def __init__(self):
        self.session = requests.Session()
        self.session.headers.update({
            'User-Agent': 'SecurityBot/1.0 (Research Purpose)'
        })
    
    def check_robots_txt(self, url):
        """Check robots.txt before scraping"""
        try:
            robots_url = f"{url.rstrip('/')}/robots.txt"
            rp = urllib.robotparser.RobotFileParser()
            rp.set_url(robots_url)
            rp.read()
            return rp.can_fetch('*', url)
        except:
            return True  # If can't check, proceed with caution
    
    def scrape_threat_intel(self, url):
        """Scrape threat intelligence feeds"""
        if not self.check_robots_txt(url):
            print(f"Robots.txt disallows scraping {url}")
            return None
        
        try:
            response = self.session.get(url, timeout=10)
            response.raise_for_status()
            
            soup = BeautifulSoup(response.content, 'html.parser')
            
            # Extract IOCs (Indicators of Compromise)
            iocs = {
                'ips': [],
                'domains': [],
                'hashes': []
            }
            
            # Look for IP patterns
            import re
            ip_pattern = r'\b(?:[0-9]{1,3}\.){3}[0-9]{1,3}\b'
            text = soup.get_text()
            iocs['ips'] = re.findall(ip_pattern, text)
            
            # Extract domains from links
            for link in soup.find_all('a', href=True):
                href = link['href']
                if href.startswith('http'):
                    domain = href.split('/')[2]
                    iocs['domains'].append(domain)
            
            return iocs
            
        except requests.RequestException as e:
            print(f"Error scraping {url}: {e}")
            return None
    
    def api_request_with_auth(self, url, api_key):
        """Make authenticated API requests"""
        headers = {
            'Authorization': f'Bearer {api_key}',
            'Content-Type': 'application/json'
        }
        
        try:
            response = self.session.get(url, headers=headers)
            response.raise_for_status()
            return response.json()
        except requests.RequestException as e:
            print(f"API request failed: {e}")
            return None

# Rate-limited scraping
def scrape_with_delay(urls, delay=1):
    """Scrape multiple URLs with rate limiting"""
    results = []
    scraper = SecurityWebScraper()
    
    for url in urls:
        print(f"Scraping: {url}")
        data = scraper.scrape_threat_intel(url)
        results.append(data)
        time.sleep(delay)  # Be respectful
    
    return results</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Threat intelligence teams scrape public security feeds, vulnerability databases, and dark web sources to gather IOCs and attack signatures for defensive purposes.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Threat intelligence gathering and analysis</li>
                                    <li>Vulnerability research and tracking</li>
                                    <li>Security testing and reconnaissance</li>
                                    <li>Automated data collection for analysis</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Cybersecurity intelligence teams</li>
                                    <li>Penetration testing and red teams</li>
                                    <li>Security research organizations</li>
                                    <li>Incident response investigations</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Always check and respect robots.txt</li>
                                        <li>Implement appropriate rate limiting</li>
                                        <li>Use proper authentication for APIs</li>
                                        <li>Handle errors and exceptions gracefully</li>
                                        <li>Set appropriate timeouts for requests</li>
                                        <li>Maintain session state for efficiency</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't scrape without permission or legal basis</li>
                                        <li>Don't overwhelm servers with rapid requests</li>
                                        <li>Don't ignore rate limits or API quotas</li>
                                        <li>Don't scrape personal or private information</li>
                                        <li>Don't use scraped data for malicious purposes</li>
                                        <li>Don't ignore copyright and data protection laws</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Log Analysis -->
                    <article class="subject-card" id="log-analysis">
                        <h3 class="subject-title">Log Analysis</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Automated log processing and anomaly detection:</p>
                                <ul>
                                    <li><strong>Log Parsing</strong>: Structured and unstructured log formats</li>
                                    <li><strong>Pattern Matching</strong>: Regular expressions, signatures</li>
                                    <li><strong>Aggregation</strong>: Grouping and counting events</li>
                                    <li><strong>Anomaly Detection</strong>: Statistical and behavioral analysis</li>
                                    <li><strong>Reporting</strong>: Automated alerts and dashboards</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Log analysis for security monitoring
import re
import json
import pandas as pd
from collections import defaultdict, Counter
from datetime import datetime, timedelta

class SecurityLogAnalyzer:
    def __init__(self):
        self.patterns = {
            'failed_login': r'Failed password for (\w+) from ([\d\.]+)',
            'successful_login': r'Accepted password for (\w+) from ([\d\.]+)',
            'port_scan': r'Connection attempt from ([\d\.]+) to port (\d+)',
            'sql_injection': r'(union|select|insert|delete|drop).*from',
            'xss_attempt': r'&lt;script|javascript:|onclick='
        }
    
    def parse_apache_log(self, log_line):
        """Parse Apache access log format"""
        pattern = r'([\d\.]+) - - \[(.*?)\] "(.*?)" (\d+) (\d+)'
        match = re.match(pattern, log_line)
        
        if match:
            return {
                'ip': match.group(1),
                'timestamp': match.group(2),
                'request': match.group(3),
                'status_code': int(match.group(4)),
                'size': int(match.group(5))
            }
        return None
    
    def detect_brute_force(self, logs, threshold=5, time_window=300):
        """Detect brute force attacks"""
        failed_attempts = defaultdict(list)
        alerts = []
        
        for log in logs:
            if 'failed_login' in log:
                ip = log['ip']
                timestamp = log['timestamp']
                failed_attempts[ip].append(timestamp)
        
        for ip, timestamps in failed_attempts.items():
            if len(timestamps) >= threshold:
                # Check if attempts are within time window
                recent_attempts = [t for t in timestamps 
                                 if (timestamps[-1] - t).seconds <= time_window]
                if len(recent_attempts) >= threshold:
                    alerts.append({
                        'type': 'brute_force',
                        'ip': ip,
                        'attempts': len(recent_attempts),
                        'time_range': f"{recent_attempts[0]} - {recent_attempts[-1]}"
                    })
        
        return alerts
    
    def analyze_web_attacks(self, web_logs):
        """Analyze web logs for attack patterns"""
        attacks = {
            'sql_injection': [],
            'xss_attempts': [],
            'suspicious_requests': []
        }
        
        for log in web_logs:
            request = log.get('request', '').lower()
            
            # SQL injection detection
            if re.search(self.patterns['sql_injection'], request, re.IGNORECASE):
                attacks['sql_injection'].append({
                    'ip': log['ip'],
                    'request': log['request'],
                    'timestamp': log['timestamp']
                })
            
            # XSS detection
            if re.search(self.patterns['xss_attempt'], request, re.IGNORECASE):
                attacks['xss_attempts'].append({
                    'ip': log['ip'],
                    'request': log['request'],
                    'timestamp': log['timestamp']
                })
            
            # Suspicious status codes
            if log.get('status_code') in [401, 403, 404] and len(request) > 100:
                attacks['suspicious_requests'].append(log)
        
        return attacks
    
    def generate_report(self, analysis_results):
        """Generate security analysis report"""
        report = {
            'timestamp': datetime.now().isoformat(),
            'summary': {},
            'alerts': analysis_results,
            'recommendations': []
        }
        
        # Count alerts by type
        alert_counts = Counter()
        for alert_type, alerts in analysis_results.items():
            alert_counts[alert_type] = len(alerts)
        
        report['summary'] = dict(alert_counts)
        
        # Generate recommendations
        if alert_counts['brute_force'] > 0:
            report['recommendations'].append(
                "Implement account lockout policies and rate limiting"
            )
        
        if alert_counts['sql_injection'] > 0:
            report['recommendations'].append(
                "Review and strengthen input validation and parameterized queries"
            )
        
        return report

# Example usage
analyzer = SecurityLogAnalyzer()

# Process log files
with open('access.log', 'r') as f:
    web_logs = [analyzer.parse_apache_log(line) for line in f]
    web_logs = [log for log in web_logs if log]  # Remove None entries

# Analyze for attacks
attack_results = analyzer.analyze_web_attacks(web_logs)
report = analyzer.generate_report(attack_results)</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>SOC analysts use automated log analysis to process millions of events daily, identifying patterns like credential stuffing attacks, malware communications, and data exfiltration attempts.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Real-time threat detection and response</li>
                                    <li>Forensic investigation and evidence gathering</li>
                                    <li>Compliance monitoring and reporting</li>
                                    <li>Performance and security trend analysis</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Security operations centers (SOCs)</li>
                                    <li>Incident response teams</li>
                                    <li>Compliance and audit departments</li>
                                    <li>System administration and DevOps</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Implement centralized log collection</li>
                                        <li>Use structured logging formats when possible</li>
                                        <li>Set up automated alerting for critical events</li>
                                        <li>Maintain proper log retention policies</li>
                                        <li>Regularly tune detection rules to reduce false positives</li>
                                        <li>Correlate events across multiple log sources</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't rely solely on signature-based detection</li>
                                        <li>Don't ignore baseline establishment for anomaly detection</li>
                                        <li>Don't process logs containing sensitive data insecurely</li>
                                        <li>Don't ignore log source integrity and authentication</li>
                                        <li>Don't create excessive false positive alerts</li>
                                        <li>Don't forget to secure log analysis systems themselves</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Simple Crypto Utilities -->
                    <article class="subject-card" id="crypto-utils">
                        <h3 class="subject-title">Simple Crypto Utilities</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Building security tools with cryptographic functions:</p>
                                <ul>
                                    <li><strong>Hash Functions</strong>: File integrity, password verification</li>
                                    <li><strong>HMAC</strong>: Message authentication codes</li>
                                    <li><strong>Random Generation</strong>: Secure tokens, salt generation</li>
                                    <li><strong>Base64 Encoding</strong>: Data encoding for transmission</li>
                                    <li><strong>Security Considerations</strong>: Timing attacks, key management</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Cryptographic utilities for security tools
import hashlib
import hmac
import secrets
import base64
import os
from pathlib import Path

class CryptoUtils:
    @staticmethod
    def calculate_file_hash(filepath, algorithm='sha256'):
        """Calculate hash of a file for integrity checking"""
        hash_func = hashlib.new(algorithm)
        
        try:
            with open(filepath, 'rb') as f:
                # Read file in chunks to handle large files
                for chunk in iter(lambda: f.read(4096), b""):
                    hash_func.update(chunk)
            return hash_func.hexdigest()
        except Exception as e:
            return f"Error: {e}"
    
    @staticmethod
    def verify_file_integrity(filepath, expected_hash, algorithm='sha256'):
        """Verify file hasn't been tampered with"""
        actual_hash = CryptoUtils.calculate_file_hash(filepath, algorithm)
        return secrets.compare_digest(actual_hash, expected_hash)
    
    @staticmethod
    def generate_secure_token(length=32):
        """Generate cryptographically secure random token"""
        return secrets.token_hex(length)
    
    @staticmethod
    def generate_salt(length=16):
        """Generate random salt for password hashing"""
        return os.urandom(length)
    
    @staticmethod
    def hash_password_pbkdf2(password, salt, iterations=100000):
        """Secure password hashing with PBKDF2"""
        return hashlib.pbkdf2_hmac('sha256', 
                                  password.encode('utf-8'), 
                                  salt, 
                                  iterations)
    
    @staticmethod
    def create_hmac_signature(message, secret_key, algorithm='sha256'):
        """Create HMAC signature for message authentication"""
        return hmac.new(
            secret_key.encode('utf-8'),
            message.encode('utf-8'),
            getattr(hashlib, algorithm)
        ).hexdigest()
    
    @staticmethod
    def verify_hmac_signature(message, signature, secret_key, algorithm='sha256'):
        """Verify HMAC signature"""
        expected_signature = CryptoUtils.create_hmac_signature(
            message, secret_key, algorithm
        )
        return secrets.compare_digest(signature, expected_signature)

class IntegrityChecker:
    """File integrity monitoring tool"""
    
    def __init__(self, baseline_file='integrity_baseline.json'):
        self.baseline_file = baseline_file
        self.baseline = {}
    
    def create_baseline(self, directory):
        """Create integrity baseline for directory"""
        import json
        
        baseline = {}
        for file_path in Path(directory).rglob('*'):
            if file_path.is_file():
                rel_path = str(file_path.relative_to(directory))
                baseline[rel_path] = {
                    'hash': CryptoUtils.calculate_file_hash(file_path),
                    'size': file_path.stat().st_size,
                    'modified': file_path.stat().st_mtime
                }
        
        with open(self.baseline_file, 'w') as f:
            json.dump(baseline, f, indent=2)
        
        self.baseline = baseline
        return baseline
    
    def check_integrity(self, directory):
        """Check current state against baseline"""
        import json
        
        if not os.path.exists(self.baseline_file):
            return "No baseline found. Create baseline first."
        
        with open(self.baseline_file, 'r') as f:
            baseline = json.load(f)
        
        changes = {
            'modified': [],
            'added': [],
            'deleted': []
        }
        
        current_files = set()
        for file_path in Path(directory).rglob('*'):
            if file_path.is_file():
                rel_path = str(file_path.relative_to(directory))
                current_files.add(rel_path)
                
                current_hash = CryptoUtils.calculate_file_hash(file_path)
                
                if rel_path in baseline:
                    if baseline[rel_path]['hash'] != current_hash:
                        changes['modified'].append(rel_path)
                else:
                    changes['added'].append(rel_path)
        
        # Check for deleted files
        baseline_files = set(baseline.keys())
        deleted_files = baseline_files - current_files
        changes['deleted'].extend(deleted_files)
        
        return changes

# Example usage
crypto_utils = CryptoUtils()

# Hash a file
file_hash = crypto_utils.calculate_file_hash('/path/to/important/file.txt')
print(f"File hash: {file_hash}")

# Generate secure tokens
api_token = crypto_utils.generate_secure_token()
session_id = crypto_utils.generate_secure_token(16)

# File integrity monitoring
integrity_checker = IntegrityChecker()
integrity_checker.create_baseline('/important/directory')
changes = integrity_checker.check_integrity('/important/directory')</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Security teams use crypto utilities to verify software downloads, detect file tampering, generate secure API tokens, and implement secure authentication systems.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Data integrity verification and tamper detection</li>
                                    <li>Secure token and credential generation</li>
                                    <li>Message authentication and verification</li>
                                    <li>Building security tools and utilities</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>File integrity monitoring systems</li>
                                    <li>API authentication and authorization</li>
                                    <li>Digital forensics and evidence handling</li>
                                    <li>Secure software development</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Use cryptographically secure random functions</li>
                                        <li>Implement proper key management practices</li>
                                        <li>Use constant-time comparison for security-critical operations</li>
                                        <li>Choose appropriate hash algorithms for the use case</li>
                                        <li>Implement proper error handling and logging</li>
                                        <li>Regularly update cryptographic libraries</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't use weak hash algorithms (MD5, SHA1) for security</li>
                                        <li>Don't implement custom cryptographic algorithms</li>
                                        <li>Don't use predictable random number generators</li>
                                        <li>Don't hardcode cryptographic keys or salts</li>
                                        <li>Don't ignore timing attack vulnerabilities</li>
                                        <li>Don't reuse nonces or initialization vectors</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- CLI Utilities -->
                    <article class="subject-card" id="cli-utils">
                        <h3 class="subject-title">CLI Utilities</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Building command-line security tools:</p>
                                <ul>
                                    <li><strong>Argument Parsing</strong>: argparse, click, commands</li>
                                    <li><strong>File Operations</strong>: Safe file handling, permissions</li>
                                    <li><strong>Output Formatting</strong>: Tables, JSON, colored output</li>
                                    <li><strong>Error Handling</strong>: User-friendly error messages</li>
                                    <li><strong>Configuration</strong>: Config files, environment variables</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># CLI security tool example
import argparse
import json
import sys
import os
from pathlib import Path
import logging

class SecurityCLI:
    def __init__(self):
        self.parser = self.create_parser()
        self.setup_logging()
    
    def create_parser(self):
        """Create command-line argument parser"""
        parser = argparse.ArgumentParser(
            description='Security Analysis CLI Tool',
            formatter_class=argparse.RawDescriptionHelpFormatter,
            epilog='''
Examples:
  %(prog)s scan --target 192.168.1.0/24 --ports 80,443
  %(prog)s analyze --log-file /var/log/access.log --format json
  %(prog)s hash --file document.pdf --algorithm sha256
            '''
        )
        
        # Global options
        parser.add_argument('-v', '--verbose', 
                          action='store_true',
                          help='Enable verbose output')
        parser.add_argument('--config',
                          default='~/.security-cli.conf',
                          help='Configuration file path')
        parser.add_argument('--output-format',
                          choices=['table', 'json', 'csv'],
                          default='table',
                          help='Output format')
        
        # Subcommands
        subparsers = parser.add_subparsers(dest='command', help='Available commands')
        
        # Scan command
        scan_parser = subparsers.add_parser('scan', help='Network scanning')
        scan_parser.add_argument('--target', required=True,
                               help='Target IP or network range')
        scan_parser.add_argument('--ports', 
                               default='80,443,22,21,25',
                               help='Comma-separated port list')
        scan_parser.add_argument('--timeout', type=int, default=3,
                               help='Connection timeout in seconds')
        
        # Analyze command
        analyze_parser = subparsers.add_parser('analyze', help='Log analysis')
        analyze_parser.add_argument('--log-file', required=True,
                                  help='Path to log file')
        analyze_parser.add_argument('--pattern',
                                  help='Search pattern (regex)')
        analyze_parser.add_argument('--time-range',
                                  help='Time range filter (YYYY-MM-DD:YYYY-MM-DD)')
        
        # Hash command
        hash_parser = subparsers.add_parser('hash', help='File hashing')
        hash_parser.add_argument('--file', required=True,
                               help='File to hash')
        hash_parser.add_argument('--algorithm',
                               choices=['md5', 'sha1', 'sha256', 'sha512'],
                               default='sha256',
                               help='Hash algorithm')
        
        return parser
    
    def setup_logging(self):
        """Configure logging"""
        logging.basicConfig(
            level=logging.INFO,
            format='%(asctime)s - %(levelname)s - %(message)s',
            handlers=[
                logging.StreamHandler(sys.stdout),
                logging.FileHandler('security-cli.log')
            ]
        )
        self.logger = logging.getLogger(__name__)
    
    def load_config(self, config_path):
        """Load configuration from file"""
        config_path = Path(config_path).expanduser()
        config = {}
        
        if config_path.exists():
            try:
                with open(config_path, 'r') as f:
                    config = json.load(f)
                self.logger.info(f"Loaded config from {config_path}")
            except Exception as e:
                self.logger.warning(f"Failed to load config: {e}")
        
        return config
    
    def format_output(self, data, format_type):
        """Format output based on specified format"""
        if format_type == 'json':
            return json.dumps(data, indent=2)
        elif format_type == 'csv':
            # Simple CSV formatting for demonstration
            if isinstance(data, list) and data:
                if isinstance(data[0], dict):
                    headers = ','.join(data[0].keys())
                    rows = []
                    for item in data:
                        row = ','.join(str(v) for v in item.values())
                        rows.append(row)
                    return f"{headers}\n" + "\n".join(rows)
        else:  # table format
            return self.format_table(data)
    
    def format_table(self, data):
        """Format data as ASCII table"""
        if not data:
            return "No data to display"
        
        if isinstance(data, list) and data and isinstance(data[0], dict):
            # Calculate column widths
            headers = data[0].keys()
            widths = {}
            for header in headers:
                widths[header] = max(
                    len(str(header)),
                    max(len(str(item.get(header, ''))) for item in data)
                )
            
            # Create table
            header_row = ' | '.join(h.ljust(widths[h]) for h in headers)
            separator = '-+-'.join('-' * widths[h] for h in headers)
            
            rows = [header_row, separator]
            for item in data:
                row = ' | '.join(str(item.get(h, '')).ljust(widths[h]) for h in headers)
                rows.append(row)
            
            return '\n'.join(rows)
        
        return str(data)
    
    def safe_file_operation(self, filepath, operation):
        """Safely perform file operations with proper error handling"""
        try:
            filepath = Path(filepath).resolve()
            
            # Security checks
            if not filepath.exists():
                raise FileNotFoundError(f"File not found: {filepath}")
            
            if not filepath.is_file():
                raise ValueError(f"Not a regular file: {filepath}")
            
            # Check permissions
            if not os.access(filepath, os.R_OK):
                raise PermissionError(f"No read permission: {filepath}")
            
            return operation(filepath)
            
        except Exception as e:
            self.logger.error(f"File operation failed: {e}")
            return None
    
    def run(self):
        """Main CLI entry point"""
        args = self.parser.parse_args()
        
        if args.verbose:
            logging.getLogger().setLevel(logging.DEBUG)
        
        # Load configuration
        config = self.load_config(args.config)
        
        # Execute command
        if args.command == 'scan':
            result = self.do_scan(args)
        elif args.command == 'analyze':
            result = self.do_analyze(args)
        elif args.command == 'hash':
            result = self.do_hash(args)
        else:
            self.parser.print_help()
            return 1
        
        # Output results
        if result:
            formatted_output = self.format_output(result, args.output_format)
            print(formatted_output)
            return 0
        else:
            print("Operation failed or no results", file=sys.stderr)
            return 1
    
    def do_scan(self, args):
        """Implement network scan functionality"""
        # Placeholder for scan implementation
        return [{
            'host': args.target,
            'port': port,
            'status': 'open' if port in ['80', '443'] else 'closed'
        } for port in args.ports.split(',')]
    
    def do_analyze(self, args):
        """Implement log analysis functionality"""
        def analyze_log(filepath):
            # Simple log analysis implementation
            with open(filepath, 'r') as f:
                lines = f.readlines()
            return {'total_lines': len(lines), 'file': str(filepath)}
        
        return self.safe_file_operation(args.log_file, analyze_log)
    
    def do_hash(self, args):
        """Implement file hashing functionality"""
        def hash_file(filepath):
            import hashlib
            hash_func = hashlib.new(args.algorithm)
            with open(filepath, 'rb') as f:
                for chunk in iter(lambda: f.read(4096), b""):
                    hash_func.update(chunk)
            return {
                'file': str(filepath),
                'algorithm': args.algorithm,
                'hash': hash_func.hexdigest()
            }
        
        return self.safe_file_operation(args.file, hash_file)

if __name__ == '__main__':
    cli = SecurityCLI()
    sys.exit(cli.run())</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Security engineers build CLI tools for automated vulnerability scanning, log analysis, incident response, and security monitoring tasks that integrate into scripts and workflows.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Automation and scripting in security workflows</li>
                                    <li>Standardized interfaces for security tools</li>
                                    <li>Integration with other systems and pipelines</li>
                                    <li>Consistent output formatting and reporting</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Security operations and incident response</li>
                                    <li>DevSecOps and CI/CD pipelines</li>
                                    <li>Penetration testing and red team exercises</li>
                                    <li>System administration and monitoring</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Implement comprehensive argument validation</li>
                                        <li>Provide clear help documentation and examples</li>
                                        <li>Use proper error handling and exit codes</li>
                                        <li>Support multiple output formats</li>
                                        <li>Implement logging for debugging and auditing</li>
                                        <li>Follow security best practices for file operations</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't trust user input without validation</li>
                                        <li>Don't expose sensitive information in error messages</li>
                                        <li>Don't ignore file permissions and security checks</li>
                                        <li>Don't hardcode credentials or sensitive data</li>
                                        <li>Don't create tools that require root unnecessarily</li>
                                        <li>Don't ignore proper exception handling</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Reporting & Alert Formatting -->
                    <article class="subject-card" id="reporting">
                        <h3 class="subject-title">Reporting & Alert Formatting</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Automated security reporting and alerting:</p>
                                <ul>
                                    <li><strong>Report Generation</strong>: HTML, PDF, CSV formats</li>
                                    <li><strong>Alert Formatting</strong>: Email, Slack, webhook notifications</li>
                                    <li><strong>Data Visualization</strong>: Charts, graphs, dashboards</li>
                                    <li><strong>Template Systems</strong>: Jinja2, custom templates</li>
                                    <li><strong>Automated Delivery</strong>: Scheduled reports, real-time alerts</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Security reporting and alerting system
import json
import csv
import smtplib
from email.mime.text import MIMEText
from email.mime.multipart import MIMEMultipart
from email.mime.base import MIMEBase
from email import encoders
from datetime import datetime, timedelta
import requests

class SecurityReporter:
    def __init__(self, config=None):
        self.config = config or {}
        self.report_data = {}
    
    def generate_html_report(self, data, template=None):
        """Generate HTML security report"""
        if not template:
            template = self.get_default_html_template()
        
        # Prepare report data
        report_context = {
            'title': 'Security Analysis Report',
            'generated_date': datetime.now().strftime('%Y-%m-%d %H:%M:%S'),
            'summary': data.get('summary', {}),
            'alerts': data.get('alerts', []),
            'statistics': data.get('statistics', {}),
            'recommendations': data.get('recommendations', [])
        }
        
        # Simple template substitution (in real implementation, use Jinja2)
        html_report = template.format(**report_context)
        return html_report
    
    def get_default_html_template(self):
        """Default HTML report template"""
        return '''
<!DOCTYPE html>
<html>
<head>
    <title>{title}</title>
    <style>
        body {{ font-family: Arial, sans-serif; margin: 20px; }}
        .header {{ background: #f4f4f4; padding: 20px; border-radius: 5px; }}
        .summary {{ margin: 20px 0; padding: 15px; background: #e8f4fd; }}
        .alert {{ margin: 10px 0; padding: 10px; background: #fff3cd; border-left: 4px solid #ffc107; }}
        .critical {{ border-left-color: #dc3545; background: #f8d7da; }}
        .recommendations {{ background: #d4edda; padding: 15px; border-radius: 5px; }}
        table {{ width: 100%; border-collapse: collapse; margin: 10px 0; }}
        th, td {{ border: 1px solid #ddd; padding: 8px; text-align: left; }}
        th {{ background-color: #f2f2f2; }}
    </style>
</head>
<body>
    <div class="header">
        <h1>{title}</h1>
        <p>Generated: {generated_date}</p>
    </div>
    
    <div class="summary">
        <h2>Executive Summary</h2>
        <p>Total Alerts: {summary.get('total_alerts', 0)}</p>
        <p>Critical Issues: {summary.get('critical_issues', 0)}</p>
        <p>Systems Analyzed: {summary.get('systems_analyzed', 0)}</p>
    </div>
    
    <h2>Security Alerts</h2>
    <!-- Alert details would be dynamically populated -->
    
    <div class="recommendations">
        <h2>Recommendations</h2>
        <ul>
            <!-- Recommendations would be dynamically populated -->
        </ul>
    </div>
</body>
</html>
        '''
    
    def generate_csv_report(self, alerts, filename='security_report.csv'):
        """Generate CSV report of security alerts"""
        fieldnames = ['timestamp', 'severity', 'type', 'source', 'description', 'status']
        
        with open(filename, 'w', newline='', encoding='utf-8') as csvfile:
            writer = csv.DictWriter(csvfile, fieldnames=fieldnames)
            writer.writeheader()
            
            for alert in alerts:
                writer.writerow({
                    'timestamp': alert.get('timestamp', ''),
                    'severity': alert.get('severity', 'Medium'),
                    'type': alert.get('type', 'Unknown'),
                    'source': alert.get('source', ''),
                    'description': alert.get('description', ''),
                    'status': alert.get('status', 'New')
                })
        
        return filename
    
    def send_email_alert(self, subject, message, recipients, html_content=None):
        """Send email alert"""
        smtp_config = self.config.get('smtp', {})
        
        if not smtp_config:
            print("No SMTP configuration found")
            return False
        
        try:
            msg = MIMEMultipart('alternative')
            msg['Subject'] = subject
            msg['From'] = smtp_config['from_email']
            msg['To'] = ', '.join(recipients)
            
            # Add text part
            text_part = MIMEText(message, 'plain')
            msg.attach(text_part)
            
            # Add HTML part if provided
            if html_content:
                html_part = MIMEText(html_content, 'html')
                msg.attach(html_part)
            
            # Send email
            server = smtplib.SMTP(smtp_config['server'], smtp_config['port'])
            if smtp_config.get('use_tls'):
                server.starttls()
            if smtp_config.get('username'):
                server.login(smtp_config['username'], smtp_config['password'])
            
            server.send_message(msg)
            server.quit()
            return True
            
        except Exception as e:
            print(f"Failed to send email: {e}")
            return False
    
    def send_slack_alert(self, message, channel=None):
        """Send alert to Slack"""
        webhook_url = self.config.get('slack_webhook_url')
        
        if not webhook_url:
            print("No Slack webhook URL configured")
            return False
        
        payload = {
            'text': message,
            'channel': channel or self.config.get('slack_channel', '#security'),
            'username': 'SecurityBot',
            'icon_emoji': ':warning:'
        }
        
        try:
            response = requests.post(webhook_url, json=payload)
            return response.status_code == 200
        except Exception as e:
            print(f"Failed to send Slack alert: {e}")
            return False
    
    def create_security_dashboard_data(self, alerts):
        """Prepare data for security dashboard visualization"""
        dashboard_data = {
            'alerts_by_severity': {},
            'alerts_by_type': {},
            'alerts_over_time': {},
            'top_sources': {}
        }
        
        # Count alerts by severity
        for alert in alerts:
            severity = alert.get('severity', 'Medium')
            dashboard_data['alerts_by_severity'][severity] = \
                dashboard_data['alerts_by_severity'].get(severity, 0) + 1
        
        # Count alerts by type
        for alert in alerts:
            alert_type = alert.get('type', 'Unknown')
            dashboard_data['alerts_by_type'][alert_type] = \
                dashboard_data['alerts_by_type'].get(alert_type, 0) + 1
        
        # Count alerts by source
        for alert in alerts:
            source = alert.get('source', 'Unknown')
            dashboard_data['top_sources'][source] = \
                dashboard_data['top_sources'].get(source, 0) + 1
        
        return dashboard_data
    
    def generate_executive_summary(self, alerts):
        """Generate executive summary from alert data"""
        total_alerts = len(alerts)
        critical_alerts = len([a for a in alerts if a.get('severity') == 'Critical'])
        high_alerts = len([a for a in alerts if a.get('severity') == 'High'])
        
        summary = {
            'total_alerts': total_alerts,
            'critical_alerts': critical_alerts,
            'high_alerts': high_alerts,
            'risk_level': 'Critical' if critical_alerts > 0 else 'High' if high_alerts > 5 else 'Medium'
        }
        
        return summary

# Example usage
config = {
    'smtp': {
        'server': 'smtp.company.com',
        'port': 587,
        'use_tls': True,
        'from_email': 'security@company.com',
        'username': 'security',
        'password': 'secure_password'
    },
    'slack_webhook_url': 'https://hooks.slack.com/services/...',
    'slack_channel': '#security-alerts'
}

reporter = SecurityReporter(config)

# Sample alert data
alerts = [
    {
        'timestamp': '2024-01-15 10:30:00',
        'severity': 'Critical',
        'type': 'Brute Force Attack',
        'source': '192.168.1.100',
        'description': 'Multiple failed login attempts detected'
    },
    {
        'timestamp': '2024-01-15 11:15:00',
        'severity': 'High',
        'type': 'SQL Injection',
        'source': 'web-server-01',
        'description': 'Suspicious SQL injection pattern in web logs'
    }
]

# Generate reports
html_report = reporter.generate_html_report({'alerts': alerts})
csv_file = reporter.generate_csv_report(alerts)

# Send alerts
reporter.send_email_alert(
    'Security Alert: Critical Issues Detected',
    'Multiple security incidents require immediate attention.',
    ['security-team@company.com']
)

reporter.send_slack_alert('üö® Critical security alert: Brute force attack detected on 192.168.1.100')</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Security teams use automated reporting to generate daily security summaries, send real-time alerts to SOC analysts, and create executive dashboards showing security metrics and trends.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Automated communication of security events</li>
                                    <li>Standardized reporting for compliance and audits</li>
                                    <li>Executive visibility into security posture</li>
                                    <li>Efficient incident response coordination</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Security operations centers (SOCs)</li>
                                    <li>Incident response teams</li>
                                    <li>Compliance and audit departments</li>
                                    <li>Executive and management reporting</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Use clear, actionable language in alerts</li>
                                        <li>Implement severity-based escalation</li>
                                        <li>Include relevant context and next steps</li>
                                        <li>Automate routine reporting tasks</li>
                                        <li>Customize reports for different audiences</li>
                                        <li>Implement delivery confirmation and retry logic</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't send excessive false positive alerts</li>
                                        <li>Don't include sensitive information in unencrypted communications</li>
                                        <li>Don't ignore alert fatigue and notification overload</li>
                                        <li>Don't send alerts without proper context</li>
                                        <li>Don't use unclear or technical jargon for non-technical audiences</li>
                                        <li>Don't forget to test alert delivery mechanisms</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>
                </div>

                <div class="checklist">
                    <h3>üìã Track 4 Study Checklist</h3>
                    <div class="checklist-grid">
                        <label class="checklist-item"><input type="checkbox"> Network Scanning</label>
                        <label class="checklist-item"><input type="checkbox"> Packet Capture</label>
                        <label class="checklist-item"><input type="checkbox"> Web Requests</label>
                        <label class="checklist-item"><input type="checkbox"> Log Analysis</label>
                        <label class="checklist-item"><input type="checkbox"> Crypto Utils</label>
                        <label class="checklist-item"><input type="checkbox"> CLI Utils</label>
                        <label class="checklist-item"><input type="checkbox"> Reporting</label>
                    </div>
                </div>
            </section>

            <!-- TRACK 5: Deep Learning & Projects -->
            <section class="track-section" id="track5">
                <h2 class="track-header">Track 5: Deep Learning & Projects (DL/NLP/CV Concepts)</h2>
                
                <div class="subjects-grid">
                    <!-- Neural Network Basics -->
                    <article class="subject-card" id="neural-networks">
                        <h3 class="subject-title">Neural Network Basics</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Deep learning fundamentals:</p>
                                <ul>
                                    <li><strong>Layers</strong>: Input, hidden, output layers</li>
                                    <li><strong>Activation Functions</strong>: ReLU, sigmoid, tanh</li>
                                    <li><strong>Loss Functions</strong>: Mean squared error, cross-entropy</li>
                                    <li><strong>Optimizers</strong>: SGD, Adam, RMSprop</li>
                                    <li><strong>Backpropagation</strong>: Weight update algorithm</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Simple neural network with TensorFlow/Keras
import tensorflow as tf
from tensorflow import keras
import numpy as np

# Create a simple neural network
def create_simple_nn(input_shape, num_classes):
    """Create a basic neural network"""
    model = keras.Sequential([
        keras.layers.Dense(128, activation='relu', input_shape=input_shape),
        keras.layers.Dropout(0.2),
        keras.layers.Dense(64, activation='relu'),
        keras.layers.Dense(num_classes, activation='softmax')
    ])
    
    model.compile(
        optimizer='adam',
        loss='sparse_categorical_crossentropy',
        metrics=['accuracy']
    )
    
    return model

# Example: Binary classification for security events
def train_security_classifier():
    """Train a model to classify security events"""
    # Synthetic example data (replace with real security features)
    X_train = np.random.random((1000, 20))  # 20 features
    y_train = np.random.randint(0, 2, 1000)  # Binary classification
    
    X_test = np.random.random((200, 20))
    y_test = np.random.randint(0, 2, 200)
    
    # Create model
    model = create_simple_nn((20,), 2)
    
    # Train model
    history = model.fit(
        X_train, y_train,
        epochs=10,
        batch_size=32,
        validation_split=0.2,
        verbose=1
    )
    
    # Evaluate
    test_loss, test_accuracy = model.evaluate(X_test, y_test, verbose=0)
    print(f"Test accuracy: {test_accuracy:.4f}")
    
    return model, history

# Custom activation function example
class CustomActivation(keras.layers.Layer):
    def __init__(self, **kwargs):
        super(CustomActivation, self).__init__(**kwargs)
    
    def call(self, inputs):
        # Leaky ReLU implementation
        return tf.maximum(0.01 * inputs, inputs)

# Example usage
model, training_history = train_security_classifier()</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Security companies use neural networks to detect malware, classify phishing emails, and analyze network traffic patterns for anomaly detection.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Automatic feature learning from raw data</li>
                                    <li>Superior performance on complex pattern recognition</li>
                                    <li>Ability to handle high-dimensional data</li>
                                    <li>Scalability with large datasets</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Image and speech recognition</li>
                                    <li>Natural language processing</li>
                                    <li>Cybersecurity threat detection</li>
                                    <li>Autonomous systems and robotics</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Start with simple architectures and gradually increase complexity</li>
                                        <li>Use appropriate data preprocessing and normalization</li>
                                        <li>Implement proper train/validation/test splits</li>
                                        <li>Monitor for overfitting with validation metrics</li>
                                        <li>Use early stopping and regularization techniques</li>
                                        <li>Save model checkpoints during training</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't train on insufficient or biased data</li>
                                        <li>Don't ignore data preprocessing and feature scaling</li>
                                        <li>Don't use overly complex models for simple problems</li>
                                        <li>Don't skip validation and testing phases</li>
                                        <li>Don't ignore computational resource requirements</li>
                                        <li>Don't deploy models without proper evaluation</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Regularization & Generalization -->
                    <article class="subject-card" id="regularization">
                        <h3 class="subject-title">Regularization & Generalization</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Techniques to prevent overfitting and improve model generalization:</p>
                                <ul>
                                    <li><strong>Dropout</strong>: Randomly disable neurons during training</li>
                                    <li><strong>Early Stopping</strong>: Stop training when validation performance plateaus</li>
                                    <li><strong>L1/L2 Regularization</strong>: Weight penalty terms</li>
                                    <li><strong>Batch Normalization</strong>: Normalize layer inputs</li>
                                    <li><strong>Data Augmentation</strong>: Artificially increase dataset size</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Regularization techniques in deep learning
import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import regularizers
import numpy as np

def create_regularized_model(input_shape, num_classes):
    """Neural network with various regularization techniques"""
    model = keras.Sequential([
        # Input layer with L2 regularization
        keras.layers.Dense(
            256, 
            activation='relu',
            input_shape=input_shape,
            kernel_regularizer=regularizers.l2(0.01),
            bias_regularizer=regularizers.l2(0.01)
        ),
        
        # Batch normalization
        keras.layers.BatchNormalization(),
        
        # Dropout for regularization
        keras.layers.Dropout(0.3),
        
        # Hidden layer with L1 regularization
        keras.layers.Dense(
            128, 
            activation='relu',
            kernel_regularizer=regularizers.l1(0.01)
        ),
        
        keras.layers.BatchNormalization(),
        keras.layers.Dropout(0.2),
        
        # Output layer
        keras.layers.Dense(num_classes, activation='softmax')
    ])
    
    # Use optimizer with learning rate scheduling
    optimizer = keras.optimizers.Adam(
        learning_rate=keras.optimizers.schedules.ExponentialDecay(
            initial_learning_rate=0.001,
            decay_steps=1000,
            decay_rate=0.9
        )
    )
    
    model.compile(
        optimizer=optimizer,
        loss='sparse_categorical_crossentropy',
        metrics=['accuracy']
    )
    
    return model

# Early stopping and model checkpointing
def train_with_callbacks(model, X_train, y_train, X_val, y_val):
    """Train model with regularization callbacks"""
    
    # Early stopping callback
    early_stopping = keras.callbacks.EarlyStopping(
        monitor='val_loss',
        patience=10,
        restore_best_weights=True,
        verbose=1
    )
    
    # Model checkpoint callback
    checkpoint = keras.callbacks.ModelCheckpoint(
        'best_model.h5',
        monitor='val_accuracy',
        save_best_only=True,
        verbose=1
    )
    
    # Learning rate reduction
    lr_reduction = keras.callbacks.ReduceLROnPlateau(
        monitor='val_loss',
        factor=0.2,
        patience=5,
        min_lr=0.0001,
        verbose=1
    )
    
    # Train model
    history = model.fit(
        X_train, y_train,
        epochs=100,
        batch_size=32,
        validation_data=(X_val, y_val),
        callbacks=[early_stopping, checkpoint, lr_reduction],
        verbose=1
    )
    
    return history

# Data augmentation for security data
class SecurityDataAugmentation:
    def __init__(self):
        pass
    
    def augment_network_features(self, features, noise_factor=0.1):
        """Add noise to network traffic features"""
        noise = np.random.normal(0, noise_factor, features.shape)
        return features + noise
    
    def augment_text_features(self, text_vectors, dropout_rate=0.1):
        """Random feature dropout for text data"""
        mask = np.random.random(text_vectors.shape) > dropout_rate
        return text_vectors * mask
    
    def generate_synthetic_samples(self, X, y, num_samples=100):
        """Generate synthetic samples using interpolation"""
        synthetic_X = []
        synthetic_y = []
        
        for _ in range(num_samples):
            # Select two random samples from the same class
            unique_classes = np.unique(y)
            selected_class = np.random.choice(unique_classes)
            class_indices = np.where(y == selected_class)[0]
            
            if len(class_indices) >= 2:
                idx1, idx2 = np.random.choice(class_indices, 2, replace=False)
                
                # Linear interpolation between samples
                alpha = np.random.random()
                synthetic_sample = alpha * X[idx1] + (1 - alpha) * X[idx2]
                
                synthetic_X.append(synthetic_sample)
                synthetic_y.append(selected_class)
        
        return np.array(synthetic_X), np.array(synthetic_y)

# Cross-validation for model evaluation
from sklearn.model_selection import StratifiedKFold

def cross_validate_model(create_model_func, X, y, cv_folds=5):
    """Perform cross-validation for deep learning model"""
    skf = StratifiedKFold(n_splits=cv_folds, shuffle=True, random_state=42)
    
    cv_scores = []
    
    for fold, (train_idx, val_idx) in enumerate(skf.split(X, y)):
        print(f"Training fold {fold + 1}/{cv_folds}")
        
        X_train_fold, X_val_fold = X[train_idx], X[val_idx]
        y_train_fold, y_val_fold = y[train_idx], y[val_idx]
        
        # Create fresh model for each fold
        model = create_model_func()
        
        # Train model
        history = model.fit(
            X_train_fold, y_train_fold,
            epochs=50,
            batch_size=32,
            validation_data=(X_val_fold, y_val_fold),
            verbose=0
        )
        
        # Evaluate on validation set
        val_accuracy = max(history.history['val_accuracy'])
        cv_scores.append(val_accuracy)
        
        print(f"Fold {fold + 1} validation accuracy: {val_accuracy:.4f}")
    
    mean_score = np.mean(cv_scores)
    std_score = np.std(cv_scores)
    
    print(f"Cross-validation results: {mean_score:.4f} (+/- {std_score * 2:.4f})")
    
    return cv_scores</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Security ML engineers use regularization to prevent overfitting when training models on limited security datasets, ensuring models generalize to new attack patterns.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Prevents overfitting to training data</li>
                                    <li>Improves model performance on unseen data</li>
                                    <li>Reduces model complexity and computational requirements</li>
                                    <li>Increases robustness to noise and variations</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>All deep learning applications</li>
                                    <li>Computer vision and image recognition</li>
                                    <li>Natural language processing</li>
                                    <li>Security and fraud detection systems</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Use validation sets to monitor overfitting</li>
                                        <li>Start with simple regularization and increase as needed</li>
                                        <li>Combine multiple regularization techniques</li>
                                        <li>Use cross-validation for robust evaluation</li>
                                        <li>Monitor training and validation curves</li>
                                        <li>Implement early stopping to prevent overtraining</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't apply excessive regularization that causes underfitting</li>
                                        <li>Don't ignore validation performance metrics</li>
                                        <li>Don't use test data for model selection</li>
                                        <li>Don't apply same regularization to all layers blindly</li>
                                        <li>Don't forget to tune regularization hyperparameters</li>
                                        <li>Don't rely on a single regularization technique</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- NLP Basics -->
                    <article class="subject-card" id="nlp-basics">
                        <h3 class="subject-title">NLP Basics</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Natural Language Processing fundamentals:</p>
                                <ul>
                                    <li><strong>Tokenization</strong>: Breaking text into words/tokens</li>
                                    <li><strong>Embeddings</strong>: Vector representations of words</li>
                                    <li><strong>Text Classification</strong>: Categorizing documents</li>
                                    <li><strong>Named Entity Recognition</strong>: Identifying entities in text</li>
                                    <li><strong>Sentiment Analysis</strong>: Determining emotional tone</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># NLP for security text analysis
import re
import numpy as np
from collections import Counter
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.model_selection import train_test_split
from sklearn.naive_bayes import MultinomialNB
from sklearn.metrics import classification_report

class SecurityTextAnalyzer:
    def __init__(self):
        self.vectorizer = TfidfVectorizer(
            max_features=10000,
            stop_words='english',
            ngram_range=(1, 2)
        )
        self.classifier = MultinomialNB()
        self.security_patterns = {
            'ip_address': r'\b(?:[0-9]{1,3}\.){3}[0-9]{1,3}\b',
            'email': r'\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b',
            'url': r'http[s]?://(?:[a-zA-Z]|[0-9]|[$-_@.&+]|[!*\\(\\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+',
            'file_hash': r'\b[a-fA-F0-9]{32,64}\b',
            'domain': r'\b[a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.([a-zA-Z]{2,})\b'
        }
    
    def preprocess_text(self, text):
        """Clean and preprocess security-related text"""
        # Convert to lowercase
        text = text.lower()
        
        # Remove special characters but keep important security indicators
        text = re.sub(r'[^\w\s\.\-@:/]', ' ', text)
        
        # Normalize whitespace
        text = re.sub(r'\s+', ' ', text).strip()
        
        return text
    
    def extract_security_entities(self, text):
        """Extract security-relevant entities from text"""
        entities = {}
        
        for entity_type, pattern in self.security_patterns.items():
            matches = re.findall(pattern, text, re.IGNORECASE)
            if matches:
                entities[entity_type] = list(set(matches))  # Remove duplicates
        
        return entities
    
    def create_security_features(self, texts):
        """Create features for security text classification"""
        features = []
        
        for text in texts:
            text_features = {}
            
            # Basic text statistics
            text_features['length'] = len(text)
            text_features['word_count'] = len(text.split())
            text_features['uppercase_ratio'] = sum(1 for c in text if c.isupper()) / len(text) if text else 0
            
            # Security entity counts
            entities = self.extract_security_entities(text)
            for entity_type in self.security_patterns.keys():
                text_features[f'{entity_type}_count'] = len(entities.get(entity_type, []))
            
            # Keyword indicators
            security_keywords = [
                'malware', 'virus', 'trojan', 'phishing', 'spam', 'attack',
                'vulnerability', 'exploit', 'breach', 'suspicious', 'threat',
                'intrusion', 'unauthorized', 'infected', 'compromised'
            ]
            
            for keyword in security_keywords:
                text_features[f'has_{keyword}'] = 1 if keyword in text.lower() else 0
            
            features.append(text_features)
        
        return features
    
    def train_phishing_detector(self, texts, labels):
        """Train a phishing email detector"""
        # Preprocess texts
        processed_texts = [self.preprocess_text(text) for text in texts]
        
        # Create TF-IDF features
        tfidf_features = self.vectorizer.fit_transform(processed_texts)
        
        # Split data
        X_train, X_test, y_train, y_test = train_test_split(
            tfidf_features, labels, test_size=0.2, random_state=42
        )
        
        # Train classifier
        self.classifier.fit(X_train, y_train)
        
        # Evaluate
        y_pred = self.classifier.predict(X_test)
        report = classification_report(y_test, y_pred)
        
        return report
    
    def analyze_threat_intelligence(self, text):
        """Analyze threat intelligence reports"""
        entities = self.extract_security_entities(text)
        
        # Calculate threat score based on indicators
        threat_score = 0
        
        # Weight different indicators
        indicator_weights = {
            'ip_address': 2,
            'url': 3,
            'file_hash': 5,
            'email': 1,
            'domain': 2
        }
        
        for indicator_type, indicators in entities.items():
            count = len(indicators)
            weight = indicator_weights.get(indicator_type, 1)
            threat_score += count * weight
        
        # Normalize score
        max_possible_score = sum(indicator_weights.values()) * 10  # Assume max 10 of each
        normalized_score = min(threat_score / max_possible_score, 1.0)
        
        return {
            'entities': entities,
            'threat_score': normalized_score,
            'risk_level': self._get_risk_level(normalized_score)
        }
    
    def _get_risk_level(self, score):
        """Convert threat score to risk level"""
        if score >= 0.7:
            return 'Critical'
        elif score >= 0.4:
            return 'High'
        elif score >= 0.2:
            return 'Medium'
        else:
            return 'Low'
    
    def detect_text_anomalies(self, texts, threshold=2.0):
        """Detect anomalous text patterns"""
        anomalies = []
        
        # Calculate average text statistics
        lengths = [len(text) for text in texts]
        word_counts = [len(text.split()) for text in texts]
        
        avg_length = np.mean(lengths)
        std_length = np.std(lengths)
        avg_words = np.mean(word_counts)
        std_words = np.std(word_counts)
        
        for i, text in enumerate(texts):
            text_length = len(text)
            text_words = len(text.split())
            
            # Check for length anomalies
            length_zscore = abs(text_length - avg_length) / std_length if std_length > 0 else 0
            words_zscore = abs(text_words - avg_words) / std_words if std_words > 0 else 0
            
            if length_zscore > threshold or words_zscore > threshold:
                anomalies.append({
                    'index': i,
                    'text': text[:100] + '...' if len(text) > 100 else text,
                    'length_zscore': length_zscore,
                    'words_zscore': words_zscore,
                    'reason': 'Unusual length/word count'
                })
            
            # Check for security indicator density
            entities = self.extract_security_entities(text)
            total_indicators = sum(len(indicators) for indicators in entities.values())
            
            if total_indicators > 10:  # Arbitrary threshold
                anomalies.append({
                    'index': i,
                    'text': text[:100] + '...' if len(text) > 100 else text,
                    'indicator_count': total_indicators,
                    'reason': 'High security indicator density'
                })
        
        return anomalies

# Example usage
analyzer = SecurityTextAnalyzer()

# Sample security texts
security_texts = [
    "Suspicious email from unknown sender with attachment virus.exe",
    "Network intrusion detected from IP 192.168.1.100 on port 443",
    "Phishing attempt: fake bank website at http://fake-bank.malicious.com",
    "Regular business email about quarterly meeting schedule"
]

# Extract entities
for text in security_texts:
    entities = analyzer.extract_security_entities(text)
    threat_analysis = analyzer.analyze_threat_intelligence(text)
    print(f"Text: {text[:50]}...")
    print(f"Entities: {entities}")
    print(f"Threat Score: {threat_analysis['threat_score']:.2f}")
    print(f"Risk Level: {threat_analysis['risk_level']}")
    print("-" * 50)</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Security teams use NLP to analyze threat intelligence reports, classify phishing emails, extract IOCs from security feeds, and process incident reports automatically.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Automated analysis of security documentation</li>
                                    <li>Real-time processing of threat intelligence</li>
                                    <li>Classification of security incidents and alerts</li>
                                    <li>Extraction of indicators of compromise (IOCs)</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Email security and phishing detection</li>
                                    <li>Threat intelligence platforms</li>
                                    <li>Security information and event management (SIEM)</li>
                                    <li>Incident response and forensics</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Preprocess text data consistently</li>
                                        <li>Use domain-specific vocabularies and stop words</li>
                                        <li>Implement proper text normalization</li>
                                        <li>Validate models on realistic security data</li>
                                        <li>Consider context and semantic meaning</li>
                                        <li>Regularly update models with new threat patterns</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't ignore data privacy and confidentiality</li>
                                        <li>Don't rely solely on keyword matching</li>
                                        <li>Don't train on biased or unrepresentative data</li>
                                        <li>Don't ignore false positive rates</li>
                                        <li>Don't forget to handle edge cases and malformed text</li>
                                        <li>Don't overlook adversarial text manipulation</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- CV Basics -->
                    <article class="subject-card" id="cv-basics">
                        <h3 class="subject-title">CV Basics</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Computer Vision fundamentals for security applications:</p>
                                <ul>
                                    <li><strong>Image Preprocessing</strong>: Normalization, resizing, filtering</li>
                                    <li><strong>Feature Extraction</strong>: Edge detection, corners, textures</li>
                                    <li><strong>Image Augmentation</strong>: Rotation, scaling, flipping</li>
                                    <li><strong>Object Detection</strong>: Identifying objects in images</li>
                                    <li><strong>Image Classification</strong>: Categorizing entire images</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Computer Vision for security applications
import cv2
import numpy as np
from sklearn.cluster import KMeans
import matplotlib.pyplot as plt

class SecurityImageAnalyzer:
    def __init__(self):
        self.face_cascade = cv2.CascadeClassifier(cv2.data.haarcascades + 'haarcascade_frontalface_default.xml')
        self.license_plate_cascade = cv2.CascadeClassifier(cv2.data.haarcascades + 'haarcascade_russian_plate_number.xml')
    
    def preprocess_security_image(self, image_path):
        """Preprocess image for security analysis"""
        # Read image
        img = cv2.imread(image_path)
        if img is None:
            return None
        
        # Convert to grayscale
        gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
        
        # Apply noise reduction
        denoised = cv2.bilateralFilter(gray, 9, 75, 75)
        
        # Enhance contrast
        clahe = cv2.createCLAHE(clipLimit=2.0, tileGridSize=(8,8))
        enhanced = clahe.apply(denoised)
        
        return {
            'original': img,
            'grayscale': gray,
            'processed': enhanced
        }
    
    def detect_faces(self, image):
        """Detect faces in security footage"""
        if len(image.shape) == 3:
            gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
        else:
            gray = image
        
        faces = self.face_cascade.detectMultiScale(
            gray,
            scaleFactor=1.1,
            minNeighbors=5,
            minSize=(30, 30)
        )
        
        return faces
    
    def detect_motion(self, frame1, frame2, threshold=25):
        """Detect motion between two frames"""
        # Convert frames to grayscale
        gray1 = cv2.cvtColor(frame1, cv2.COLOR_BGR2GRAY) if len(frame1.shape) == 3 else frame1
        gray2 = cv2.cvtColor(frame2, cv2.COLOR_BGR2GRAY) if len(frame2.shape) == 3 else frame2
        
        # Compute absolute difference
        diff = cv2.absdiff(gray1, gray2)
        
        # Apply threshold
        _, thresh = cv2.threshold(diff, threshold, 255, cv2.THRESH_BINARY)
        
        # Find contours
        contours, _ = cv2.findContours(thresh, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)
        
        # Filter contours by area
        motion_areas = []
        for contour in contours:
            area = cv2.contourArea(contour)
            if area > 500:  # Minimum area threshold
                x, y, w, h = cv2.boundingRect(contour)
                motion_areas.append((x, y, w, h, area))
        
        return motion_areas, thresh
    
    def analyze_image_anomalies(self, image):
        """Detect anomalies in security images"""
        gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY) if len(image.shape) == 3 else image
        
        # Calculate image statistics
        mean_intensity = np.mean(gray)
        std_intensity = np.std(gray)
        
        # Edge detection for texture analysis
        edges = cv2.Canny(gray, 50, 150)
        edge_density = np.sum(edges > 0) / edges.size
        
        # Frequency domain analysis
        f_transform = np.fft.fft2(gray)
        f_shift = np.fft.fftshift(f_transform)
        magnitude_spectrum = np.log(np.abs(f_shift))
        
        # Detect unusual patterns
        anomaly_score = 0
        
        # Check for unusual brightness
        if mean_intensity < 50 or mean_intensity > 200:
            anomaly_score += 1
        
        # Check for unusual contrast
        if std_intensity < 10 or std_intensity > 80:
            anomaly_score += 1
        
        # Check for unusual edge density
        if edge_density < 0.05 or edge_density > 0.3:
            anomaly_score += 1
        
        return {
            'mean_intensity': mean_intensity,
            'std_intensity': std_intensity,
            'edge_density': edge_density,
            'anomaly_score': anomaly_score,
            'is_anomalous': anomaly_score >= 2
        }
    
    def extract_color_features(self, image):
        """Extract color-based features for image analysis"""
        # Convert to different color spaces
        hsv = cv2.cvtColor(image, cv2.COLOR_BGR2HSV)
        lab = cv2.cvtColor(image, cv2.COLOR_BGR2LAB)
        
        # Calculate color histograms
        hist_b = cv2.calcHist([image], [0], None, [256], [0, 256])
        hist_g = cv2.calcHist([image], [1], None, [256], [0, 256])
        hist_r = cv2.calcHist([image], [2], None, [256], [0, 256])
        
        # Calculate dominant colors using K-means
        data = image.reshape((-1, 3))
        data = np.float32(data)
        
        criteria = (cv2.TERM_CRITERIA_EPS + cv2.TERM_CRITERIA_MAX_ITER, 20, 1.0)
        k = 5  # Number of dominant colors
        _, labels, centers = cv2.kmeans(data, k, None, criteria, 10, cv2.KMEANS_RANDOM_CENTERS)
        
        # Convert back to uint8
        centers = np.uint8(centers)
        
        return {
            'color_histograms': {
                'blue': hist_b.flatten(),
                'green': hist_g.flatten(),
                'red': hist_r.flatten()
            },
            'dominant_colors': centers,
            'mean_color': np.mean(image, axis=(0, 1)),
            'color_variance': np.var(image, axis=(0, 1))
        }
    
    def detect_tampering(self, image):
        """Detect potential image tampering"""
        gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY) if len(image.shape) == 3 else image
        
        # Error Level Analysis (simplified)
        # Look for inconsistencies in JPEG compression artifacts
        
        # Calculate local variance
        kernel = np.ones((5, 5), np.float32) / 25
        mean_filtered = cv2.filter2D(gray.astype(np.float32), -1, kernel)
        variance = cv2.filter2D((gray.astype(np.float32) - mean_filtered) ** 2, -1, kernel)
        
        # Find regions with unusual variance patterns
        variance_threshold = np.percentile(variance, 95)
        suspicious_regions = variance > variance_threshold
        
        # Additional checks
        # Check for unusual noise patterns
        noise = gray.astype(np.float32) - cv2.GaussianBlur(gray.astype(np.float32), (5, 5), 0)
        noise_variance = np.var(noise)
        
        tampering_indicators = {
            'variance_anomalies': np.sum(suspicious_regions),
            'noise_variance': noise_variance,
            'suspicious_score': np.sum(suspicious_regions) / suspicious_regions.size
        }
        
        return tampering_indicators

# Image augmentation for security datasets
class SecurityImageAugmentation:
    def __init__(self):
        pass
    
    def augment_surveillance_image(self, image):
        """Augment surveillance images for training"""
        augmented_images = []
        
        # Original image
        augmented_images.append(image)
        
        # Rotation (simulate different camera angles)
        for angle in [-10, -5, 5, 10]:
            center = (image.shape[1] // 2, image.shape[0] // 2)
            rotation_matrix = cv2.getRotationMatrix2D(center, angle, 1.0)
            rotated = cv2.warpAffine(image, rotation_matrix, (image.shape[1], image.shape[0]))
            augmented_images.append(rotated)
        
        # Brightness variations (simulate different lighting)
        for brightness in [-30, -15, 15, 30]:
            bright_image = cv2.convertScaleAbs(image, alpha=1, beta=brightness)
            augmented_images.append(bright_image)
        
        # Gaussian noise (simulate camera noise)
        noise = np.random.normal(0, 10, image.shape).astype(np.uint8)
        noisy_image = cv2.add(image, noise)
        augmented_images.append(noisy_image)
        
        # Blur (simulate motion blur or focus issues)
        blurred = cv2.GaussianBlur(image, (5, 5), 0)
        augmented_images.append(blurred)
        
        return augmented_images

# Example usage
analyzer = SecurityImageAnalyzer()

# Simulate processing a security image
def process_security_image(image_path):
    """Complete security image analysis pipeline"""
    # Preprocess image
    processed = analyzer.preprocess_security_image(image_path)
    if processed is None:
        return "Error: Could not load image"
    
    image = processed['original']
    
    # Detect faces
    faces = analyzer.detect_faces(image)
    
    # Analyze for anomalies
    anomalies = analyzer.analyze_image_anomalies(image)
    
    # Extract color features
    color_features = analyzer.extract_color_features(image)
    
    # Check for tampering
    tampering = analyzer.detect_tampering(image)
    
    results = {
        'faces_detected': len(faces),
        'face_locations': faces.tolist() if len(faces) > 0 else [],
        'image_anomalies': anomalies,
        'color_analysis': {
            'dominant_colors': color_features['dominant_colors'].tolist(),
            'mean_color': color_features['mean_color'].tolist()
        },
        'tampering_analysis': tampering
    }
    
    return results

# Note: This would work with actual image files
# result = process_security_image('security_camera_frame.jpg')</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Security systems use computer vision for facial recognition, license plate detection, perimeter monitoring, and analyzing surveillance footage for suspicious activities.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Automated surveillance and monitoring</li>
                                    <li>Facial recognition and identity verification</li>
                                    <li>Object and anomaly detection</li>
                                    <li>Digital forensics and evidence analysis</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Security cameras and surveillance systems</li>
                                    <li>Access control and biometric systems</li>
                                    <li>Airport and border security</li>
                                    <li>Digital forensics investigations</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Use appropriate image preprocessing techniques</li>
                                        <li>Consider lighting and environmental conditions</li>
                                        <li>Implement proper data augmentation</li>
                                        <li>Validate performance on diverse datasets</li>
                                        <li>Address privacy and ethical considerations</li>
                                        <li>Regular model updates for changing conditions</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't ignore privacy laws and ethical guidelines</li>
                                        <li>Don't rely on biased or unrepresentative training data</li>
                                        <li>Don't ignore false positive/negative rates</li>
                                        <li>Don't process images without proper consent</li>
                                        <li>Don't ignore adversarial attacks on vision systems</li>
                                        <li>Don't assume perfect accuracy in critical applications</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Transfer Learning -->
                    <article class="subject-card" id="transfer-learning">
                        <h3 class="subject-title">Transfer Learning</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Leveraging pre-trained models for security applications:</p>
                                <ul>
                                    <li><strong>Pre-trained Models</strong>: ResNet, VGG, BERT, GPT</li>
                                    <li><strong>Feature Extraction</strong>: Using pre-trained features</li>
                                    <li><strong>Fine-tuning</strong>: Adapting models to new domains</li>
                                    <li><strong>Domain Adaptation</strong>: Transferring across domains</li>
                                    <li><strong>Few-shot Learning</strong>: Learning with limited data</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Transfer learning for security applications
import tensorflow as tf
from tensorflow import keras
from tensorflow.keras.applications import ResNet50, VGG16
from tensorflow.keras.preprocessing.image import ImageDataGenerator
import numpy as np

class SecurityTransferLearning:
    def __init__(self):
        pass
    
    def create_malware_detector(self, num_classes=2):
        """Create malware detection model using pre-trained CNN"""
        # Load pre-trained ResNet50 (trained on ImageNet)
        base_model = ResNet50(
            weights='imagenet',
            include_top=False,
            input_shape=(224, 224, 3)
        )
        
        # Freeze base model layers
        base_model.trainable = False
        
        # Add custom classification head
        model = keras.Sequential([
            base_model,
            keras.layers.GlobalAveragePooling2D(),
            keras.layers.Dropout(0.2),
            keras.layers.Dense(128, activation='relu'),
            keras.layers.Dropout(0.2),
            keras.layers.Dense(num_classes, activation='softmax')
        ])
        
        model.compile(
            optimizer='adam',
            loss='sparse_categorical_crossentropy',
            metrics=['accuracy']
        )
        
        return model
    
    def fine_tune_model(self, model, fine_tune_layers=10):
        """Fine-tune the last few layers of pre-trained model"""
        # Unfreeze the top layers
        base_model = model.layers[0]
        base_model.trainable = True
        
        # Freeze all layers except the last few
        for layer in base_model.layers[:-fine_tune_layers]:
            layer.trainable = False
        
        # Use lower learning rate for fine-tuning
        model.compile(
            optimizer=keras.optimizers.Adam(learning_rate=0.0001/10),
            loss='sparse_categorical_crossentropy',
            metrics=['accuracy']
        )
        
        return model
    
    def create_phishing_url_detector(self, max_features=10000, max_length=100):
        """Create phishing URL detector using pre-trained embeddings"""
        model = keras.Sequential([
            # Embedding layer (could use pre-trained word embeddings)
            keras.layers.Embedding(max_features, 128, input_length=max_length),
            
            # LSTM layers for sequence processing
            keras.layers.LSTM(64, return_sequences=True),
            keras.layers.Dropout(0.2),
            keras.layers.LSTM(32),
            keras.layers.Dropout(0.2),
            
            # Classification head
            keras.layers.Dense(32, activation='relu'),
            keras.layers.Dropout(0.2),
            keras.layers.Dense(1, activation='sigmoid')
        ])
        
        model.compile(
            optimizer='adam',
            loss='binary_crossentropy',
            metrics=['accuracy']
        )
        
        return model
    
    def create_network_anomaly_detector(self):
        """Create network anomaly detector using autoencoder"""
        input_dim = 20  # Number of network features
        
        # Encoder
        input_layer = keras.layers.Input(shape=(input_dim,))
        encoder = keras.layers.Dense(14, activation="relu")(input_layer)
        encoder = keras.layers.Dense(7, activation="relu")(encoder)
        encoder = keras.layers.Dense(3, activation="relu")(encoder)  # Bottleneck
        
        # Decoder
        decoder = keras.layers.Dense(7, activation="relu")(encoder)
        decoder = keras.layers.Dense(14, activation="relu")(decoder)
        decoder = keras.layers.Dense(input_dim, activation="sigmoid")(decoder)
        
        # Autoencoder model
        autoencoder = keras.Model(inputs=input_layer, outputs=decoder)
        autoencoder.compile(optimizer='adam', loss='mse')
        
        return autoencoder
    
    def train_with_data_augmentation(self, model, train_data, validation_data):
        """Train model with data augmentation"""
        # Data augmentation for images
        train_datagen = ImageDataGenerator(
            rotation_range=20,
            width_shift_range=0.2,
            height_shift_range=0.2,
            horizontal_flip=True,
            zoom_range=0.2,
            fill_mode='nearest'
        )
        
        val_datagen = ImageDataGenerator()  # No augmentation for validation
        
        # Prepare data generators
        train_generator = train_datagen.flow(
            train_data[0], train_data[1],
            batch_size=32
        )
        
        val_generator = val_datagen.flow(
            validation_data[0], validation_data[1],
            batch_size=32
        )
        
        # Callbacks
        callbacks = [
            keras.callbacks.EarlyStopping(patience=10, restore_best_weights=True),
            keras.callbacks.ReduceLROnPlateau(factor=0.2, patience=5)
        ]
        
        # Train model
        history = model.fit(
            train_generator,
            epochs=50,
            validation_data=val_generator,
            callbacks=callbacks
        )
        
        return history

# Domain-specific transfer learning
class SecurityDomainAdapter:
    def __init__(self):
        pass
    
    def adapt_text_classifier(self, source_model, target_data):
        """Adapt text classifier to new security domain"""
        # Extract features from pre-trained model
        feature_extractor = keras.Model(
            inputs=source_model.input,
            outputs=source_model.layers[-2].output  # Before final classification
        )
        
        # Freeze feature extractor
        feature_extractor.trainable = False
        
        # Create new classifier for target domain
        adapted_model = keras.Sequential([
            feature_extractor,
            keras.layers.Dense(64, activation='relu'),
            keras.layers.Dropout(0.3),
            keras.layers.Dense(len(np.unique(target_data[1])), activation='softmax')
        ])
        
        adapted_model.compile(
            optimizer='adam',
            loss='sparse_categorical_crossentropy',
            metrics=['accuracy']
        )
        
        return adapted_model
    
    def few_shot_learning_setup(self, model, support_set, query_set):
        """Set up few-shot learning for security applications"""
        # This is a simplified example of prototypical networks
        def euclidean_distance(a, b):
            return tf.sqrt(tf.reduce_sum(tf.square(a - b), axis=1))
        
        # Extract features for support set (few examples per class)
        support_features = model.predict(support_set[0])
        
        # Calculate prototypes (mean of each class)
        unique_labels = np.unique(support_set[1])
        prototypes = {}
        
        for label in unique_labels:
            class_indices = np.where(support_set[1] == label)[0]
            prototype = np.mean(support_features[class_indices], axis=0)
            prototypes[label] = prototype
        
        # Classify query examples based on nearest prototype
        query_features = model.predict(query_set[0])
        predictions = []
        
        for query_feature in query_features:
            distances = {}
            for label, prototype in prototypes.items():
                distance = np.linalg.norm(query_feature - prototype)
                distances[label] = distance
            
            predicted_label = min(distances.keys(), key=lambda k: distances[k])
            predictions.append(predicted_label)
        
        return predictions

# Example usage
transfer_learner = SecurityTransferLearning()

# Create malware detection model
malware_model = transfer_learner.create_malware_detector(num_classes=3)  # Clean, Trojan, Virus

# Print model summary
print("Malware Detection Model:")
malware_model.summary()

# Create phishing URL detector
phishing_model = transfer_learner.create_phishing_url_detector()

print("\nPhishing URL Detection Model:")
phishing_model.summary()

# Create network anomaly detector
anomaly_model = transfer_learner.create_network_anomaly_detector()

print("\nNetwork Anomaly Detection Model:")
anomaly_model.summary()</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Cybersecurity companies use transfer learning to adapt image classification models for malware visualization, fine-tune language models for threat intelligence, and leverage pre-trained networks for new attack detection.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Reduces training time and computational requirements</li>
                                    <li>Improves performance with limited security datasets</li>
                                    <li>Leverages knowledge from large-scale pre-training</li>
                                    <li>Enables rapid deployment of new security models</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Malware detection and classification</li>
                                    <li>Phishing and spam detection</li>
                                    <li>Network intrusion detection</li>
                                    <li>Digital forensics and incident analysis</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Choose appropriate pre-trained models for the domain</li>
                                        <li>Start with feature extraction before fine-tuning</li>
                                        <li>Use gradual unfreezing of layers</li>
                                        <li>Apply domain-specific data augmentation</li>
                                        <li>Monitor for negative transfer effects</li>
                                        <li>Validate on representative test datasets</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't use models pre-trained on irrelevant domains</li>
                                        <li>Don't fine-tune all layers immediately</li>
                                        <li>Don't ignore domain shift between source and target</li>
                                        <li>Don't use inappropriate learning rates for fine-tuning</li>
                                        <li>Don't assume transfer learning always improves performance</li>
                                        <li>Don't forget to validate on security-specific metrics</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Model Deployment Basics -->
                    <article class="subject-card" id="model-deployment">
                        <h3 class="subject-title">Model Deployment Basics</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Deploying machine learning models for security applications:</p>
                                <ul>
                                    <li><strong>Model Serialization</strong>: Saving and loading trained models</li>
                                    <li><strong>API Development</strong>: FastAPI, Flask for model serving</li>
                                    <li><strong>Containerization</strong>: Docker for consistent deployment</li>
                                    <li><strong>Monitoring</strong>: Performance and drift detection</li>
                                    <li><strong>Scaling</strong>: Load balancing and auto-scaling</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Model deployment for security applications
from fastapi import FastAPI, HTTPException
from pydantic import BaseModel
import numpy as np
import joblib
import tensorflow as tf
import uvicorn
from typing import List, Dict
import logging

# Data models for API
class NetworkTrafficData(BaseModel):
    features: List[float]
    timestamp: str
    source_ip: str

class MalwareAnalysisData(BaseModel):
    file_hash: str
    file_size: int
    features: List[float]

class SecurityPrediction(BaseModel):
    prediction: str
    confidence: float
    risk_score: float
    recommendation: str

# Security Model Deployment Service
class SecurityModelService:
    def __init__(self):
        self.models = {}
        self.load_models()
        self.setup_logging()
    
    def setup_logging(self):
        """Set up logging for model predictions"""
        logging.basicConfig(
            level=logging.INFO,
            format='%(asctime)s - %(levelname)s - %(message)s',
            handlers=[
                logging.FileHandler('security_model_api.log'),
                logging.StreamHandler()
            ]
        )
        self.logger = logging.getLogger(__name__)
    
    def load_models(self):
        """Load pre-trained security models"""
        try:
            # Load different types of models
            self.models['intrusion_detector'] = joblib.load('intrusion_detection_model.pkl')
            self.models['malware_classifier'] = tf.keras.models.load_model('malware_classifier.h5')
            self.models['phishing_detector'] = joblib.load('phishing_detection_model.pkl')
            
            self.logger.info("All security models loaded successfully")
        except Exception as e:
            self.logger.error(f"Error loading models: {e}")
            # Create dummy models for demonstration
            self.create_dummy_models()
    
    def create_dummy_models(self):
        """Create dummy models for demonstration"""
        from sklearn.ensemble import RandomForestClassifier
        from sklearn.dummy import DummyClassifier
        
        # Create and train dummy models
        X_dummy = np.random.random((100, 10))
        y_dummy = np.random.randint(0, 2, 100)
        
        self.models['intrusion_detector'] = RandomForestClassifier().fit(X_dummy, y_dummy)
        self.models['phishing_detector'] = DummyClassifier().fit(X_dummy, y_dummy)
        
        # Create dummy neural network
        dummy_nn = tf.keras.Sequential([
            tf.keras.layers.Dense(64, activation='relu', input_shape=(10,)),
            tf.keras.layers.Dense(32, activation='relu'),
            tf.keras.layers.Dense(2, activation='softmax')
        ])
        dummy_nn.compile(optimizer='adam', loss='sparse_categorical_crossentropy')
        self.models['malware_classifier'] = dummy_nn
    
    def preprocess_network_data(self, data: NetworkTrafficData):
        """Preprocess network traffic data"""
        # Normalize features
        features = np.array(data.features)
        normalized_features = (features - np.mean(features)) / (np.std(features) + 1e-8)
        
        return normalized_features.reshape(1, -1)
    
    def predict_intrusion(self, data: NetworkTrafficData) -> SecurityPrediction:
        """Detect network intrusions"""
        try:
            processed_data = self.preprocess_network_data(data)
            
            # Make prediction
            model = self.models['intrusion_detector']
            prediction = model.predict(processed_data)[0]
            confidence = max(model.predict_proba(processed_data)[0])
            
            # Convert to security prediction
            is_intrusion = prediction == 1
            risk_score = confidence if is_intrusion else 1 - confidence
            
            result = SecurityPrediction(
                prediction="Intrusion Detected" if is_intrusion else "Normal Traffic",
                confidence=float(confidence),
                risk_score=float(risk_score),
                recommendation="Block traffic and investigate" if is_intrusion else "Allow traffic"
            )
            
            # Log prediction
            self.logger.info(f"Intrusion detection: {result.prediction} (confidence: {confidence:.3f})")
            
            return result
            
        except Exception as e:
            self.logger.error(f"Error in intrusion detection: {e}")
            raise HTTPException(status_code=500, detail="Intrusion detection failed")
    
    def predict_malware(self, data: MalwareAnalysisData) -> SecurityPrediction:
        """Classify malware"""
        try:
            features = np.array(data.features).reshape(1, -1)
            
            # Make prediction
            model = self.models['malware_classifier']
            prediction_probs = model.predict(features)[0]
            prediction_class = np.argmax(prediction_probs)
            confidence = float(np.max(prediction_probs))
            
            # Map class to label
            class_labels = ["Benign", "Malware"]
            prediction_label = class_labels[prediction_class]
            
            is_malware = prediction_class == 1
            risk_score = confidence if is_malware else 1 - confidence
            
            result = SecurityPrediction(
                prediction=prediction_label,
                confidence=confidence,
                risk_score=float(risk_score),
                recommendation="Quarantine file" if is_malware else "File appears safe"
            )
            
            # Log prediction
            self.logger.info(f"Malware detection for {data.file_hash}: {result.prediction}")
            
            return result
            
        except Exception as e:
            self.logger.error(f"Error in malware detection: {e}")
            raise HTTPException(status_code=500, detail="Malware detection failed")
    
    def get_model_health(self) -> Dict:
        """Check health status of all models"""
        health_status = {}
        
        for model_name, model in self.models.items():
            try:
                # Simple health check - try to make a dummy prediction
                if model_name == 'malware_classifier':
                    dummy_input = np.random.random((1, 10))
                    _ = model.predict(dummy_input)
                else:
                    dummy_input = np.random.random((1, 10))
                    _ = model.predict(dummy_input)
                
                health_status[model_name] = "healthy"
            except Exception as e:
                health_status[model_name] = f"error: {str(e)}"
        
        return health_status

# Create FastAPI application
app = FastAPI(title="Security ML API", version="1.0.0")
model_service = SecurityModelService()

@app.get("/")
async def root():
    return {"message": "Security ML API is running"}

@app.get("/health")
async def health_check():
    """Check API and model health"""
    model_health = model_service.get_model_health()
    return {
        "api_status": "healthy",
        "models": model_health
    }

@app.post("/predict/intrusion", response_model=SecurityPrediction)
async def detect_intrusion(data: NetworkTrafficData):
    """Detect network intrusions"""
    return model_service.predict_intrusion(data)

@app.post("/predict/malware", response_model=SecurityPrediction)
async def detect_malware(data: MalwareAnalysisData):
    """Classify malware"""
    return model_service.predict_malware(data)

@app.get("/models/info")
async def get_model_info():
    """Get information about loaded models"""
    return {
        "available_models": list(model_service.models.keys()),
        "model_count": len(model_service.models)
    }

# Model monitoring and drift detection
class ModelMonitor:
    def __init__(self):
        self.prediction_history = []
        self.performance_metrics = {}
    
    def log_prediction(self, model_name: str, input_data: dict, prediction: dict):
        """Log prediction for monitoring"""
        log_entry = {
            "timestamp": np.datetime64('now'),
            "model": model_name,
            "input": input_data,
            "prediction": prediction
        }
        self.prediction_history.append(log_entry)
    
    def detect_data_drift(self, recent_data: np.ndarray, baseline_data: np.ndarray):
        """Simple data drift detection using statistical tests"""
        from scipy import stats
        
        drift_detected = False
        p_values = []
        
        for feature_idx in range(recent_data.shape[1]):
            recent_feature = recent_data[:, feature_idx]
            baseline_feature = baseline_data[:, feature_idx]
            
            # Kolmogorov-Smirnov test
            statistic, p_value = stats.ks_2samp(recent_feature, baseline_feature)
            p_values.append(p_value)
            
            if p_value < 0.05:  # Significance threshold
                drift_detected = True
        
        return {
            "drift_detected": drift_detected,
            "p_values": p_values,
            "avg_p_value": np.mean(p_values)
        }

# Example Streamlit dashboard (conceptual)
def create_security_dashboard():
    """Create a simple dashboard for security model monitoring"""
    import streamlit as st
    
    st.title("Security ML Dashboard")
    
    # Model status
    st.header("Model Status")
    health_status = model_service.get_model_health()
    
    for model_name, status in health_status.items():
        if status == "healthy":
            st.success(f"{model_name}: {status}")
        else:
            st.error(f"{model_name}: {status}")
    
    # Real-time predictions
    st.header("Recent Predictions")
    
    # File upload for testing
    uploaded_file = st.file_uploader("Upload network traffic data")
    if uploaded_file:
        # Process file and make predictions
        st.write("Processing uploaded data...")

if __name__ == "__main__":
    # Run the API server
    uvicorn.run(app, host="0.0.0.0", port=8000)
    
    # To run: python security_model_api.py
    # API will be available at http://localhost:8000
    # Docs at http://localhost:8000/docs</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Security teams deploy ML models as APIs for real-time threat detection, integrate models into SIEM systems, and use containerized deployments for scalable security analytics.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Real-time security threat detection and response</li>
                                    <li>Integration with existing security infrastructure</li>
                                    <li>Scalable processing of security data streams</li>
                                    <li>Consistent model performance across environments</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Security operations centers (SOCs)</li>
                                    <li>Network monitoring systems</li>
                                    <li>Endpoint protection platforms</li>
                                    <li>Cloud security services</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Implement comprehensive monitoring and logging</li>
                                        <li>Use version control for models and deployments</li>
                                        <li>Implement proper error handling and fallbacks</li>
                                        <li>Monitor for model drift and performance degradation</li>
                                        <li>Implement security measures for API access</li>
                                        <li>Plan for model updates and rollbacks</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't deploy models without proper testing</li>
                                        <li>Don't ignore model performance monitoring</li>
                                        <li>Don't hardcode configuration values</li>
                                        <li>Don't expose sensitive model internals</li>
                                        <li>Don't ignore security vulnerabilities in dependencies</li>
                                        <li>Don't deploy without considering scalability requirements</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>
                </div>

                <div class="checklist">
                    <h3>üìã Track 5 Study Checklist</h3>
                    <div class="checklist-grid">
                        <label class="checklist-item"><input type="checkbox"> Neural Networks</label>
                        <label class="checklist-item"><input type="checkbox"> Regularization</label>
                        <label class="checklist-item"><input type="checkbox"> NLP Basics</label>
                        <label class="checklist-item"><input type="checkbox"> CV Basics</label>
                        <label class="checklist-item"><input type="checkbox"> Transfer Learning</label>
                        <label class="checklist-item"><input type="checkbox"> Model Deployment</label>
                    </div>
                </div>
            </section>

            <!-- TRACK 6: AI for Cybersecurity -->
            <section class="track-section" id="track6">
                <h2 class="track-header">Track 6: AI for Cybersecurity (Fusion)</h2>
                
                <div class="subjects-grid">
                    <!-- Anomaly Detection for Logs -->
                    <article class="subject-card" id="anomaly-detection">
                        <h3 class="subject-title">Anomaly Detection for Logs</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Using machine learning to detect unusual patterns in security logs:</p>
                                <ul>
                                    <li><strong>Isolation Forest</strong>: Tree-based anomaly detection</li>
                                    <li><strong>One-Class SVM</strong>: Support vector machine for outliers</li>
                                    <li><strong>Statistical Methods</strong>: Z-score, IQR-based detection</li>
                                    <li><strong>Time Series Analysis</strong>: Seasonal decomposition, ARIMA</li>
                                    <li><strong>Deep Learning</strong>: Autoencoders for complex patterns</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Log anomaly detection system
import pandas as pd
import numpy as np
from sklearn.ensemble import IsolationForest
from sklearn.preprocessing import StandardScaler
from sklearn.model_selection import train_test_split
import matplotlib.pyplot as plt
from datetime import datetime, timedelta

class LogAnomalyDetector:
    def __init__(self):
        self.models = {}
        self.scalers = {}
        self.baseline_stats = {}
    
    def preprocess_log_features(self, log_data):
        """Extract numerical features from log entries"""
        features = []
        
        for log_entry in log_data:
            feature_vector = {}
            
            # Time-based features
            timestamp = log_entry.get('timestamp', datetime.now())
            feature_vector['hour'] = timestamp.hour
            feature_vector['day_of_week'] = timestamp.weekday()
            feature_vector['is_weekend'] = 1 if timestamp.weekday() >= 5 else 0
            
            # Log level encoding
            log_levels = {'DEBUG': 0, 'INFO': 1, 'WARNING': 2, 'ERROR': 3, 'CRITICAL': 4}
            feature_vector['log_level'] = log_levels.get(log_entry.get('level', 'INFO'), 1)
            
            # Message length
            message = log_entry.get('message', '')
            feature_vector['message_length'] = len(message)
            feature_vector['word_count'] = len(message.split())
            
            # User/source features
            feature_vector['user_id_hash'] = hash(log_entry.get('user_id', 'unknown')) % 1000
            feature_vector['source_ip_hash'] = hash(log_entry.get('source_ip', '0.0.0.0')) % 1000
            
            # Response time/status code
            feature_vector['response_time'] = log_entry.get('response_time', 0)
            feature_vector['status_code'] = log_entry.get('status_code', 200)
            
            # Request size
            feature_vector['request_size'] = log_entry.get('request_size', 0)
            
            features.append(feature_vector)
        
        return pd.DataFrame(features)
    
    def train_isolation_forest(self, log_data, contamination=0.1):
        """Train Isolation Forest for anomaly detection"""
        # Preprocess features
        features_df = self.preprocess_log_features(log_data)
        
        # Scale features
        scaler = StandardScaler()
        scaled_features = scaler.fit_transform(features_df)
        
        # Train Isolation Forest
        iso_forest = IsolationForest(
            contamination=contamination,
            random_state=42,
            n_estimators=100
        )
        iso_forest.fit(scaled_features)
        
        # Store models
        self.models['isolation_forest'] = iso_forest
        self.scalers['isolation_forest'] = scaler
        
        # Calculate baseline statistics
        self.baseline_stats = {
            'mean_response_time': features_df['response_time'].mean(),
            'std_response_time': features_df['response_time'].std(),
            'mean_message_length': features_df['message_length'].mean(),
            'common_status_codes': features_df['status_code'].value_counts().head(5).to_dict()
        }
        
        return iso_forest
    
    def detect_anomalies(self, new_log_data):
        """Detect anomalies in new log data"""
        if 'isolation_forest' not in self.models:
            raise ValueError("Model not trained. Call train_isolation_forest first.")
        
        # Preprocess new data
        features_df = self.preprocess_log_features(new_log_data)
        scaled_features = self.scalers['isolation_forest'].transform(features_df)
        
        # Predict anomalies (-1 for anomaly, 1 for normal)
        predictions = self.models['isolation_forest'].predict(scaled_features)
        anomaly_scores = self.models['isolation_forest'].decision_function(scaled_features)
        
        # Create results
        results = []
        for i, (log_entry, prediction, score) in enumerate(zip(new_log_data, predictions, anomaly_scores)):
            is_anomaly = prediction == -1
            
            result = {
                'log_entry': log_entry,
                'is_anomaly': is_anomaly,
                'anomaly_score': float(score),
                'confidence': abs(float(score)),
                'features': features_df.iloc[i].to_dict()
            }
            
            # Add explanation for anomaly
            if is_anomaly:
                result['explanation'] = self._explain_anomaly(features_df.iloc[i])
            
            results.append(result)
        
        return results
    
    def _explain_anomaly(self, feature_row):
        """Provide explanation for why a log entry is anomalous"""
        explanations = []
        
        # Check response time
        if feature_row['response_time'] > self.baseline_stats['mean_response_time'] + 3 * self.baseline_stats['std_response_time']:
            explanations.append(f"Unusually high response time: {feature_row['response_time']:.2f}ms")
        
        # Check message length
        if feature_row['message_length'] > self.baseline_stats['mean_message_length'] + 3 * 100:  # Threshold
            explanations.append(f"Unusually long message: {feature_row['message_length']} characters")
        
        # Check status code
        if feature_row['status_code'] not in self.baseline_stats['common_status_codes']:
            explanations.append(f"Uncommon status code: {feature_row['status_code']}")
        
        # Check time patterns
        if feature_row['hour'] < 6 or feature_row['hour'] > 22:
            explanations.append("Activity during unusual hours")
        
        return explanations if explanations else ["Statistical outlier based on combined features"]
    
    def time_series_anomaly_detection(self, log_timestamps, window_size=60):
        """Detect anomalies in log frequency over time"""
        # Convert to time series
        ts_data = pd.Series(1, index=pd.to_datetime(log_timestamps))
        ts_resampled = ts_data.resample(f'{window_size}S').count()
        
        # Calculate rolling statistics
        rolling_mean = ts_resampled.rolling(window=10).mean()
        rolling_std = ts_resampled.rolling(window=10).std()
        
        # Detect anomalies using z-score
        z_scores = (ts_resampled - rolling_mean) / rolling_std
        anomalies = ts_resampled[abs(z_scores) > 3]
        
        return {
            'time_series': ts_resampled,
            'anomalies': anomalies,
            'z_scores': z_scores
        }
    
    def behavioral_baseline(self, user_logs):
        """Create behavioral baseline for users"""
        user_profiles = {}
        
        for user_id, logs in user_logs.items():
            features_df = self.preprocess_log_features(logs)
            
            profile = {
                'avg_session_length': features_df['response_time'].mean(),
                'common_hours': features_df['hour'].mode().tolist(),
                'typical_request_size': features_df['request_size'].median(),
                'activity_pattern': features_df.groupby('hour').size().to_dict(),
                'error_rate': (features_df['status_code'] >= 400).mean()
            }
            
            user_profiles[user_id] = profile
        
        return user_profiles
    
    def detect_user_anomalies(self, user_id, new_activity, user_profiles):
        """Detect anomalies in user behavior"""
        if user_id not in user_profiles:
            return {"error": "No baseline profile for user"}
        
        profile = user_profiles[user_id]
        features_df = self.preprocess_log_features(new_activity)
        
        anomalies = []
        
        # Check session length anomaly
        avg_response_time = features_df['response_time'].mean()
        if abs(avg_response_time - profile['avg_session_length']) > 2 * profile['avg_session_length']:
            anomalies.append({
                'type': 'unusual_session_length',
                'baseline': profile['avg_session_length'],
                'observed': avg_response_time
            })
        
        # Check time pattern anomaly
        current_hours = set(features_df['hour'].unique())
        common_hours = set(profile['common_hours'])
        if not current_hours.intersection(common_hours):
            anomalies.append({
                'type': 'unusual_time_pattern',
                'baseline_hours': profile['common_hours'],
                'observed_hours': list(current_hours)
            })
        
        # Check error rate anomaly
        current_error_rate = (features_df['status_code'] >= 400).mean()
        if current_error_rate > profile['error_rate'] * 3:
            anomalies.append({
                'type': 'elevated_error_rate',
                'baseline': profile['error_rate'],
                'observed': current_error_rate
            })
        
        return {
            'user_id': user_id,
            'anomalies': anomalies,
            'risk_score': len(anomalies) / 3.0  # Normalize to 0-1
        }

# Example usage
detector = LogAnomalyDetector()

# Sample log data
training_logs = [
    {
        'timestamp': datetime.now() - timedelta(hours=i),
        'level': 'INFO',
        'message': f'User login successful for user_{i%10}',
        'user_id': f'user_{i%10}',
        'source_ip': f'192.168.1.{i%50 + 100}',
        'response_time': 150 + np.random.normal(0, 30),
        'status_code': 200,
        'request_size': 1024 + np.random.normal(0, 200)
    }
    for i in range(1000)
]

# Add some anomalous logs
training_logs.extend([
    {
        'timestamp': datetime.now(),
        'level': 'ERROR',
        'message': 'Suspicious login attempt with invalid credentials from unknown location' * 10,
        'user_id': 'unknown_user',
        'source_ip': '10.0.0.1',
        'response_time': 5000,  # Very high response time
        'status_code': 401,
        'request_size': 50000  # Very large request
    }
])

# Train the model
iso_forest = detector.train_isolation_forest(training_logs, contamination=0.05)

# Test with new data
test_logs = [
    {
        'timestamp': datetime.now(),
        'level': 'INFO',
        'message': 'Normal user activity',
        'user_id': 'user_1',
        'source_ip': '192.168.1.105',
        'response_time': 160,
        'status_code': 200,
        'request_size': 1100
    },
    {
        'timestamp': datetime.now(),
        'level': 'WARNING',
        'message': 'Multiple failed login attempts detected for user admin from suspicious IP',
        'user_id': 'admin',
        'source_ip': '95.123.45.67',
        'response_time': 3000,
        'status_code': 429,
        'request_size': 2048
    }
]

# Detect anomalies
results = detector.detect_anomalies(test_logs)

for result in results:
    print(f"Log entry anomaly: {result['is_anomaly']}")
    print(f"Anomaly score: {result['anomaly_score']:.3f}")
    if result['is_anomaly']:
        print(f"Explanation: {result['explanation']}")
    print("-" * 50)</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>SOC teams use anomaly detection to automatically identify unusual login patterns, detect DDoS attacks through traffic analysis, and flag potential data exfiltration based on network behavior patterns.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Automated detection of unknown threats and zero-day attacks</li>
                                    <li>Reduces false positives compared to rule-based systems</li>
                                    <li>Scales to process millions of log entries automatically</li>
                                    <li>Identifies subtle patterns humans might miss</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Security Information and Event Management (SIEM) systems</li>
                                    <li>Network monitoring and intrusion detection</li>
                                    <li>Fraud detection in financial systems</li>
                                    <li>Industrial control system monitoring</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Establish clean baseline data for training</li>
                                        <li>Tune contamination rates based on historical data</li>
                                        <li>Combine multiple detection methods for robustness</li>
                                        <li>Implement feedback loops to improve accuracy</li>
                                        <li>Consider temporal and contextual factors</li>
                                        <li>Regularly retrain models with new data</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't train on data containing known anomalies</li>
                                        <li>Don't ignore feature engineering and preprocessing</li>
                                        <li>Don't set contamination rates too high or too low</li>
                                        <li>Don't rely solely on automated detection without human review</li>
                                        <li>Don't ignore computational and storage requirements</li>
                                        <li>Don't forget to handle concept drift over time</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Phishing/Spam Detection -->
                    <article class="subject-card" id="phishing-detection">
                        <h3 class="subject-title">Phishing/Spam Detection</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Machine learning for email and web security:</p>
                                <ul>
                                    <li><strong>Text Classification</strong>: NLP techniques for content analysis</li>
                                    <li><strong>URL Analysis</strong>: Domain reputation, structure patterns</li>
                                    <li><strong>Feature Engineering</strong>: Sender reputation, metadata analysis</li>
                                    <li><strong>Ensemble Methods</strong>: Combining multiple classifiers</li>
                                    <li><strong>Real-time Processing</strong>: Stream processing for email flows</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Phishing and spam detection system
import re
import pandas as pd
import numpy as np
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.ensemble import RandomForestClassifier
from sklearn.linear_model import LogisticRegression
from sklearn.model_selection import train_test_split
from sklearn.metrics import classification_report, confusion_matrix
import urllib.parse
from collections import Counter

class PhishingSpamDetector:
    def __init__(self):
        self.text_vectorizer = TfidfVectorizer(max_features=5000, stop_words='english')
        self.url_vectorizer = TfidfVectorizer(max_features=1000, analyzer='char', ngram_range=(2, 4))
        self.classifiers = {}
        self.feature_extractors = {}
    
    def extract_email_features(self, email_data):
        """Extract comprehensive features from email"""
        features = {}
        
        # Basic text features
        subject = email_data.get('subject', '')
        body = email_data.get('body', '')
        full_text = f"{subject} {body}"
        
        features['subject_length'] = len(subject)
        features['body_length'] = len(body)
        features['word_count'] = len(full_text.split())
        
        # Suspicious pattern detection
        features['has_urgent_words'] = self._count_urgent_words(full_text)
        features['has_financial_words'] = self._count_financial_words(full_text)
        features['has_personal_info_request'] = self._detect_personal_info_requests(full_text)
        features['excessive_punctuation'] = self._count_excessive_punctuation(full_text)
        
        # Sender analysis
        sender = email_data.get('sender', '')
        features['sender_suspicious'] = self._analyze_sender(sender)
        features['sender_domain_age'] = self._estimate_domain_age(sender)
        
        # Technical features
        features['num_links'] = len(re.findall(r'http[s]?://\S+', full_text))
        features['num_attachments'] = len(email_data.get('attachments', []))
        features['has_executable_attachment'] = self._has_executable_attachment(email_data.get('attachments', []))
        
        # HTML features
        if '<html>' in body.lower():
            features['is_html'] = 1
            features['num_images'] = len(re.findall(r'<img\s', body, re.IGNORECASE))
            features['num_forms'] = len(re.findall(r'<form\s', body, re.IGNORECASE))
            features['has_hidden_text'] = self._detect_hidden_text(body)
        else:
            features['is_html'] = 0
            features['num_images'] = 0
            features['num_forms'] = 0
            features['has_hidden_text'] = 0
        
        # URL analysis
        urls = re.findall(r'http[s]?://\S+', full_text)
        features['url_reputation_score'] = self._analyze_urls(urls)
        features['has_shortened_url'] = any(self._is_shortened_url(url) for url in urls)
        features['domain_mismatch'] = self._detect_domain_mismatch(urls, sender)
        
        return features
    
    def _count_urgent_words(self, text):
        urgent_words = [
            'urgent', 'immediate', 'expire', 'suspended', 'verify', 'confirm',
            'click here', 'act now', 'limited time', 'don\'t delay'
        ]
        count = sum(1 for word in urgent_words if word.lower() in text.lower())
        return min(count / len(urgent_words), 1.0)  # Normalize to 0-1
    
    def _count_financial_words(self, text):
        financial_words = [
            'bank', 'account', 'credit card', 'paypal', 'bitcoin', 'wire transfer',
            'refund', 'tax', 'irs', 'social security', 'ssn', 'routing number'
        ]
        count = sum(1 for word in financial_words if word.lower() in text.lower())
        return min(count / len(financial_words), 1.0)
    
    def _detect_personal_info_requests(self, text):
        patterns = [
            r'enter.*password', r'provide.*ssn', r'confirm.*identity',
            r'update.*information', r'verify.*account', r'submit.*details'
        ]
        for pattern in patterns:
            if re.search(pattern, text, re.IGNORECASE):
                return 1
        return 0
    
    def _count_excessive_punctuation(self, text):
        exclamations = text.count('!')
        questions = text.count('?')
        total_chars = len(text)
        if total_chars == 0:
            return 0
        return min((exclamations + questions) / total_chars * 100, 1.0)
    
    def _analyze_sender(self, sender):
        suspicious_score = 0
        
        # Check for suspicious patterns
        if re.search(r'\d{3,}', sender):  # Many numbers
            suspicious_score += 0.3
        
        if len(re.findall(r'[^a-zA-Z0-9@\.\-]', sender)) > 2:  # Special chars
            suspicious_score += 0.2
        
        if sender.count('.') > 3:  # Too many dots
            suspicious_score += 0.2
        
        # Check against known suspicious TLDs
        suspicious_tlds = ['.tk', '.ml', '.ga', '.cf', '.gq']
        if any(tld in sender.lower() for tld in suspicious_tlds):
            suspicious_score += 0.3
        
        return min(suspicious_score, 1.0)
    
    def _estimate_domain_age(self, sender):
        # Simplified domain age estimation (in real implementation, use WHOIS)
        domain = sender.split('@')[-1] if '@' in sender else sender
        
        # Common old domains get low suspicion score
        old_domains = ['gmail.com', 'yahoo.com', 'hotmail.com', 'outlook.com']
        if domain.lower() in old_domains:
            return 0.1
        
        # New or unknown domains get higher suspicion
        return 0.7
    
    def _has_executable_attachment(self, attachments):
        executable_extensions = ['.exe', '.bat', '.cmd', '.scr', '.pif', '.com']
        for attachment in attachments:
            if any(attachment.lower().endswith(ext) for ext in executable_extensions):
                return 1
        return 0
    
    def _detect_hidden_text(self, html_body):
        # Look for hidden text techniques
        hidden_patterns = [
            r'style\s*=\s*["\'][^"\']*display\s*:\s*none',
            r'style\s*=\s*["\'][^"\']*visibility\s*:\s*hidden',
            r'style\s*=\s*["\'][^"\']*color\s*:\s*white.*background.*white',
            r'<span[^>]*font-size\s*:\s*0'
        ]
        
        for pattern in hidden_patterns:
            if re.search(pattern, html_body, re.IGNORECASE):
                return 1
        return 0
    
    def _analyze_urls(self, urls):
        if not urls:
            return 0
        
        suspicious_score = 0
        for url in urls:
            # Check URL structure
            parsed = urllib.parse.urlparse(url)
            
            # Suspicious URL characteristics
            if len(parsed.hostname or '') > 50:  # Very long domain
                suspicious_score += 0.2
            
            if (parsed.hostname or '').count('-') > 3:  # Many hyphens
                suspicious_score += 0.1
            
            if (parsed.hostname or '').count('.') > 4:  # Many subdomains
                suspicious_score += 0.1
            
            # IP address instead of domain
            if re.match(r'^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$', parsed.hostname or ''):
                suspicious_score += 0.4
            
            # Suspicious TLDs
            if any(tld in (parsed.hostname or '').lower() for tld in ['.tk', '.ml', '.ga']):
                suspicious_score += 0.2
        
        return min(suspicious_score / len(urls), 1.0)
    
    def _is_shortened_url(self, url):
        short_domains = ['bit.ly', 'tinyurl.com', 'goo.gl', 't.co', 'short.link']
        return any(domain in url.lower() for domain in short_domains)
    
    def _detect_domain_mismatch(self, urls, sender):
        if not urls or '@' not in sender:
            return 0
        
        sender_domain = sender.split('@')[1].lower()
        
        for url in urls:
            parsed = urllib.parse.urlparse(url)
            url_domain = (parsed.hostname or '').lower()
            
            # Check if URL domain significantly differs from sender domain
            if url_domain and sender_domain not in url_domain and url_domain not in sender_domain:
                # Additional check for common legitimate redirects
                safe_domains = ['google.com', 'microsoft.com', 'apple.com']
                if not any(safe in url_domain for safe in safe_domains):
                    return 1
        
        return 0
    
    def extract_url_features(self, url):
        """Extract features from URLs for phishing detection"""
        features = {}
        
        parsed = urllib.parse.urlparse(url)
        
        # Basic URL structure
        features['url_length'] = len(url)
        features['domain_length'] = len(parsed.hostname or '')
        features['path_length'] = len(parsed.path or '')
        features['query_length'] = len(parsed.query or '')
        
        # Character analysis
        features['num_dots'] = url.count('.')
        features['num_hyphens'] = url.count('-')
        features['num_underscores'] = url.count('_')
        features['num_slashes'] = url.count('/')
        features['num_digits'] = sum(c.isdigit() for c in url)
        
        # Suspicious patterns
        features['has_ip'] = 1 if re.search(r'\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}', url) else 0
        features['has_port'] = 1 if ':' in parsed.netloc and parsed.port else 0
        features['is_https'] = 1 if parsed.scheme == 'https' else 0
        
        # Domain analysis
        domain = parsed.hostname or ''
        features['subdomain_count'] = len(domain.split('.')) - 2 if domain else 0
        features['domain_has_digits'] = 1 if any(c.isdigit() for c in domain) else 0
        
        # Suspicious keywords
        suspicious_keywords = ['secure', 'account', 'update', 'verify', 'login', 'bank']
        features['suspicious_keywords'] = sum(1 for keyword in suspicious_keywords if keyword in url.lower())
        
        return features
    
    def train_classifiers(self, email_dataset):
        """Train multiple classifiers for email security"""
        # Extract features
        features_list = []
        labels = []
        texts = []
        
        for email_data in email_dataset:
            features = self.extract_email_features(email_data)
            features_list.append(features)
            labels.append(email_data['label'])  # 0: legitimate, 1: phishing/spam
            texts.append(f"{email_data.get('subject', '')} {email_data.get('body', '')}")
        
        # Convert to DataFrame
        features_df = pd.DataFrame(features_list)
        
        # Split data
        X_features_train, X_features_test, X_text_train, X_text_test, y_train, y_test = train_test_split(
            features_df, texts, labels, test_size=0.2, random_state=42
        )
        
        # Train text vectorizer
        X_text_vectors_train = self.text_vectorizer.fit_transform(X_text_train)
        X_text_vectors_test = self.text_vectorizer.transform(X_text_test)
        
        # Combine features
        from scipy.sparse import hstack
        X_combined_train = hstack([X_features_train.values, X_text_vectors_train])
        X_combined_test = hstack([X_features_test.values, X_text_vectors_test])
        
        # Train classifiers
        self.classifiers['random_forest'] = RandomForestClassifier(n_estimators=100, random_state=42)
        self.classifiers['logistic_regression'] = LogisticRegression(random_state=42, max_iter=1000)
        
        for name, classifier in self.classifiers.items():
            classifier.fit(X_combined_train, y_train)
            
            # Evaluate
            y_pred = classifier.predict(X_combined_test)
            print(f"\n{name} Results:")
            print(classification_report(y_test, y_pred))
        
        return self.classifiers
    
    def predict_email_security(self, email_data):
        """Predict if email is phishing/spam"""
        # Extract features
        features = self.extract_email_features(email_data)
        features_df = pd.DataFrame([features])
        
        # Extract text features
        text = f"{email_data.get('subject', '')} {email_data.get('body', '')}"
        text_vector = self.text_vectorizer.transform([text])
        
        # Combine features
        from scipy.sparse import hstack
        X_combined = hstack([features_df.values, text_vector])
        
        # Get predictions from all classifiers
        predictions = {}
        for name, classifier in self.classifiers.items():
            pred_proba = classifier.predict_proba(X_combined)[0]
            predictions[name] = {
                'prediction': classifier.predict(X_combined)[0],
                'probability': pred_proba[1],  # Probability of being malicious
                'confidence': max(pred_proba)
            }
        
        # Ensemble prediction (average probabilities)
        avg_probability = np.mean([pred['probability'] for pred in predictions.values()])
        final_prediction = 1 if avg_probability > 0.5 else 0
        
        return {
            'is_malicious': final_prediction,
            'risk_score': avg_probability,
            'individual_predictions': predictions,
            'features': features,
            'recommendation': self._get_recommendation(avg_probability)
        }
    
    def _get_recommendation(self, risk_score):
        """Provide recommendation based on risk score"""
        if risk_score > 0.8:
            return "Block email immediately and report to security team"
        elif risk_score > 0.6:
            return "Quarantine email for manual review"
        elif risk_score > 0.3:
            return "Mark as suspicious and warn user"
        else:
            return "Allow email but continue monitoring"

# Example usage
detector = PhishingSpamDetector()

# Sample training data (in real implementation, use large labeled dataset)
sample_emails = [
    {
        'subject': 'Your account has been suspended - verify immediately',
        'body': 'Click here to verify your account: http://fake-bank.suspicious.com/verify',
        'sender': 'security@bank-verification.tk',
        'attachments': [],
        'label': 1  # Phishing
    },
    {
        'subject': 'Meeting reminder for tomorrow',
        'body': 'Don\'t forget about our meeting tomorrow at 2 PM in conference room A.',
        'sender': 'john.doe@company.com',
        'attachments': [],
        'label': 0  # Legitimate
    }
]

# Train classifiers (with more data in practice)
if len(sample_emails) >= 10:  # Need minimum data for training
    classifiers = detector.train_classifiers(sample_emails)

# Test prediction
test_email = {
    'subject': 'URGENT: Update your payment information now!',
    'body': 'Your payment method will expire soon. Click here to update: http://suspicious-site.com/update',
    'sender': 'noreply@payment-update.ml',
    'attachments': []
}

# Make prediction
if detector.classifiers:  # Only if trained
    result = detector.predict_email_security(test_email)
    print(f"Email is malicious: {result['is_malicious']}")
    print(f"Risk score: {result['risk_score']:.3f}")
    print(f"Recommendation: {result['recommendation']}")
</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Email security services use ML to analyze millions of emails daily, blocking 99%+ of phishing attempts while maintaining low false positive rates for legitimate business communications.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Phishing attacks are a primary attack vector</li>
                                    <li>Traditional rule-based filters can't keep up with evolving tactics</li>
                                    <li>Machine learning adapts to new attack patterns automatically</li>
                                    <li>Reduces human workload in security operations</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Email security gateways and filters</li>
                                    <li>Web browsers and URL reputation services</li>
                                    <li>Enterprise security platforms</li>
                                    <li>Anti-spam and anti-phishing services</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Combine multiple feature types (text, metadata, behavioral)</li>
                                        <li>Use ensemble methods for improved accuracy</li>
                                        <li>Implement real-time feedback loops</li>
                                        <li>Regular model retraining with new threats</li>
                                        <li>Balance automation with human oversight</li>
                                        <li>Consider adversarial attacks and evasion techniques</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't rely on single features or simple rules</li>
                                        <li>Don't ignore false positive impact on business</li>
                                        <li>Don't train on imbalanced datasets without proper handling</li>
                                        <li>Don't deploy without considering adversarial manipulation</li>
                                        <li>Don't ignore privacy concerns with email content analysis</li>
                                        <li>Don't assume static threat landscape</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Additional Track 6 subjects would continue here with similar detailed structure -->
                    <!-- For brevity, showing remaining subjects with condensed content -->
                    
                    <article class="subject-card" id="url-reputation">
                        <h3 class="subject-title">URL/Domain Reputation Features</h3>
                        <details><summary>üìò Notes</summary><div class="block"><p>Machine learning for URL safety assessment and domain reputation scoring.</p></div></details>
                        <details><summary>üß™ Examples</summary><div class="block"><p>Code examples for URL feature extraction, domain age analysis, and reputation scoring systems.</p></div></details>
                        <details><summary>‚ùì Why it's used</summary><div class="block"><ul><li>Proactive web security</li><li>Real-time threat blocking</li></ul></div></details>
                        <details><summary>üìç Where it's used</summary><div class="block"><ul><li>Web browsers</li><li>DNS filters</li></ul></div></details>
                        <details><summary>‚úÖ Best Practices</summary><div class="block"><div class="success"><ul><li>Multi-source reputation data</li><li>Real-time updates</li></ul></div></div></details>
                        <details><summary>‚ö†Ô∏è How NOT to use</summary><div class="block"><div class="warning"><ul><li>Don't rely on single reputation source</li><li>Don't ignore legitimate new domains</li></ul></div></div></details>
                    </article>

                    <article class="subject-card" id="malware-classification">
                        <h3 class="subject-title">Malware Classification</h3>
                        <details><summary>üìò Notes</summary><div class="block"><p>Static and dynamic analysis features for malware family classification using machine learning.</p></div></details>
                        <details><summary>üß™ Examples</summary><div class="block"><p>PE header analysis, API call sequences, and behavioral pattern classification.</p></div></details>
                        <details><summary>‚ùì Why it's used</summary><div class="block"><ul><li>Automated threat classification</li><li>Incident response prioritization</li></ul></div></details>
                        <details><summary>üìç Where it's used</summary><div class="block"><ul><li>Antivirus engines</li><li>Sandbox systems</li></ul></div></details>
                        <details><summary>‚úÖ Best Practices</summary><div class="block"><div class="success"><ul><li>Combine static and dynamic features</li><li>Regular model updates</li></ul></div></div></details>
                        <details><summary>‚ö†Ô∏è How NOT to use</summary><div class="block"><div class="warning"><ul><li>Don't ignore polymorphic malware</li><li>Don't rely only on static analysis</li></ul></div></div></details>
                    </article>

                    <article class="subject-card" id="siem-pipeline">
                        <h3 class="subject-title">SIEM-like Mini Pipeline</h3>
                        <details><summary>üìò Notes</summary><div class="block"><p>Building end-to-end security analytics pipeline with data ingestion, feature engineering, ML models, and alerting.</p></div></details>
                        <details><summary>üß™ Examples</summary><div class="block"><p>Real-time log processing, correlation engines, and automated response systems using Python and streaming frameworks.</p></div></details>
                        <details><summary>‚ùì Why it's used</summary><div class="block"><ul><li>Centralized security monitoring</li><li>Automated threat detection</li></ul></div></details>
                        <details><summary>üìç Where it's used</summary><div class="block"><ul><li>Enterprise SOCs</li><li>Managed security services</li></ul></div></details>
                        <details><summary>‚úÖ Best Practices</summary><div class="block"><div class="success"><ul><li>Scalable architecture design</li><li>Real-time processing capabilities</li></ul></div></div></details>
                        <details><summary>‚ö†Ô∏è How NOT to use</summary><div class="block"><div class="warning"><ul><li>Don't ignore data quality issues</li><li>Don't create alert fatigue</li></ul></div></div></details>
                    </article>

                    <article class="subject-card" id="model-security">
                        <h3 class="subject-title">Model Security & Adversarial ML</h3>
                        <details><summary>üìò Notes</summary><div class="block"><p>Protecting machine learning models from adversarial attacks, ensuring model robustness and security in production environments.</p></div></details>
                        <details><summary>üß™ Examples</summary><div class="block"><p>Adversarial training, model poisoning detection, and defensive techniques for security ML systems.</p></div></details>
                        <details><summary>‚ùì Why it's used</summary><div class="block"><ul><li>Prevent model manipulation</li><li>Ensure reliable security decisions</li></ul></div></details>
                        <details><summary>üìç Where it's used</summary><div class="block"><ul><li>Critical security systems</li><li>Autonomous security platforms</li></ul></div></details>
                        <details><summary>‚úÖ Best Practices</summary><div class="block"><div class="success"><ul><li>Adversarial training</li><li>Input validation and sanitization</li></ul></div></div></details>
                        <details><summary>‚ö†Ô∏è How NOT to use</summary><div class="block"><div class="warning"><ul><li>Don't ignore adversarial threats</li><li>Don't trust model outputs blindly</li></ul></div></div></details>
                    </article>
                </div>

                <div class="checklist">
                    <h3>üìã Track 6 Study Checklist</h3>
                    <div class="checklist-grid">
                        <label class="checklist-item"><input type="checkbox"> Anomaly Detection</label>
                        <label class="checklist-item"><input type="checkbox"> Phishing Detection</label>
                        <label class="checklist-item"><input type="checkbox"> URL Reputation</label>
                        <label class="checklist-item"><input type="checkbox"> Malware Classification</label>
                        <label class="checklist-item"><input type="checkbox"> SIEM Pipeline</label>
                        <label class="checklist-item"><input type="checkbox"> Model Security</label>
                    </div>
                </div>
            </section>

            <!-- TRACK 7: Practice & Projects -->
            <section class="track-section" id="track7">
                <h2 class="track-header">Track 7: Practice & Projects (Habits & Portfolio)</h2>
                
                <div class="subjects-grid">
                    <!-- Password Strength Checker -->
                    <article class="subject-card" id="password-checker">
                        <h3 class="subject-title">Password Strength Checker</h3>
                        
                        <details>
                            <summary>üìò Notes</summary>
                            <div class="block">
                                <p>Building robust password validation and strength assessment tools:</p>
                                <ul>
                                    <li><strong>Entropy Calculation</strong>: Measuring password randomness</li>
                                    <li><strong>Pattern Detection</strong>: Common passwords, keyboard patterns</li>
                                    <li><strong>Dictionary Attacks</strong>: Checking against known weak passwords</li>
                                    <li><strong>Policy Enforcement</strong>: Length, complexity requirements</li>
                                    <li><strong>User Feedback</strong>: Actionable improvement suggestions</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üß™ Examples</summary>
                            <div class="block">
                                <h4>Code Example:</h4>
                                <pre><code># Comprehensive password strength checker
import re
import math
import string
from collections import Counter
import requests
import hashlib

class PasswordStrengthChecker:
    def __init__(self):
        self.common_passwords = self._load_common_passwords()
        self.keyboard_patterns = self._get_keyboard_patterns()
        
    def _load_common_passwords(self):
        """Load common passwords list (top 10k most common)"""
        # In practice, load from file or API
        common = [
            'password', '123456', 'password123', 'admin', 'qwerty',
            'letmein', 'welcome', 'monkey', '1234567890', 'abc123'
        ]
        return set(common)
    
    def _get_keyboard_patterns(self):
        """Define keyboard patterns for detection"""
        return {
            'qwerty_rows': ['qwertyuiop', 'asdfghjkl', 'zxcvbnm'],
            'number_sequences': ['1234567890', '0987654321'],
            'adjacent_keys': {
                'q': 'qw12', 'w': 'qwert123', 'e': 'wertyui234',
                # ... (full keyboard mapping would be here)
            }
        }
    
    def calculate_entropy(self, password):
        """Calculate password entropy (bits)"""
        if not password:
            return 0
        
        # Character set size determination
        charset_size = 0
        if re.search(r'[a-z]', password):
            charset_size += 26
        if re.search(r'[A-Z]', password):
            charset_size += 26
        if re.search(r'[0-9]', password):
            charset_size += 10
        if re.search(r'[^a-zA-Z0-9]', password):
            charset_size += 32  # Estimate for special characters
        
        if charset_size == 0:
            return 0
        
        # Entropy = log2(charset_size^length)
        entropy = len(password) * math.log2(charset_size)
        
        # Adjust for patterns and repetition
        entropy *= self._calculate_pattern_penalty(password)
        
        return entropy
    
    def _calculate_pattern_penalty(self, password):
        """Reduce entropy for detected patterns"""
        penalty = 1.0
        
        # Repetition penalty
        char_counts = Counter(password.lower())
        max_repetition = max(char_counts.values()) if char_counts else 1
        if max_repetition > len(password) / 4:
            penalty *= 0.7
        
        # Sequential patterns
        if self._has_sequential_pattern(password):
            penalty *= 0.6
        
        # Keyboard patterns
        if self._has_keyboard_pattern(password):
            penalty *= 0.5
        
        # Dictionary words
        if self._contains_dictionary_words(password):
            penalty *= 0.4
        
        return max(penalty, 0.1)  # Minimum penalty
    
    def _has_sequential_pattern(self, password):
        """Detect sequential patterns (abc, 123, etc.)"""
        password_lower = password.lower()
        
        # Check for alphabetical sequences
        for i in range(len(password_lower) - 2):
            if len(set(password_lower[i:i+3])) == 3:
                chars = [ord(c) for c in password_lower[i:i+3]]
                if chars[1] - chars[0] == 1 and chars[2] - chars[1] == 1:
                    return True
                if chars[0] - chars[1] == 1 and chars[1] - chars[2] == 1:
                    return True
        
        # Check for numeric sequences
        for i in range(len(password) - 2):
            if password[i:i+3].isdigit():
                nums = [int(c) for c in password[i:i+3]]
                if nums[1] - nums[0] == 1 and nums[2] - nums[1] == 1:
                    return True
                if nums[0] - nums[1] == 1 and nums[1] - nums[2] == 1:
                    return True
        
        return False
    
    def _has_keyboard_pattern(self, password):
        """Detect keyboard patterns (qwerty, asdf, etc.)"""
        password_lower = password.lower()
        
        # Check against keyboard rows
        for row in self.keyboard_patterns['qwerty_rows']:
            for length in range(3, min(len(row) + 1, len(password_lower) + 1)):
                for start in range(len(row) - length + 1):
                    pattern = row[start:start + length]
                    if pattern in password_lower or pattern[::-1] in password_lower:
                        return True
        
        return False
    
    def _contains_dictionary_words(self, password):
        """Check for dictionary words in password"""
        password_lower = password.lower()
        
        # Check against common passwords
        if password_lower in self.common_passwords:
            return True
        
        # Check for common words as substrings
        common_words = ['password', 'admin', 'user', 'login', 'welcome']
        for word in common_words:
            if word in password_lower:
                return True
        
        return False
    
    def check_hibp(self, password):
        """Check against Have I Been Pwned database"""
        # Hash the password
        sha1_hash = hashlib.sha1(password.encode('utf-8')).hexdigest().upper()
        prefix = sha1_hash[:5]
        suffix = sha1_hash[5:]
        
        try:
            # Query HIBP API
            url = f"https://api.pwnedpasswords.com/range/{prefix}"
            response = requests.get(url, timeout=5)
            
            if response.status_code == 200:
                hashes = response.text.split('\n')
                for hash_line in hashes:
                    if ':' in hash_line:
                        hash_suffix, count = hash_line.split(':')
                        if hash_suffix == suffix:
                            return int(count)
            return 0
        except Exception:
            return None  # Error checking HIBP
    
    def assess_strength(self, password):
        """Comprehensive password strength assessment"""
        if not password:
            return {
                'score': 0,
                'strength': 'Very Weak',
                'feedback': ['Password cannot be empty']
            }
        
        issues = []
        recommendations = []
        score = 0
        
        # Length check
        length = len(password)
        if length < 8:
            issues.append(f"Too short (minimum 8 characters, current: {length})")
            recommendations.append("Use at least 8 characters")
        elif length < 12:
            score += 10
            recommendations.append("Consider using 12+ characters for better security")
        else:
            score += 25
        
        # Character diversity
        has_lower = bool(re.search(r'[a-z]', password))
        has_upper = bool(re.search(r'[A-Z]', password))
        has_digit = bool(re.search(r'[0-9]', password))
        has_special = bool(re.search(r'[^a-zA-Z0-9]', password))
        
        char_types = sum([has_lower, has_upper, has_digit, has_special])
        
        if char_types == 1:
            issues.append("Uses only one type of character")
            recommendations.append("Mix uppercase, lowercase, numbers, and symbols")
        elif char_types == 2:
            score += 10
            recommendations.append("Add more character types for better security")
        elif char_types == 3:
            score += 20
        else:
            score += 30
        
        # Entropy calculation
        entropy = self.calculate_entropy(password)
        if entropy < 25:
            issues.append("Low randomness/entropy")
            recommendations.append("Avoid predictable patterns and repetition")
        elif entropy < 50:
            score += 10
        elif entropy < 75:
            score += 20
        else:
            score += 25
        
        # Pattern checks
        if self._has_sequential_pattern(password):
            issues.append("Contains sequential patterns (abc, 123)")
            recommendations.append("Avoid keyboard sequences and number patterns")
            score -= 10
        
        if self._has_keyboard_pattern(password):
            issues.append("Contains keyboard patterns (qwerty, asdf)")
            recommendations.append("Avoid common keyboard patterns")
            score -= 10
        
        if self._contains_dictionary_words(password):
            issues.append("Contains common words or passwords")
            recommendations.append("Avoid dictionary words and common passwords")
            score -= 15
        
        # Check against breached passwords
        breach_count = self.check_hibp(password)
        if breach_count is not None:
            if breach_count > 0:
                issues.append(f"Found in {breach_count:,} data breaches")
                recommendations.append("This password has been compromised - choose a different one")
                score -= 20
            else:
                score += 10  # Bonus for not being breached
        
        # Normalize score
        score = max(0, min(100, score))
        
        # Determine strength category
        if score < 20:
            strength = "Very Weak"
        elif score < 40:
            strength = "Weak"
        elif score < 60:
            strength = "Fair"
        elif score < 80:
            strength = "Good"
        else:
            strength = "Strong"
        
        return {
            'score': score,
            'strength': strength,
            'entropy': round(entropy, 2),
            'length': length,
            'character_types': char_types,
            'issues': issues,
            'recommendations': recommendations,
            'breach_count': breach_count
        }
    
    def generate_secure_password(self, length=16, include_symbols=True):
        """Generate a cryptographically secure password"""
        import secrets
        
        # Character sets
        lowercase = string.ascii_lowercase
        uppercase = string.ascii_uppercase
        digits = string.digits
        symbols = "!@#$%^&*()_+-=[]{}|;:,.<>?" if include_symbols else ""
        
        # Ensure at least one character from each set
        password = [
            secrets.choice(lowercase),
            secrets.choice(uppercase),
            secrets.choice(digits)
        ]
        
        if include_symbols:
            password.append(secrets.choice(symbols))
        
        # Fill remaining length
        all_chars = lowercase + uppercase + digits + symbols
        for _ in range(length - len(password)):
            password.append(secrets.choice(all_chars))
        
        # Shuffle the password
        secrets.SystemRandom().shuffle(password)
        
        return ''.join(password)

# Example usage and testing
def demonstrate_password_checker():
    checker = PasswordStrengthChecker()
    
    test_passwords = [
        "password",
        "Password123",
        "MySecureP@ssw0rd2024",
        "qwerty123",
        "Tr0ub4dor&3",
        "correcthorsebatterystaple"
    ]
    
    print("Password Strength Analysis:")
    print("=" * 60)
    
    for password in test_passwords:
        result = checker.assess_strength(password)
        
        print(f"\nPassword: {'*' * len(password)}")
        print(f"Strength: {result['strength']} (Score: {result['score']}/100)")
        print(f"Entropy: {result['entropy']} bits")
        
        if result['issues']:
            print("Issues:")
            for issue in result['issues']:
                print(f"  ‚ùå {issue}")
        
        if result['recommendations']:
            print("Recommendations:")
            for rec in result['recommendations']:
                print(f"  üí° {rec}")
        
        print("-" * 40)
    
    # Generate secure password
    secure_password = checker.generate_secure_password(16)
    secure_result = checker.assess_strength(secure_password)
    
    print(f"\nGenerated secure password: {secure_password}")
    print(f"Strength: {secure_result['strength']} (Score: {secure_result['score']}/100)")

if __name__ == "__main__":
    demonstrate_password_checker()</code></pre>
                                <h4>Real-World Example:</h4>
                                <p>Enterprise password policies use strength checkers to enforce security requirements, while password managers integrate these tools to help users create and maintain strong, unique passwords.</p>
                            </div>
                        </details>

                        <details>
                            <summary>‚ùì Why it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>Weak passwords are the #1 cause of data breaches</li>
                                    <li>Automated enforcement reduces human error</li>
                                    <li>User education through real-time feedback</li>
                                    <li>Compliance with security frameworks and regulations</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>üìç Where it's used</summary>
                            <div class="block">
                                <ul>
                                    <li>User registration and password reset systems</li>
                                    <li>Enterprise identity management platforms</li>
                                    <li>Password managers and security tools</li>
                                    <li>Compliance and audit systems</li>
                                </ul>
                            </div>
                        </details>

                        <details>
                            <summary>‚úÖ Best Practices</summary>
                            <div class="block">
                                <div class="success">
                                    <ul>
                                        <li>Use entropy calculation for true strength assessment</li>
                                        <li>Check against known breached password databases</li>
                                        <li>Provide constructive feedback, not just rejection</li>
                                        <li>Consider passphrases and alternative authentication</li>
                                        <li>Implement rate limiting for password attempts</li>
                                        <li>Regular updates to common password lists</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <details>
                            <summary>‚ö†Ô∏è How NOT to use</summary>
                            <div class="block">
                                <div class="warning">
                                    <ul>
                                        <li>Don't rely solely on complexity rules</li>
                                        <li>Don't store passwords in plain text for checking</li>
                                        <li>Don't ignore user experience and usability</li>
                                        <li>Don't forget to handle edge cases and special characters</li>
                                        <li>Don't make password requirements so complex they're unusable</li>
                                        <li>Don't ignore the need for regular security updates</li>
                                    </ul>
                                </div>
                            </div>
                        </details>
                    </article>

                    <!-- Remaining Track 7 subjects with condensed content for brevity -->
                    <article class="subject-card" id="port-scanner">
                        <h3 class="subject-title">Simple Port Scanner</h3>
                        <details><summary>üìò Notes</summary><div class="block"><p>Building ethical port scanning tools with proper authorization and rate limiting. Includes TCP/UDP scanning, service detection, and legal considerations.</p></div></details>
                        <details><summary>üß™ Examples</summary><div class="block"><p>Python implementation with threading, timeout handling, and result reporting. Always emphasize authorization requirements.</p></div></details>
                        <details><summary>‚ùì Why it's used</summary><div class="block"><ul><li>Network security assessment</li><li>Asset discovery and inventory</li></ul></div></details>
                        <details><summary>üìç Where it's used</summary><div class="block"><ul><li>Penetration testing</li><li>IT security audits</li></ul></div></details>
                        <details><summary>‚úÖ Best Practices</summary><div class="block"><div class="success"><ul><li>Always get written authorization</li><li>Use appropriate timing and rate limiting</li></ul></div></div></details>
                        <details><summary>‚ö†Ô∏è How NOT to use</summary><div class="block"><div class="warning"><ul><li>Don't scan without explicit permission</li><li>Don't ignore legal and ethical boundaries</li></ul></div></div></details>
                    </article>

                    <article class="subject-card" id="log-anomaly">
                        <h3 class="subject-title">Log Anomaly Highlighter</h3>
                        <details><summary>üìò Notes</summary><div class="block"><p>Automated log analysis tool that processes security logs, identifies unusual patterns, and generates highlighted reports for investigation.</p></div></details>
                        <details><summary>üß™ Examples</summary><div class="block"><p>Statistical analysis, pattern matching, and HTML report generation with highlighted anomalies and investigation workflows.</p></div></details>
                        <details><summary>‚ùì Why it's used</summary><div class="block"><ul><li>Rapid incident detection</li><li>Reduces analyst workload</li></ul></div></details>
                        <details><summary>üìç Where it's used</summary><div class="block"><ul><li>SOC operations</li><li>Compliance monitoring</li></ul></div></details>
                        <details><summary>‚úÖ Best Practices</summary><div class="block"><div class="success"><ul><li>Establish clean baselines</li><li>Provide context with highlights</li></ul></div></div></details>
                        <details><summary>‚ö†Ô∏è How NOT to use</summary><div class="block"><div class="warning"><ul><li>Don't ignore false positive rates</li><li>Don't highlight without explanation</li></ul></div></div></details>
                    </article>

                    <article class="subject-card" id="spam-classifier">
                        <h3 class="subject-title">Spam/Phishing Classifier</h3>
                        <details><summary>üìò Notes</summary><div class="block"><p>Complete email classification system with feature extraction, model training, evaluation metrics, and deployment considerations.</p></div></details>
                        <details><summary>üß™ Examples</summary><div class="block"><p>End-to-end pipeline from dataset preparation through model evaluation, including precision/recall optimization for security use cases.</p></div></details>
                        <details><summary>‚ùì Why it's used</summary><div class="block"><ul><li>Automated email security</li><li>Scale email processing</li></ul></div></details>
                        <details><summary>üìç Where it's used</summary><div class="block"><ul><li>Email gateways</li><li>Enterprise security platforms</li></ul></div></details>
                        <details><summary>‚úÖ Best Practices</summary><div class="block"><div class="success"><ul><li>Balance precision and recall</li><li>Regular model retraining</li></ul></div></div></details>
                        <details><summary>‚ö†Ô∏è How NOT to use</summary><div class="block"><div class="warning"><ul><li>Don't ignore false positive impact</li><li>Don't train on imbalanced data</li></ul></div></div></details>
                    </article>

                    <article class="subject-card" id="image-classifier">
                        <h3 class="subject-title">Image Classifier</h3>
                        <details><summary>üìò Notes</summary><div class="block"><p>Transfer learning approach for security-related image classification, including malware visualization, document analysis, and CAPTCHA solving.</p></div></details>
                        <details><summary>üß™ Examples</summary><div class="block"><p>Pre-trained model adaptation, data augmentation for security datasets, and evaluation metrics for classification tasks.</p></div></details>
                        <details><summary>‚ùì Why it's used</summary><div class="block"><ul><li>Visual security analysis</li><li>Automated content filtering</li></ul></div></details>
                        <details><summary>üìç Where it's used</summary><div class="block"><ul><li>Malware analysis platforms</li><li>Content moderation systems</li></ul></div></details>
                        <details><summary>‚úÖ Best Practices</summary><div class="block"><div class="success"><ul><li>Use appropriate data augmentation</li><li>Validate on diverse test sets</li></ul></div></div></details>
                        <details><summary>‚ö†Ô∏è How NOT to use</summary><div class="block"><div class="warning"><ul><li>Don't ignore bias in training data</li><li>Don't assume perfect accuracy</li></ul></div></div></details>
                    </article>

                    <article class="subject-card" id="threat-intel">
                        <h3 class="subject-title">Mini Threat Intel Notes</h3>
                        <details><summary>üìò Notes</summary><div class="block"><p>Structured approach to collecting, analyzing, and sharing threat intelligence with IOC formats, attribution tracking, and actionable intelligence generation.</p></div></details>
                        <details><summary>üß™ Examples</summary><div class="block"><p>STIX/TAXII formats, IOC extraction pipelines, and threat intelligence platform integration examples.</p></div></details>
                        <details><summary>‚ùì Why it's used</summary><div class="block"><ul><li>Proactive threat hunting</li><li>Intelligence-driven defense</li></ul></div></details>
                        <details><summary>üìç Where it's used</summary><div class="block"><ul><li>Threat intelligence platforms</li><li>Incident response teams</li></ul></div></details>
                        <details><summary>‚úÖ Best Practices</summary><div class="block"><div class="success"><ul><li>Use standardized formats</li><li>Verify intelligence sources</li></ul></div></div></details>
                        <details><summary>‚ö†Ô∏è How NOT to use</summary><div class="block"><div class="warning"><ul><li>Don't share sensitive attribution data</li><li>Don't ignore source reliability</li></ul></div></div></details>
                    </article>

                    <article class="subject-card" id="study-tracker">
                        <h3 class="subject-title">Study Tracker & Portfolio Tips</h3>
                        <details><summary>üìò Notes</summary><div class="block"><p>Systematic approach to organizing cybersecurity learning, building portfolios, and presenting projects effectively to demonstrate skills to employers.</p></div></details>
                        <details><summary>üß™ Examples</summary><div class="block"><p>Project documentation templates, GitHub portfolio organization, and career development strategies for cybersecurity professionals.</p></div></details>
                        <details><summary>‚ùì Why it's used</summary><div class="block"><ul><li>Career development in cybersecurity</li><li>Skill demonstration to employers</li></ul></div></details>
                        <details><summary>üìç Where it's used</summary><div class="block"><ul><li>Job applications</li><li>Professional networking</li></ul></div></details>
                        <details><summary>‚úÖ Best Practices</summary><div class="block"><div class="success"><ul><li>Document learning journey</li><li>Build practical projects</li></ul></div></div></details>
                        <details><summary>‚ö†Ô∏è How NOT to use</summary><div class="block"><div class="warning"><ul><li>Don't exaggerate skills or experience</li><li>Don't ignore ethical considerations</li></ul></div></div></details>
                    </article>
                </div>

                <div class="checklist">
                    <h3>üìã Track 7 Study Checklist</h3>
                    <div class="checklist-grid">
                        <label class="checklist-item"><input type="checkbox"> Password Checker</label>
                        <label class="checklist-item"><input type="checkbox"> Port Scanner</label>
                        <label class="checklist-item"><input type="checkbox"> Log Anomaly</label>
                        <label class="checklist-item"><input type="checkbox"> Spam Classifier</label>
                        <label class="checklist-item"><input type="checkbox"> Image Classifier</label>
                        <label class="checklist-item"><input type="checkbox"> Threat Intel</label>
                        <label class="checklist-item"><input type="checkbox"> Study Tracker</label>
                    </div>
                </div>
            </section>

        </main>

        <!-- Glossary -->
        <section class="glossary">
            <h2 class="track-header">üìö Comprehensive Glossary</h2>
            <div class="glossary-grid">
                <div class="glossary-term">
                    <strong>API (Application Programming Interface)</strong>: Set of protocols and tools for building software applications, allowing different programs to communicate.
                </div>
                <div class="glossary-term">
                    <strong>Boolean Indexing</strong>: Selecting data based on True/False conditions, commonly used in NumPy and Pandas.
                </div>
                <div class="glossary-term">
                    <strong>Cross-Validation</strong>: Technique to assess model performance by training and testing on different data subsets.
                </div>
                <div class="glossary-term">
                    <strong>DataFrame</strong>: Two-dimensional labeled data structure in Pandas, similar to a spreadsheet or SQL table.
                </div>
                <div class="glossary-term">
                    <strong>Encryption</strong>: Process of converting readable data into coded format to prevent unauthorized access.
                </div>
                <div class="glossary-term">
                    <strong>Feature Engineering</strong>: Process of selecting, modifying, or creating variables for machine learning models.
                </div>
                <div class="glossary-term">
                    <strong>Git</strong>: Distributed version control system for tracking changes in source code during software development.
                </div>
                <div class="glossary-term">
                    <strong>Hash Function</strong>: Mathematical function that converts input data into fixed-size string of characters.
                </div>
                <div class="glossary-term">
                    <strong>IDE (Integrated Development Environment)</strong>: Software application providing comprehensive facilities for software development.
                </div>
                <div class="glossary-term">
                    <strong>JSON (JavaScript Object Notation)</strong>: Lightweight data interchange format that's easy to read and write.
                </div>
                <div class="glossary-term">
                    <strong>K-means</strong>: Clustering algorithm that partitions data into k clusters based on feature similarity.
                </div>
                <div class="glossary-term">
                    <strong>Lambda Function</strong>: Anonymous function in Python, defined with the lambda keyword for simple operations.
                </div>
                <div class="glossary-term">
                    <strong>Machine Learning</strong>: Field of AI that enables computers to learn and make decisions from data without explicit programming.
                </div>
                <div class="glossary-term">
                    <strong>Neural Network</strong>: Computing system inspired by biological neural networks, used in deep learning.
                </div>
                <div class="glossary-term">
                    <strong>OWASP</strong>: Open Web Application Security Project, provides security guidance and tools for web applications.
                </div>
                <div class="glossary-term">
                    <strong>Python</strong>: High-level programming language known for its simplicity and versatility in various domains.
                </div>
                <div class="glossary-term">
                    <strong>Query</strong>: Request for data or information from a database or data structure.
                </div>
                <div class="glossary-term">
                    <strong>Regression</strong>: Statistical method for modeling relationships between variables and predicting continuous values.
                </div>
                <div class="glossary-term">
                    <strong>SQL Injection</strong>: Security vulnerability where malicious SQL code is inserted into application queries.
                </div>
                <div class="glossary-term">
                    <strong>Tuple</strong>: Immutable sequence data type in Python, defined with parentheses (1, 2, 3).
                </div>
                <div class="glossary-term">
                    <strong>URL (Uniform Resource Locator)</strong>: Web address that specifies the location of a resource on the internet.
                </div>
                <div class="glossary-term">
                    <strong>Vectorization</strong>: Process of applying operations to entire arrays or datasets at once, improving performance.
                </div>
                <div class="glossary-term">
                    <strong>Web Scraping</strong>: Technique for extracting data from websites programmatically.
                </div>
                <div class="glossary-term">
                    <strong>XSS (Cross-Site Scripting)</strong>: Security vulnerability where malicious scripts are injected into trusted websites.
                </div>
            </div>
        </section>

        <footer style="text-align: center; padding: 30px; color: rgba(255,255,255,0.8);">
            <p>üìö Complete Python ‚Üí AI/ML ‚Üí Cybersecurity Study Hub | Built for comprehensive learning</p>
            <p>Keep practicing, stay curious, and build amazing projects! üöÄ</p>
        </footer>
    </div>
</body>
</html>